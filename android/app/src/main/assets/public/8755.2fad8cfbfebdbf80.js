"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8755],{8755:(M,d,a)=>{a.r(d),a.d(d,{AgendaCustodeDetailsPageModule:()=>T});var c=a(9808),p=a(4182),t=a(5362),u=a(2028),m=a(8698),g=a(2274),P=a(1247),n=a(2096);function z(o,r){if(1&o&&(n.TgZ(0,"p"),n._UZ(1,"ion-icon",5),n.TgZ(2,"span"),n._uU(3),n.qZA()()),2&o){const i=n.oxw();n.xp6(3),n.Oqu(i.description)}}let C=(()=>{class o{constructor(){this.onDismiss=new n.vpe}ngOnInit(){}onClickBtn(){this.onDismiss.emit(this.value)}onClickBackdrop(){this.onDismiss.emit(void 0)}}return o.\u0275fac=function(i){return new(i||o)},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-alert-input-prezzo"]],inputs:{placeholder:"placeholder",description:"description",btnText:"btnText"},outputs:{onDismiss:"onDismiss"},decls:9,vars:10,consts:[[1,"input-prezzo"],[3,"tappable","visible","stopPropagation","ionBackdropTap"],[4,"ngIf"],["clearInput","true","inputmode","numeric",3,"placeholder","ngModel","ngModelChange"],["expand","block","color","primary","fill","clear",3,"click"],["name","information-circle-outline","color","primary"]],template:function(i,e){1&i&&(n.TgZ(0,"div",0)(1,"ion-backdrop",1),n.NdJ("ionBackdropTap",function(){return e.onClickBackdrop()}),n.qZA(),n.TgZ(2,"ion-card")(3,"ion-card-content"),n.YNc(4,z,4,1,"p",2),n.TgZ(5,"ion-input",3),n.NdJ("ngModelChange",function(s){return e.value=s}),n.ALo(6,"currency"),n.qZA(),n.TgZ(7,"ion-button",4),n.NdJ("click",function(){return e.onClickBtn()}),n._uU(8),n.qZA()()()()),2&i&&(n.xp6(1),n.Q6J("tappable",!0)("visible",!0)("stopPropagation",!0),n.xp6(3),n.Q6J("ngIf",e.description),n.xp6(1),n.Q6J("placeholder",n.xi3(6,7,e.placeholder,"EUR"))("ngModel",e.value),n.xp6(3),n.hij(" ",e.btnText?e.btnText:"Conferma"," "))},directives:[t.ql,t.PM,t.FN,c.O5,t.gu,t.pK,t.j9,p.JJ,p.On,t.YG],pipes:[c.H9],styles:[".input-prezzo[_ngcontent-%COMP%]{position:absolute;display:flex;top:0px;bottom:0px;left:0px;right:0px}.input-prezzo[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{margin:auto;z-index:30;width:260px}.input-prezzo[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{font-size:30px}.input-prezzo[_ngcontent-%COMP%]   ion-backdrop[_ngcontent-%COMP%]{opacity:.3;z-index:20}"]}),o})();var _=a(4737);function f(o,r){if(1&o){const i=n.EpF();n.TgZ(0,"app-alert-input-prezzo",24),n.NdJ("onDismiss",function(l){return n.CHM(i),n.oxw().dismissInputPrezzo(l)}),n.qZA()}if(2&o){const i=n.oxw();n.Q6J("placeholder",i.myPianificazione._INCASSOCUSTODE)}}function h(o,r){if(1&o&&(n.TgZ(0,"ion-chip",1),n._UZ(1,"ion-icon",25),n.TgZ(2,"ion-label"),n._uU(3),n.qZA()()),2&o){const i=n.oxw();n.xp6(3),n.Oqu(null==i.myPrenotazione?null:i.myPrenotazione.MOBILENUMBER)}}const A=[{path:"",component:(()=>{class o{constructor(i,e,l,s,Z,I){this.activatedRoute=i,this.navController=e,this.startService=l,this.loadingController=s,this.toastController=Z,this.alertController=I,this._showInputPrezzo=!1,this.myToday=new Date,this.myPianificazione=new g._,this.myPrenotazione=new m.i}ngOnInit(){this.subParaMap=this.activatedRoute.paramMap.subscribe(i=>{i.has("idPianificazione")?(this.selectedIdPianificazione=i.get("idPianificazione"),this.updateOccupazione(this.selectedIdPianificazione)):this.navController.pop()})}updateOccupazione(i){this.loadingController.create({message:"Caricamento",spinner:"circular",backdropDismiss:!0}).then(e=>e.present()).then(()=>this.startService.requestOccupazioneById(i,!0)).then(e=>{this.loadingController.dismiss(),this.myOccupazione=e,this.myPrenotazione=e.getDocInRepository(e.IDREF),this.myPianificazione=this.myPrenotazione.getPianificazione(this.myOccupazione.ID),this.myPianificazione._INCASSOCUSTODE=this.myPianificazione.RESIDUO}).catch(e=>{this.loadingController.dismiss(),console.log(e),this.navController.pop()})}onClickConferma(){this.alertController.create({header:"Sei sicuro",message:"Una volta confermato l'importo, non potrai pi\xf9 modificarlo",buttons:[{text:"Conferma",handler:()=>{this.onSubmit()}},{text:"Annulla",role:"cancel"}]}).then(e=>{e.present()})}onSubmit(){this.canEditData()&&this.navController.pop()}ngOnDestroy(){this.subParaMap.unsubscribe()}getIcon(i){return this.startService.getSportIcon(i)}onChangedNumPlayer(i){this.myPianificazione.NUMPARTECIPANTI=i}showInputPrezzo(){this._showInputPrezzo=!0}dismissInputPrezzo(i){i&&(this.myPianificazione._INCASSOCUSTODE=i),this._showInputPrezzo=!1}canEditData(){return this.myPrenotazione.DATA<=this.myToday}}return o.\u0275fac=function(i){return new(i||o)(n.Y36(u.gz),n.Y36(t.SH),n.Y36(P.D),n.Y36(t.HT),n.Y36(t.yF),n.Y36(t.Br))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-agenda-custode-details"]],decls:90,vars:53,consts:[["description","Inserisci l'importo incassato per questa prenotazione",3,"placeholder","onDismiss",4,"ngIf"],["color","primary"],["slot","start"],["defaultHref","/home"],[1,"info-list"],["color","light"],["button","",1,"item-nominativo",3,"href"],["color","primary",4,"ngIf"],[1,"item-sport"],[1,"icon-sport"],[3,"innerHTML"],[1,"item-data"],[1,"checkout-grid"],[1,"row-persone"],[3,"numPlayer","changeNumPlayer"],[1,"row-importi-1"],["button","","disabled",""],[1,"label-info"],[1,"label-importo"],[1,"row-importi-2"],["button","",3,"click"],[3,"color"],["color","primary","expand","block",3,"disabled","click"],["slot","start","name","checkmark-circle-outline"],["description","Inserisci l'importo incassato per questa prenotazione",3,"placeholder","onDismiss"],["name","call"]],template:function(i,e){1&i&&(n.YNc(0,f,1,1,"app-alert-input-prezzo",0),n.TgZ(1,"ion-header")(2,"ion-toolbar",1)(3,"ion-buttons",2),n._UZ(4,"ion-back-button",3),n.qZA(),n.TgZ(5,"ion-title"),n._uU(6),n.qZA()()(),n.TgZ(7,"ion-content")(8,"ion-list",4)(9,"ion-item-divider",5),n._uU(10,"INFO PRENOTAZIONE:"),n.qZA(),n.TgZ(11,"ion-item",6)(12,"ion-label"),n._uU(13),n.ALo(14,"titlecase"),n.qZA(),n.YNc(15,h,4,1,"ion-chip",7),n.qZA(),n.TgZ(16,"ion-item",8)(17,"ion-label"),n._uU(18),n.ALo(19,"titlecase"),n.qZA(),n.TgZ(20,"ion-chip",1)(21,"i",9),n._UZ(22,"span",10),n.qZA()()(),n.TgZ(23,"ion-item",11)(24,"ion-label")(25,"h2"),n._uU(26),n.ALo(27,"titlecase"),n.ALo(28,"date"),n.qZA(),n.TgZ(29,"p"),n._uU(30),n.ALo(31,"date"),n.ALo(32,"date"),n.qZA()(),n.TgZ(33,"ion-chip",1),n._uU(34),n.qZA()(),n.TgZ(35,"ion-item")(36,"ion-label")(37,"h2"),n._uU(38),n.qZA(),n.TgZ(39,"p"),n._uU(40),n.ALo(41,"titlecase"),n.qZA(),n.TgZ(42,"p"),n._uU(43),n.ALo(44,"titlecase"),n.qZA()()()(),n.TgZ(45,"ion-item-divider",5),n._uU(46,"CHECKOUT:"),n.qZA(),n.TgZ(47,"ion-grid",12)(48,"ion-row",13)(49,"ion-col")(50,"app-player-number",14),n.NdJ("changeNumPlayer",function(s){return e.onChangedNumPlayer(s)}),n.qZA()()(),n.TgZ(51,"ion-row",15)(52,"ion-col")(53,"ion-card",16)(54,"ion-label",17),n._uU(55,"Totale prenotazione: "),n.qZA(),n.TgZ(56,"ion-card-content")(57,"ion-label",18),n._uU(58),n.ALo(59,"currency"),n.qZA()()()(),n.TgZ(60,"ion-col")(61,"ion-card",16)(62,"ion-label",17),n._uU(63,"Incassato precedentemente:"),n.qZA(),n.TgZ(64,"ion-card-content")(65,"ion-label",18),n._uU(66),n.ALo(67,"currency"),n.qZA()()()()(),n.TgZ(68,"ion-row",19)(69,"ion-col")(70,"ion-card",16)(71,"ion-label",17),n._uU(72,"Residuo da incassare:"),n.qZA(),n.TgZ(73,"ion-card-content")(74,"ion-label",18),n._uU(75),n.ALo(76,"currency"),n.qZA()()()(),n.TgZ(77,"ion-col")(78,"ion-card",20),n.NdJ("click",function(){return e.showInputPrezzo()}),n.TgZ(79,"ion-label",17),n._uU(80,"Incassato: "),n.qZA(),n.TgZ(81,"ion-card-content")(82,"ion-label",18)(83,"ion-text",21),n._uU(84),n.ALo(85,"currency"),n.qZA()()()()()()()(),n.TgZ(86,"ion-footer")(87,"ion-button",22),n.NdJ("click",function(){return e.onClickConferma()}),n._UZ(88,"ion-icon",23),n._uU(89," Conferma "),n.qZA()()),2&i&&(n.Q6J("ngIf",e._showInputPrezzo),n.xp6(6),n.hij("Prenotazione ",e.myPianificazione.PROGRESSIVO,""),n.xp6(5),n.Q6J("href",e.myPrenotazione.MOBILENUMBER?"tel:"+e.myPrenotazione.MOBILENUMBER:""),n.xp6(2),n.Oqu(n.lcZ(14,22,null==e.myPrenotazione?null:e.myPrenotazione.NOMINATIVO)),n.xp6(2),n.Q6J("ngIf",e.myPrenotazione.MOBILENUMBER),n.xp6(3),n.Oqu(n.lcZ(19,24,e.myPianificazione._DENOMINAZIONE_Sport)),n.xp6(4),n.Q6J("innerHTML",e.getIcon(null==e.myPianificazione?null:e.myPianificazione.IDSPORT),n.oJD),n.xp6(4),n.Oqu(n.lcZ(27,26,n.xi3(28,28,null==e.myPianificazione?null:e.myPianificazione.DATAORAINIZIO,"EEEE dd/LL/yyyy"))),n.xp6(4),n.AsE("dalle ",n.xi3(31,31,null==e.myPianificazione?null:e.myPianificazione.DATAORAINIZIO,"HH:mm")," alle ",n.xi3(32,34,null==e.myPianificazione?null:e.myPianificazione.DATAORAFINE,"HH:mm")," "),n.xp6(4),n.AsE(" ",null==e.myPianificazione?null:e.myPianificazione.DURATAORE," ",1==(null==e.myPianificazione?null:e.myPianificazione.DURATAORE)?"Ora":"Ore"," "),n.xp6(4),n.Oqu(e.myPianificazione._DENOMINAZIONE_Campo),n.xp6(2),n.Oqu(n.lcZ(41,37,e.myPianificazione._COMUNE_Location)),n.xp6(3),n.Oqu(n.lcZ(44,39,e.myPianificazione._INDIRIZZO_Location)),n.xp6(7),n.Q6J("numPlayer",e.myPianificazione.NUMPARTECIPANTI),n.xp6(8),n.Oqu(n.xi3(59,41,e.myPianificazione.TOTALE,"EUR")),n.xp6(8),n.hij(" ",n.xi3(67,44,e.myPianificazione.INCASSATO,"EUR")," "),n.xp6(9),n.Oqu(n.xi3(76,47,e.myPianificazione.RESIDUO,"EUR")),n.xp6(8),n.Q6J("color",e.myPianificazione.RESIDUO==e.myPianificazione._INCASSOCUSTODE?"success":"danger"),n.xp6(1),n.hij(" ",n.xi3(85,50,e.myPianificazione._INCASSOCUSTODE,"EUR")," "),n.xp6(3),n.Q6J("disabled",!e.canEditData()))},directives:[c.O5,C,t.Gu,t.sr,t.Sm,t.oU,t.cs,t.wd,t.W2,t.q_,t.rH,t.Ie,t.Q$,t.hM,t.gu,t.jY,t.Nd,t.wI,_.E,t.PM,t.FN,t.yW,t.fr,t.YG],pipes:[c.rS,c.uU,c.H9],styles:[".info-list[_ngcontent-%COMP%]   .item-nominativo[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%], .info-list[_ngcontent-%COMP%]   .item-data[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]{font-weight:700}.info-list[_ngcontent-%COMP%]   .item-sport[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.checkout-grid[_ngcontent-%COMP%]   .row-persone[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{height:70px}.checkout-grid[_ngcontent-%COMP%]   .row-importi-1[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{display:flex;padding-top:8px}.checkout-grid[_ngcontent-%COMP%]   .row-importi-1[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-label.label-importo[_ngcontent-%COMP%]{margin:auto;display:table;font-size:22px}.checkout-grid[_ngcontent-%COMP%]   .row-importi-1[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-label.label-info[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;font-size:12px}.checkout-grid[_ngcontent-%COMP%]   .row-importi-2[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{height:100px;display:flex}.checkout-grid[_ngcontent-%COMP%]   .row-importi-2[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-label.label-importo[_ngcontent-%COMP%]{margin:auto;display:table;font-size:38px}.checkout-grid[_ngcontent-%COMP%]   .row-importi-2[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-label.label-info[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px}"]}),o})()}];let O=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[[u.Bz.forChild(A)],u.Bz]}),o})();var y=a(933);let T=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[[c.ez,p.u5,t.Pc,O,y.q]]}),o})()}}]);