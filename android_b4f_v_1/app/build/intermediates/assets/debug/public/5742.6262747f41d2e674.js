"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5742],{95742:(B,O,c)=>{c.r(O),c.d(O,{ListValutazioniPageModule:()=>j});var m=c(69808),h=c(52382),l=c(7706),f=c(2840),C=c(69214),P=c(77266),I=c(13396),_=c(52015),r=c(34021);class p{static getParamsPianificazioneCorso(i){let o;return o=new p,o.oraInizio=i.DATAORAINIZIO,o.oraFine=i.DATAORAFINE,o.riga1Text=i._DENOMINAZIONE_Corso,o.riga2Text=i._DENOMINAZIONE_Location,o.riga3Text=i._DENOMINAZIONE_Campo,o.badgeText=i.getDocPropertyInRepository(["IDCORSO","IDLIVELLOENTRATA"],"DENOMINAZIONE"),o.badgeColor="primary",o}get isPast(){let i=new Date;return this.oraFine<i}static getParamsOccupazioneCampo(i){let o=new p;return o.oraInizio=i.DATAORAINIZIO,o.oraFine=i.DATAORAFINE,i.TIPO==r.bS.settoreCorso?(o.riga1Text=i.getDocPropertyInRepository(["IDREF"],"DENOMINAZIONE"),o.badgeIcon="school-outline"):i.TIPO==r.bS.settorePrenotazione&&(o.riga1Text=i.getDocPropertyInRepository(["IDREF"],"NOMINATIVO"),o.badgeIcon="calendar-outline"),o.riga2Text=`${i._DENOMINAZIONE_Location} - ${i._DENOMINAZIONE_Campo}`,o.riga3Text=C.GA.formatDate(i.DATAINIZIO,"dd/MM/yyyy"),o.badgeColor="primary",o}}var d=c(69129),M=c(59442),A=c(55351),v=c(75822),T=c(1823),x=c(43939),t=c(31223);function b(n,i){if(1&n&&(t.TgZ(0,"h5")(1,"span"),t._uU(2),t.ALo(3,"lowercase"),t.ALo(4,"date"),t.qZA(),t._uU(5),t.ALo(6,"titlecase"),t.ALo(7,"date"),t.qZA()),2&n){const o=t.oxw(2);t.xp6(2),t.hij("",t.lcZ(3,2,t.xi3(4,4,o.myCorso.DATAFINE,"EEE")),"\xa0"),t.xp6(3),t.hij(" ",t.lcZ(6,7,t.xi3(7,9,o.myCorso.DATAFINE,"d MMM yy"))," ")}}function y(n,i){1&n&&(t.TgZ(0,"ion-chip",14)(1,"span"),t._uU(2,"PROVA"),t.qZA()())}function Z(n,i){if(1&n&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&n){const o=t.oxw(2);t.xp6(1),t.Oqu(o.labelSport)}}function L(n,i){if(1&n&&(t.TgZ(0,"ion-chip",6)(1,"ion-label")(2,"h4")(3,"strong"),t._uU(4),t.qZA()()()()),2&n){const o=t.oxw(2);t.Q6J("color",o.colorItem()),t.xp6(4),t.Oqu(o.labelLivello)}}function N(n,i){if(1&n&&(t.TgZ(0,"h5"),t._uU(1),t.qZA()),2&n){const o=t.oxw(2);t.xp6(1),t.Oqu(o.labelLocation)}}function z(n,i){if(1&n){const o=t.EpF();t.TgZ(0,"div",1),t.NdJ("click",function(s){t.CHM(o);const a=t.oxw();return t.KtG(a.onClick(s))}),t.TgZ(1,"ion-grid",2)(2,"ion-row")(3,"ion-col",3)(4,"ion-label",4)(5,"h5")(6,"span"),t._uU(7),t.ALo(8,"lowercase"),t.ALo(9,"date"),t.qZA(),t._uU(10),t.ALo(11,"titlecase"),t.ALo(12,"date"),t.qZA(),t.YNc(13,b,8,12,"h5",5),t.TgZ(14,"ion-chip",6)(15,"ion-label")(16,"h5"),t._uU(17),t.ALo(18,"date"),t.qZA()(),t._UZ(19,"ion-icon",7),t.qZA()()(),t.TgZ(20,"ion-col",8)(21,"ion-label")(22,"p",9),t.YNc(23,y,3,0,"ion-chip",10),t.TgZ(24,"span")(25,"strong"),t._uU(26),t.qZA()()(),t.TgZ(27,"h4",11),t._uU(28),t.qZA(),t.YNc(29,Z,2,1,"p",5),t.qZA()(),t.TgZ(30,"ion-col",12)(31,"ion-label"),t.YNc(32,L,5,2,"ion-chip",13),t.YNc(33,N,2,1,"h5",5),t.qZA()()()()()}if(2&n){const o=t.oxw();t.xp6(7),t.hij("",t.lcZ(8,12,t.xi3(9,14,o.myCorso.DATAINIZIO,"EEE")),"\xa0"),t.xp6(3),t.hij(" ",t.lcZ(11,17,t.xi3(12,19,o.myCorso.DATAINIZIO,"d MMM yy"))," "),t.xp6(3),t.Q6J("ngIf",1!=o.myCorso.NUMEROLEZIONI),t.xp6(1),t.Q6J("color",o.colorItem()),t.xp6(3),t.Oqu(t.xi3(18,22,o.myCorso.ORAINIZIO,"HH:mm")),t.xp6(3),t.Q6J("ngClass",o.getClassColorColumn()),t.xp6(3),t.Q6J("ngIf",o.valueTipoCorso==o.tipoCorso.prova),t.xp6(3),t.Oqu(o.labelSiglaCalendario),t.xp6(2),t.Oqu(o.labelDenominazioneCorso),t.xp6(1),t.Q6J("ngIf",0!=o.labelSport.length),t.xp6(3),t.Q6J("ngIf",0!=o.labelLivello.length),t.xp6(1),t.Q6J("ngIf",0!=o.labelLocation.length)}}function D(n,i){if(1&n&&(t.TgZ(0,"h5"),t._uU(1),t.TgZ(2,"span"),t._uU(3,"\xa0minuti"),t.qZA()()),2&n){const o=t.oxw(2);t.xp6(1),t.hij(" ",o.myPianificazione.getMinutiLezione()," ")}}function S(n,i){1&n&&(t.TgZ(0,"ion-chip",14)(1,"span"),t._uU(2,"PROVA"),t.qZA()())}function q(n,i){if(1&n&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&n){const o=t.oxw(2);t.xp6(1),t.Oqu(o.labelSport)}}function E(n,i){if(1&n&&(t.TgZ(0,"ion-chip",6)(1,"ion-label")(2,"h4")(3,"strong"),t._uU(4),t.qZA()()()()),2&n){const o=t.oxw(2);t.Q6J("color",o.colorItem()),t.xp6(4),t.Oqu(o.labelLivello)}}function R(n,i){if(1&n&&(t.TgZ(0,"h5",9)(1,"strong"),t._uU(2),t.qZA()()),2&n){const o=t.oxw(2);t.xp6(2),t.Oqu(o.labelLocation)}}function V(n,i){if(1&n&&(t.TgZ(0,"p",9)(1,"strong"),t._uU(2),t.qZA()()),2&n){const o=t.oxw(2);t.xp6(2),t.Oqu(o.labelCampo)}}function w(n,i){if(1&n){const o=t.EpF();t.TgZ(0,"div",1),t.NdJ("click",function(s){t.CHM(o);const a=t.oxw();return t.KtG(a.onClick(s))}),t.TgZ(1,"ion-grid",2)(2,"ion-row",15)(3,"ion-col",3)(4,"ion-label",4)(5,"h5")(6,"span"),t._uU(7),t.ALo(8,"lowercase"),t.ALo(9,"date"),t.qZA(),t._uU(10),t.ALo(11,"titlecase"),t.ALo(12,"date"),t.qZA(),t.TgZ(13,"ion-chip",6)(14,"ion-label")(15,"h4"),t._uU(16),t.ALo(17,"date"),t.qZA()(),t._UZ(18,"ion-icon",7),t.qZA(),t.YNc(19,D,4,1,"h5",5),t.qZA()(),t.TgZ(20,"ion-col",8)(21,"ion-label")(22,"p",9),t.YNc(23,S,3,0,"ion-chip",10),t.TgZ(24,"span")(25,"strong"),t._uU(26),t.qZA()()(),t.TgZ(27,"h4",11),t._uU(28),t.qZA(),t.YNc(29,q,2,1,"p",5),t.qZA()(),t.TgZ(30,"ion-col",12)(31,"ion-label"),t.YNc(32,E,5,2,"ion-chip",13),t.YNc(33,R,3,1,"h5",16),t.YNc(34,V,3,1,"p",16),t.qZA()()()()()}if(2&n){const o=t.oxw();t.xp6(7),t.hij("",t.lcZ(8,13,t.xi3(9,15,o.myPianificazione.DATAORAINIZIO,"EEE")),"\xa0"),t.xp6(3),t.hij(" ",t.lcZ(11,18,t.xi3(12,20,o.myPianificazione.DATAORAINIZIO,"d MMM yy"))," "),t.xp6(3),t.Q6J("color",o.colorItem()),t.xp6(3),t.Oqu(t.xi3(17,23,o.myPianificazione.DATAORAINIZIO,"HH:mm")),t.xp6(3),t.Q6J("ngIf",0!=o.myPianificazione.getMinutiLezione()),t.xp6(1),t.Q6J("ngClass",o.getClassColorColumn()),t.xp6(3),t.Q6J("ngIf",o.valueTipoCorso==o.tipoCorso.prova),t.xp6(3),t.Oqu(o.labelSiglaCalendario),t.xp6(2),t.Oqu(o.labelDenominazioneCorso),t.xp6(1),t.Q6J("ngIf",0!=o.labelSport.length),t.xp6(3),t.Q6J("ngIf",0!=o.labelLivello.length),t.xp6(1),t.Q6J("ngIf",0!=o.labelLocation.length),t.xp6(1),t.Q6J("ngIf",0!=o.labelCampo.length)}}let J=(()=>{class n{constructor(){this.typeList="corsi",this.tipoCorso=r.oG,this.labelSiglaCalendario="",this.labelDenominazioneCorso="",this.labelLocation="",this.labelLivello="",this.labelCampo="",this.labelSport="",this.click=new t.vpe}set myDocument(o){o instanceof _._?(this.myCorso=o,this.typeList="corsi"):o instanceof M.N&&(this.myPianificazione=o,this.typeList="pianificazioni"),this.setLabel()}ngOnInit(){}onClick(o){o&&o.stopPropagation(),this.click.emit()}colorItem(){let o,e="success";switch(o=r.Gh.PASSATO,this.typeList){case"corsi":this.myCorso&&(o=this.myCorso.tempoCorso());break;case"pianificazioni":this.myPianificazione&&(o=this.myPianificazione.tempoCorso());break;default:o=r.Gh.PASSATO}switch(o){case r.Gh.FUTURO:e="warning";break;case r.Gh.IN_CORSO:e="success";break;case r.Gh.PASSATO:e="danger"}return e}getClassColorColumn(){let o;switch(o=r.Gh.PASSATO,this.typeList){case"corsi":this.myCorso&&(o=this.myCorso.tempoCorso());break;case"pianificazioni":this.myPianificazione&&(o=this.myPianificazione.tempoCorso());break;default:o=r.Gh.PASSATO}return o}setLabel(){let o="";this.labelSiglaCalendario="",this.labelDenominazioneCorso="",this.valueTipoCorso=null,this.labelLocation="",this.labelLivello="",this.labelCampo="",this.labelSport="",this.myCorso?(o="SIGLACALENDARIO",this.labelSiglaCalendario=this.nullValue(this.myCorso[o]),o="DENOMINAZIONE",this.labelDenominazioneCorso=this.nullValue(this.myCorso[o]),o="TIPO",this.valueTipoCorso=this.myCorso[o],o="_DENOMINAZIONE_Location",this.labelLocation=this.nullValue(this.myCorso[o]),o="_DENOMINAZIONE_Livello",this.labelLivello=this.nullValue(this.myCorso[o]),o="_DENOMINAZIONE_Sport",this.labelSport=this.nullValue(this.myCorso[o])):this.myPianificazione&&(this.labelSiglaCalendario=this.nullValue(this.myPianificazione.getDocPropertyInRepository(["IDCORSO"],"SIGLACALENDARIO")),o="_DENOMINAZIONE_Corso",this.labelDenominazioneCorso=this.nullValue(this.myPianificazione[o]),this.valueTipoCorso=this.myPianificazione.getDocPropertyInRepository(["IDCORSO"],"TIPO"),o="_DENOMINAZIONE_Location",this.labelLocation=this.nullValue(this.myPianificazione[o]),this.labelLivello=this.nullValue(this.myPianificazione.getDocPropertyInRepository(["IDCORSO","IDLIVELLOENTRATA"],"DENOMINAZIONE")),this.labelSport=this.nullValue(this.myPianificazione.getDocPropertyInRepository(["IDCORSO","IDSPORT"],"DENOMINAZIONE")),o="_DENOMINAZIONE_Campo",this.labelCampo=this.nullValue(this.myPianificazione[o]))}nullValue(o){return o||""}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-item-trainer-corso"]],inputs:{myDocument:"myDocument"},outputs:{click:"click"},decls:2,vars:2,consts:[["class","custom-element",3,"click",4,"ngIf"],[1,"custom-element",3,"click"],[1,"ion-no-padding"],["size","3",1,"ion-no-padding","col-left"],[1,"center-label"],[4,"ngIf"],[3,"color"],["name","time-outline"],["size","5",1,"ion-no-padding","col-center",3,"ngClass"],[1,"text-truncate"],["color","warning",4,"ngIf"],[1,"ion-text-wrap"],["size","4",1,"ion-no-padding","col-right"],[3,"color",4,"ngIf"],["color","warning"],[1,"ion-align-items-center"],["class","text-truncate",4,"ngIf"]],template:function(o,e){1&o&&(t.YNc(0,z,34,25,"div",0),t.YNc(1,w,35,26,"div",0)),2&o&&(t.Q6J("ngIf","corsi"==e.typeList),t.xp6(1),t.Q6J("ngIf","pianificazioni"==e.typeList))},dependencies:[l.hM,l.wI,l.jY,l.gu,l.Q$,l.Nd,m.mk,m.O5,m.i8,m.rS,m.uU],styles:["h2[_ngcontent-%COMP%]{font-size:16px}h3[_ngcontent-%COMP%]{color:gray;font-size:12px;font-weight:480}h4[_ngcontent-%COMP%]{font-size:14px}div.custom-element[_ngcontent-%COMP%]{cursor:pointer;padding:8px 5px;border-bottom:1px;border-bottom-style:solid;border-bottom-color:#b5b5b5}div.custom-element[_ngcontent-%COMP%]   ion-col.col-left[_ngcontent-%COMP%]{padding-right:0}div.custom-element[_ngcontent-%COMP%]   ion-col.col-left[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{text-align:left}div.custom-element[_ngcontent-%COMP%]   ion-col.col-left[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:large}div.custom-element[_ngcontent-%COMP%]   ion-col.col-left[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:medium}div.custom-element[_ngcontent-%COMP%]   ion-col.col-left[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:medium}div.custom-element[_ngcontent-%COMP%]   ion-col.col-left[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:small}div.custom-element[_ngcontent-%COMP%]   ion-col.col-left[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:small}div.custom-element[_ngcontent-%COMP%]   ion-col.col-left[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:x-small}div.custom-element[_ngcontent-%COMP%]   ion-col.col-left[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:x-small}div.custom-element[_ngcontent-%COMP%]   ion-col.col-left[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:700}div.custom-element[_ngcontent-%COMP%]   ion-col.col-center[_ngcontent-%COMP%]{padding-left:0}div.custom-element[_ngcontent-%COMP%]   ion-col.col-center[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:x-small;color:#727272}div.custom-element[_ngcontent-%COMP%]   ion-col.col-center[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:large}div.custom-element[_ngcontent-%COMP%]   ion-col.col-center[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:medium}div.custom-element[_ngcontent-%COMP%]   ion-col.col-center[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:small}div.custom-element[_ngcontent-%COMP%]   ion-col.col-center[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:x-small}div.custom-element[_ngcontent-%COMP%]   ion-col.col-center[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;font-size:x-small}div.custom-element[_ngcontent-%COMP%]   ion-col.col-center.undef[_ngcontent-%COMP%]{border-left-color:var(--ion-color-primary)}div.custom-element[_ngcontent-%COMP%]   ion-col.col-center.concluso[_ngcontent-%COMP%]{border-left-color:var(--ion-color-danger)}div.custom-element[_ngcontent-%COMP%]   ion-col.col-center.futuro[_ngcontent-%COMP%]{border-left-color:var(--ion-color-warning)}div.custom-element[_ngcontent-%COMP%]   ion-col.col-center.incorso[_ngcontent-%COMP%]{border-left-color:var(--ion-color-success)}div.custom-element[_ngcontent-%COMP%]   ion-col.col-right[_ngcontent-%COMP%]{text-align:center;padding-left:0}div.custom-element[_ngcontent-%COMP%]   ion-col.col-right[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:x-small;color:#727272}div.custom-element[_ngcontent-%COMP%]   ion-col.col-right[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:large}div.custom-element[_ngcontent-%COMP%]   ion-col.col-right[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:medium}div.custom-element[_ngcontent-%COMP%]   ion-col.col-right[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:small}div.custom-element[_ngcontent-%COMP%]   ion-col.col-right[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:x-small}div.custom-element[_ngcontent-%COMP%]   ion-col.col-right[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:xx-small}div.custom-element[_ngcontent-%COMP%]   .text-truncate[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}div.custom-element[_ngcontent-%COMP%]   ion-badge.badge-icon-only[_ngcontent-%COMP%]{font-size:30px}div.custom-element[_ngcontent-%COMP%]   ion-badge.badge-icon-only[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{padding-top:4px}"]}),n})();function U(n,i){if(1&n&&(t.TgZ(0,"ion-segment-button",9)(1,"ion-label"),t._uU(2),t.qZA(),t._UZ(3,"ion-icon",10),t.qZA()),2&n){const o=i.$implicit;t.Q6J("value",o),t.xp6(2),t.Oqu(o.title),t.xp6(1),t.Q6J("name",o.icon)}}function F(n,i){if(1&n){const o=t.EpF();t.TgZ(0,"app-item-trainer-corso",13),t.NdJ("click",function(){const a=t.CHM(o).$implicit,g=t.oxw(2);return t.KtG(g.onClickItemCorso(a))}),t.qZA()}2&n&&t.Q6J("myDocument",i.$implicit)}function Q(n,i){if(1&n&&(t.TgZ(0,"div",11)(1,"ion-list",11),t.YNc(2,F,1,1,"app-item-trainer-corso",12),t.qZA()()),2&n){const o=t.oxw();t.xp6(2),t.Q6J("ngForOf",o.myListCorsi)}}function k(n,i){1&n&&(t.TgZ(0,"div",14)(1,"ion-label"),t._uU(2,"Nessun corso trovato"),t.qZA()())}const Y=[{path:"",component:(()=>{class n{constructor(o,e,s,a,g){this.startService=o,this.navController=e,this.loadingController=s,this.modalController=a,this.docStructureService=g,this.lingua=r.SQ.italiano,this.utenteDoc=new A.o,this.valutazioniModes=[{value:r.Rd.passati,title:"Conclusi",icon:"stop-circle-outline"},{value:r.Rd.attivi,title:"In Esecuzione",icon:"play-circle-outline"},{value:r.Rd.futuri,title:"Futuri",icon:"play-forward-circle-outline"}],this.valutazioniSelectedMode=this.valutazioniModes[1],this.PageRangeSearch=r.p2,this.myListCorsi=[],this.emptyCardCorsi=null,this.emptyCardCorsi=T.L.asEmptyButtonCard("nessun corso presente"),this.onListenChangeListCorsi()}ngOnInit(){this.utenteDoc=this.startService.activeUtenteDoc,this.doRefresh(null)}ngOnDestroy(){this.subListenCorsi&&this.subListenCorsi.unsubscribe()}get backPathArray(){return["/","appstart-home","tab-agenda"]}get backButtonHref(){let o="";return o=this.backPathArray.join("/").substring(1),o}onGoToBack(){this.navController.navigateBack(this.backPathArray)}requestTimeCorsi(o){this.loadingController.create({message:"Caricamento...",spinner:"circular",backdropDismiss:!0}).then(e=>{o&&o.target&&o.target.complete(),this.myLoadingForCorsi=e,this.myLoadingForCorsi.present(),this.startService.requestTimeTrainerCourse(this.utenteDoc.ID,this.valutazioniSelectedMode.value)})}_requestCorsoDocFrom(o){let e,s,a;return new Promise(g=>{o?o instanceof _._?g(o):o instanceof M.N?(e=new _._(!0),e.ID=o.IDCORSO,a=new P.dR,a.active=!0,s=new P.Kl,s.decode=a,this.docStructureService.requestNew(e,s).then(u=>{g(u&&0!=u.length?u[0]:null)}).catch(u=>{d.M.consoleLog(u),g(null)})):g(null):g(null)})}onClickItemCorso(o){if(o&&0!=o.ID.length){let s=["/","appstart-home","tab-agenda","trainer","detail-valutazione",o.ID].join("/").substring(1);this.navController.navigateForward(s)}}showSchedaValutazioni(o){o&&this.loadingController.create({message:"Caricamento...",spinner:"circular",backdropDismiss:!0}).then(e=>{e.present(),this._requestCorsoDocFrom(o).then(s=>{s?this._requestAndOpenValutazione(s,e):(e.dismiss(),this.startService.presentToastMessage("Informazioni corso non trovate"))})})}_requestAndOpenValutazione(o,e){o?this.startService.requestSchedaValutazioneCorso(o.ID).then(s=>{this.startService.requestLivelliForSport(o.IDSPORT).then(a=>{e.dismiss(),this._openModaleSchedaValutazione(s,o,a)}).catch(a=>{e.dismiss(),d.M.consoleLog(a),this.startService.presentToastMessage("Recupero Livelli fallito")})}).catch(s=>{e.dismiss(),this.startService.presentAlertMessage("Si \xe8 verificato un errore"),d.M.consoleLog(s)}):e.dismiss()}_openModaleSchedaValutazione(o,e,s){o&&e&&this.modalController.create({component:x.I,componentProps:{docCorsoValutazione:o,docCorso:e,collLivelli:s}}).then(a=>{a.present()})}getItemParamsFromPianificazione(o){return p.getParamsPianificazioneCorso(o)}getIconSport(o){return this.startService.getSportIcon(o)}getColorIconCorso(o){let e="primary",s=new Date(C.GA.formatDateISO(new Date,"date"));return o&&(e=C.GA.isBefore(o.DATAFINE,s)?"danger":C.GA.isAfter(o.DATAINIZIO,s)?"warning":"success"),e}doRefresh(o){this.requestTimeCorsi(o)}onListenChangeListCorsi(){this.subListenCorsi=this.startService.listCorsiTrainer.subscribe(o=>{this.myListCorsi=o,this.myLoadingForCorsi&&this.myLoadingForCorsi.dismiss()},o=>{this.myListCorsi=[],this.myLoadingForCorsi&&this.myLoadingForCorsi.dismiss()})}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(v.D),t.Y36(l.SH),t.Y36(l.HT),t.Y36(l.IN),t.Y36(I.l))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-list-valutazioni"]],decls:16,vars:5,consts:[["color","primary"],["slot","start"],[3,"defaultHref"],["slot","fixed",3,"ionRefresh"],["sizeXs","12","sizeSm","12","sizeMd","12","sizeLg","6","offsetLg","3","sizeXl","6","offsetXl","3"],["mode","md","scrollable","true",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["class","ion-no-padding",4,"ngIf"],["class","nofind-cnt",4,"ngIf"],[3,"value"],[3,"name"],[1,"ion-no-padding"],[3,"myDocument","click",4,"ngFor","ngForOf"],[3,"myDocument","click"],[1,"nofind-cnt"]],template:function(o,e){1&o&&(t.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),t._UZ(3,"ion-back-button",2),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5,"Valutazioni"),t.qZA()()(),t.TgZ(6,"ion-content")(7,"ion-refresher",3),t.NdJ("ionRefresh",function(a){return e.doRefresh(a)}),t._UZ(8,"ion-refresher-content"),t.qZA(),t.TgZ(9,"ion-grid")(10,"ion-row")(11,"ion-col",4)(12,"ion-segment",5),t.NdJ("ngModelChange",function(){return e.requestTimeCorsi()})("ngModelChange",function(a){return e.valutazioniSelectedMode=a}),t.YNc(13,U,4,3,"ion-segment-button",6),t.qZA(),t.YNc(14,Q,3,1,"div",7),t.YNc(15,k,3,0,"div",8),t.qZA()()()()),2&o&&(t.xp6(3),t.Q6J("defaultHref",e.backButtonHref),t.xp6(9),t.Q6J("ngModel",e.valutazioniSelectedMode),t.xp6(1),t.Q6J("ngForOf",e.valutazioniModes),t.xp6(1),t.Q6J("ngIf",e.myListCorsi&&0!=e.myListCorsi.length),t.xp6(1),t.Q6J("ngIf",!e.myListCorsi||0==e.myListCorsi.length))},dependencies:[m.sg,m.O5,h.JJ,h.On,l.oU,l.Sm,l.wI,l.W2,l.jY,l.Gu,l.gu,l.Q$,l.q_,l.nJ,l.Wo,l.Nd,l.cJ,l.GO,l.wd,l.sr,l.QI,l.cs,J],styles:[".contentExpand[_ngcontent-%COMP%]{height:100%}ion-select[_ngcontent-%COMP%]::part(icon){display:none!important}.mb-8[_ngcontent-%COMP%]{margin-bottom:8px}ion-segment[_ngcontent-%COMP%]{padding-top:5px;padding-bottom:5px}"]}),n})()}];let G=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[f.Bz.forChild(Y),f.Bz]}),n})();var H=c(46939);let j=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[m.ez,h.u5,l.Pc,G,H.q]}),n})()}}]);