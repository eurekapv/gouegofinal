"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8387],{68387:(y,m,r)=>{r.r(m),r.d(m,{EditAccountPageModule:()=>C});var u=r(69808),a=r(52382),t=r(7706),d=r(2840),f=r(55351),p=r(34021),h=r(75822),P=r(69214),A=r(11902),g=r(69129),e=r(31223),v=r(92058);function N(o,l){if(1&o&&(e.TgZ(0,"ion-select-option",35),e._uU(1),e.qZA()),2&o){const n=l.$implicit;e.Q6J("value",n.value),e.xp6(1),e.hij(" ",n.description," ")}}function T(o,l){1&o&&(e.TgZ(0,"ion-item",11),e._UZ(1,"ion-input",36),e.qZA()),2&o&&(e.xp6(1),e.Q6J("clearInput",!0))}const Z=[{path:"",component:(()=>{class o{constructor(n,i,s,c){this.startService=n,this.navController=i,this.loadingController=s,this.modalController=c,this.utente=new f.o,this.listSesso=[],this.docGruppo=new A.w,this.showCapNascita=!1,this.utenteListen=this.startService.activeUtenteDoc$.subscribe(b=>{this.utente=b,null==this.utente.MOBILENUMBER&&(this.utente.MOBILENUMBER=""),this.createForm()}),this.listSesso=p.Gs.getArray(p._z)}ngOnInit(){this.today=P.GA.formatDateISO(new Date,"date"),this.docGruppo=this.startService.actualStartConfig.gruppo}ngOnDestroy(){this.utenteListen&&this.utenteListen.unsubscribe()}get backPathArray(){return["/","appstart-home","tab-profile"]}get backButtonHref(){let n="";return n=this.backPathArray.join("/").substring(1),n}onGoToBack(){this.navController.navigateBack(this.backPathArray)}createForm(){this.formPagePrimary=new a.cw({nome:new a.NI({value:this.utente.NOME,disabled:!1},{updateOn:"change",validators:[a.kI.required]}),cognome:new a.NI({value:this.utente.COGNOME,disabled:!1},{updateOn:"change",validators:[a.kI.required]}),sesso:new a.NI({value:this.utente.SESSO,disabled:!1},{updateOn:"change",validators:[]}),provNascita:new a.NI({value:this.utente.NATOPROV,disabled:!1},{updateOn:"change",validators:[]}),comNascita:new a.NI({value:this.utente.NATOA,disabled:!1},{updateOn:"change",validators:[]}),statoNascita:new a.NI({value:this.utente.NATOISOSTATO,disabled:!1},{updateOn:"change",validators:[]}),capNascita:new a.NI({value:this.utente.NATOCAP,disabled:!1},{updateOn:"change",validators:[]}),provResidenza:new a.NI({value:this.utente.PROVINCIA,disabled:!1},{updateOn:"change",validators:[]}),comResidenza:new a.NI({value:this.utente.COMUNE,disabled:!1},{updateOn:"change",validators:[]}),indResidenza:new a.NI({value:this.utente.INDIRIZZO,disabled:!1},{updateOn:"change",validators:[]}),capResidenza:new a.NI({value:this.utente.CAP,disabled:!1},{updateOn:"change",validators:[]}),statoResidenza:new a.NI({value:this.utente.ISOSTATO,disabled:!1},{updateOn:"change",validators:[]}),cf:new a.NI({value:this.utente.CODICEFISCALE,disabled:!1},{updateOn:"change",validators:[a.kI.pattern("^[A-Za-z]{6}[0-9]{2}[A-Za-z]{1}[0-9]{2}[A-Za-z]{1}[0-9]{3}[A-Za-z]{1}")]})})}onSubmit(){this.formPagePrimary.valid?(this.utente.NOME=this.formPagePrimary.value.nome,this.utente.COGNOME=this.formPagePrimary.value.cognome,this.utente.SESSO=this.formPagePrimary.value.sesso,this.utente.CODICEFISCALE=this.formPagePrimary.value.cf,this.utente.INDIRIZZO=this.formPagePrimary.value.indResidenza,this.utente.COMUNE=this.formPagePrimary.value.comResidenza,this.utente.CAP=this.formPagePrimary.value.capResidenza,this.utente.PROVINCIA=this.formPagePrimary.value.provResidenza,this.utente.ISOSTATO=this.formPagePrimary.value.statoResidenza,this.utente.NATOA=this.formPagePrimary.value.comNascita,this.utente.NATOCAP=this.formPagePrimary.value.capNascita,this.utente.NATOPROV=this.formPagePrimary.value.provNascita,this.utente.NATOISOSTATO=this.formPagePrimary.value.statoNascita,this.loadingController.create({message:"Aggiornamento dati...",spinner:"circular"}).then(n=>{n.present(),this.startService.updateUtente(this.utente).then(i=>{n.dismiss(),this.startService.presentToastMessage("Info Aggiornate"),this.onGoToBack()},i=>{n.dismiss(),this.startService.presentToastMessage("Errore  di connessione"),g.M.consoleLog(i,"error")})})):this.startService.presentToastMessage("Alcune informazioni sono errate")}onCfChange(){let n=this.formPagePrimary.value.cf;null!=n&&null!=n&&0!=n.length&&this.startService.checkCodiceFiscale(n,!0).then(i=>{this.utente.NATOISOSTATO="Italia",this.utente.NATOA=i.comune,this.utente.NATOPROV=i.provincia,this.utente.NATOIL=i.dataNascita,this.utente.SESSO=i.sesso,this.utente.NATOCAP=i.cap,this.formPagePrimary.get("comNascita").setValue(this.utente.NATOA),this.formPagePrimary.get("provNascita").setValue(this.utente.NATOPROV),this.formPagePrimary.get("sesso").setValue(this.utente.SESSO),this.formPagePrimary.get("statoNascita").setValue(this.utente.NATOISOSTATO),this.formPagePrimary.get("capNascita").setValue(this.utente.NATOCAP),this.formPagePrimary.controls.cf.setErrors(null)}).catch(i=>{this.formPagePrimary.controls.cf.setErrors({incorrect:!0}),g.M.consoleLog(i,"error")})}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(h.D),e.Y36(t.SH),e.Y36(t.HT),e.Y36(t.IN))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-edit-account"]],decls:82,vars:20,consts:[["color","primary"],["slot","start"],[3,"defaultHref"],["sizeXs","12","sizeSm","12","sizeMd","12","sizeLg","6","offsetLg","3","sizeXl","6","offsetXl","3"],[1,"info"],["color","light","lines","none"],[1,"ion-text-wrap"],["name","information-circle-outline","color","primary"],[3,"formGroup"],["sticky","true","color","light"],["name","person-outline","slot","end","color","primary"],["lines","none"],["label","Nome","labelPlacement","fixed","errorText","controlla l\\'inserimento del nome","formControlName","nome",3,"clearInput"],["label","Cognome","labelPlacement","fixed","errorText","controlla l\\'inserimento del cognome","formControlName","cognome",3,"clearInput"],["slot","start","position","fixed"],["formControlName","sesso","interface","popover"],[3,"value",4,"ngFor","ngForOf"],["label","Cod. fiscale","labelPlacement","fixed","errorText","controlla l\\'inserimento del Cod. fiscale","formControlName","cf",3,"clearInput","ionBlur"],["name","home-outline","slot","end","color","primary"],["label","Indirizzo","labelPlacement","fixed","errorText","controlla l\\'inserimento dell'indirizzo","formControlName","indResidenza",3,"clearInput"],["label","Comune","labelPlacement","fixed","errorText","controlla l\\'inserimento del comune","formControlName","comResidenza",3,"clearInput"],["label","CAP","labelPlacement","fixed","errorText","controlla l\\'inserimento del CAP","type","tel","inputmode","tel","maxlength","5","formControlName","capResidenza",3,"clearInput"],["label","Provincia","labelPlacement","fixed","errorText","controlla l\\'inserimento della provincia","formControlName","provResidenza",3,"clearInput"],["label","Stato","labelPlacement","fixed","errorText","controlla l\\'inserimento dello stato","formControlName","statoResidenza",3,"clearInput"],["name","logo-reddit","slot","end","color","primary"],["title","Data di nascita","label","Nato il",3,"actualDate","actualDateChange"],["label","Comune","labelPlacement","fixed","errorText","controlla l\\'inserimento del comune di nascita","formControlName","comNascita",3,"clearInput"],["lines","none",4,"ngIf"],["label","Provincia","labelPlacement","fixed","errorText","controlla l\\'inserimento della provincia","formControlName","provNascita",3,"clearInput"],["label","Stato","labelPlacement","fixed","errorText","controlla l\\'inserimento dello Stato","formControlName","statoNascita",3,"clearInput"],["name","call-outline","slot","end","color","primary"],["lines","none","button","false","detail","false"],["color","success"],[1,"ion-padding-vertical"],["color","tertiary","expand","block",3,"click"],[3,"value"],["label","CAP","labelPlacement","fixed","errorText","controlla l\\'inserimento del CAP","formControlName","capNascita","type","tel","inputmode","tel","maxlength","5",3,"clearInput"]],template:function(n,i){1&n&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),e._UZ(3,"ion-back-button",2),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Qualcosa su di te"),e.qZA()()(),e.TgZ(6,"ion-content")(7,"ion-grid")(8,"ion-row")(9,"ion-col",3)(10,"div",4)(11,"ion-item",5)(12,"ion-label")(13,"p",6),e._UZ(14,"ion-icon",7),e._uU(15," ti chiediamo alcune informazioni cos\xec da poterti consigliare le attivit\xe0 che abbiamo riservato per te. "),e.qZA()()()(),e.TgZ(16,"form",8)(17,"ion-list")(18,"ion-item-group")(19,"ion-item-divider",9),e._UZ(20,"ion-icon",10),e.TgZ(21,"ion-label"),e._uU(22,"Come ti chiami ?"),e.qZA()(),e.TgZ(23,"ion-item",11),e._UZ(24,"ion-input",12),e.qZA(),e.TgZ(25,"ion-item",11),e._UZ(26,"ion-input",13),e.qZA(),e.TgZ(27,"ion-item",11)(28,"ion-label",14),e._uU(29,"Sesso"),e.qZA(),e.TgZ(30,"ion-select",15),e.YNc(31,N,2,2,"ion-select-option",16),e.qZA()(),e.TgZ(32,"ion-item",11)(33,"ion-input",17),e.NdJ("ionBlur",function(){return i.onCfChange()}),e.qZA()()(),e.TgZ(34,"ion-item-group")(35,"ion-item-divider",9),e._UZ(36,"ion-icon",18),e.TgZ(37,"ion-label"),e._uU(38,"Dove vivi ?"),e.qZA()(),e.TgZ(39,"ion-item",11),e._UZ(40,"ion-input",19),e.qZA(),e.TgZ(41,"ion-item",11),e._UZ(42,"ion-input",20),e.qZA(),e.TgZ(43,"ion-item",11),e._UZ(44,"ion-input",21),e.qZA(),e.TgZ(45,"ion-item",11),e._UZ(46,"ion-input",22),e.qZA(),e.TgZ(47,"ion-item",11),e._UZ(48,"ion-input",23),e.qZA()(),e.TgZ(49,"ion-item-group")(50,"ion-item-divider",9),e._UZ(51,"ion-icon",24),e.TgZ(52,"ion-label"),e._uU(53,"Quando sei nato ?"),e.qZA()(),e.TgZ(54,"app-dtinput",25),e.NdJ("actualDateChange",function(c){return i.utente.NATOIL=c}),e.qZA(),e.TgZ(55,"ion-item",11),e._UZ(56,"ion-input",26),e.qZA(),e.YNc(57,T,2,1,"ion-item",27),e.TgZ(58,"ion-item",11),e._UZ(59,"ion-input",28),e.qZA(),e.TgZ(60,"ion-item",11),e._UZ(61,"ion-input",29),e.qZA()(),e.TgZ(62,"ion-item-group")(63,"ion-item-divider",9),e._UZ(64,"ion-icon",30),e.TgZ(65,"ion-label"),e._uU(66,"Cellulare e Email"),e.qZA()(),e.TgZ(67,"ion-item",31)(68,"ion-label"),e._uU(69),e.qZA(),e.TgZ(70,"ion-badge",32),e._uU(71),e.qZA()(),e.TgZ(72,"ion-item",31)(73,"ion-label"),e._uU(74),e.qZA(),e.TgZ(75,"ion-badge",32),e._uU(76),e.qZA()()()()()()(),e.TgZ(77,"ion-row",33)(78,"ion-col",3)(79,"ion-button",34),e.NdJ("click",function(){return i.onSubmit()}),e._uU(80," Conferma "),e.qZA()()()()(),e._UZ(81,"ion-footer")),2&n&&(e.xp6(3),e.Q6J("defaultHref",i.backButtonHref),e.xp6(13),e.Q6J("formGroup",i.formPagePrimary),e.xp6(8),e.Q6J("clearInput",!0),e.xp6(2),e.Q6J("clearInput",!0),e.xp6(5),e.Q6J("ngForOf",i.listSesso),e.xp6(2),e.Q6J("clearInput",!0),e.xp6(7),e.Q6J("clearInput",!0),e.xp6(2),e.Q6J("clearInput",!0),e.xp6(2),e.Q6J("clearInput",!0),e.xp6(2),e.Q6J("clearInput",!0),e.xp6(2),e.Q6J("clearInput",!0),e.xp6(6),e.Q6J("actualDate",i.utente.NATOIL),e.xp6(2),e.Q6J("clearInput",!0),e.xp6(1),e.Q6J("ngIf",i.showCapNascita),e.xp6(2),e.Q6J("clearInput",!0),e.xp6(2),e.Q6J("clearInput",!0),e.xp6(8),e.Oqu(i.utente.MOBILENUMBER?i.utente.MOBILENUMBER:"Non definito"),e.xp6(2),e.Oqu(i.utente.getLabelVerificaMobile()),e.xp6(3),e.Oqu(i.utente.EMAIL?i.utente.EMAIL:"Non definita"),e.xp6(2),e.Oqu(i.utente.getLabelVerificaMail()))},dependencies:[u.sg,u.O5,a._Y,a.JJ,a.JL,a.nD,t.oU,t.yp,t.YG,t.Sm,t.wI,t.W2,t.fr,t.jY,t.Gu,t.gu,t.pK,t.Ie,t.rH,t.Ub,t.Q$,t.q_,t.Nd,t.t9,t.n0,t.wd,t.sr,t.QI,t.j9,t.cs,a.sg,a.u,v.V],styles:["ion-item-divider[_ngcontent-%COMP%]{--padding-top: 5px;--padding-bottom: 5px;--padding-end: 10px}form[_ngcontent-%COMP%]{padding-bottom:30px}div.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-style:italic;font-weight:600}div.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}ion-input.input-disabled[_ngcontent-%COMP%]{color:var(--ion-color-secondary, #4d5969)!important;opacity:1!important;font-weight:700!important}"]}),o})()}];let O=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[d.Bz.forChild(Z),d.Bz]}),o})();var I=r(46939);let C=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[u.ez,a.u5,t.Pc,O,a.UX,I.q]}),o})()}}]);