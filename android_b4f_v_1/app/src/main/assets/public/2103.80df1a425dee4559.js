"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2103],{52103:(z,u,l)=>{l.r(u),l.d(u,{TabShopPageModule:()=>J});var a=l(69808),m=l(52382),r=l(7706),d=l(2840),n=l(34021),A=l(75822),t=l(31223),g=l(63614);function f(i,s){if(1&i&&(t.TgZ(0,"p",6),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(e._itemArticolo.DESCRADDITIONAL)}}let b=(()=>{class i{constructor(){this.clickArticolo=new t.vpe,this._itemArticolo=new g.O(!0)}set itemArticolo(e){this._itemArticolo=e}ngOnInit(){}setPlaceholder(e){e.src="/assets/commercial/item_placeholder.png"}onClickArticolo(){this.clickArticolo.emit(this._itemArticolo)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-table-item-articolo"]],inputs:{itemArticolo:"itemArticolo"},outputs:{clickArticolo:"clickArticolo"},decls:11,vars:8,consts:[[1,"ion-no-margin"],["slot","start"],[3,"src","alt","error"],["image",""],["class","ion-text-wrap",4,"ngIf"],["slot","end"],[1,"ion-text-wrap"]],template:function(e,o){if(1&e){const p=t.EpF();t.TgZ(0,"ion-item",0)(1,"ion-thumbnail",1)(2,"img",2,3),t.NdJ("error",function(){t.CHM(p);const h=t.MAs(3);return t.KtG(o.setPlaceholder(h))}),t.qZA()(),t.TgZ(4,"ion-label")(5,"h3"),t._uU(6),t.qZA(),t.YNc(7,f,2,1,"p",4),t.qZA(),t.TgZ(8,"ion-label",5),t._uU(9),t.ALo(10,"currency"),t.qZA()()}2&e&&(t.xp6(2),t.Q6J("src",o._itemArticolo.getSrcImg(),t.LSH)("alt",o._itemArticolo.DESCR),t.xp6(4),t.hij(" ",o._itemArticolo.DESCR," "),t.xp6(1),t.Q6J("ngIf",o._itemArticolo.DESCRADDITIONAL&&0!=o._itemArticolo.DESCRADDITIONAL.length),t.xp6(2),t.hij(" ",t.xi3(10,5,o._itemArticolo.PREZZOLORDO,"EUR")," "))},dependencies:[r.Ie,r.Q$,r.Bs,a.O5,a.H9]}),i})();function _(i,s){if(1&i&&(t.TgZ(0,"ion-card",3),t._UZ(1,"img",4),t.TgZ(2,"ion-card-header")(3,"ion-card-title"),t._uU(4,"Spiacenti"),t.qZA(),t.TgZ(5,"ion-card-subtitle"),t._uU(6),t.qZA()(),t.TgZ(7,"ion-card-content"),t._uU(8," Seleziona una tipologia differente o ritorna a trovarci per trovare novit\xe0 "),t.qZA()()),2&i){const e=t.oxw();t.xp6(6),t.hij("Nessun ",e.labelFor()," disponibile")}}function T(i,s){1&i&&(t.TgZ(0,"ion-item",5)(1,"ion-thumbnail",6),t._UZ(2,"img",7),t.qZA(),t.TgZ(3,"ion-label",8)(4,"p",9),t._uU(5,"scopri i nostri prodotti, servizi, pacchetti orari; a breve sar\xe0 possibile ordinarli direttamente da qui"),t.qZA()()())}function v(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"app-table-item-articolo",12),t.NdJ("clickArticolo",function(){const c=t.CHM(e).$implicit,h=t.oxw(2);return t.KtG(h.onClickArticolo(c))}),t.qZA()}2&i&&t.Q6J("itemArticolo",s.$implicit)}function Z(i,s){if(1&i&&(t.TgZ(0,"ion-list",10),t.YNc(1,v,1,1,"app-table-item-articolo",11),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e._listArticoli)}}let S=(()=>{class i{constructor(){this.clickArticolo=new t.vpe,this._listArticoli=[],this._received=!1}set typeArticolo(e){this._typeArticolo=e}set listArticoli(e){this._listArticoli=e,this._received=!0}get flagEmptyCard(){let e=!1;return 0==this._received?e=!1:0==this._listArticoli.length&&(e=!0),e}ngOnInit(){}onClickArticolo(e){this.clickArticolo.emit(e)}labelFor(e=!1){let o="";if(0==e)switch(this._typeArticolo){case n.ix.prodotto:o="prodotto";break;case n.ix.servizio:o="servizio";break;case n.ix.pacchettoOre:o="pacchetto ore";break;default:o="articolo"}else switch(this._typeArticolo){case n.ix.prodotto:o="prodotti";break;case n.ix.servizio:o="servizi";break;case n.ix.pacchettoOre:o="pacchetti ore";break;default:o="articoli"}return o}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-table-articoli"]],inputs:{typeArticolo:"typeArticolo",listArticoli:"listArticoli"},outputs:{clickArticolo:"clickArticolo"},decls:3,vars:3,consts:[["class","ion-text-center",4,"ngIf"],["lines","none",4,"ngIf"],["class","ion-padding-vertical",4,"ngIf"],[1,"ion-text-center"],["alt","cestino prodotti","src","assets/commercial/basketarticoli_small.png"],["lines","none"],["slot","start"],["alt","cestino prodotti","src","assets/commercial/shopmobilelogo.png"],[1,"ion-text-wrap"],[1,"ion-text-success"],[1,"ion-padding-vertical"],[3,"itemArticolo","clickArticolo",4,"ngFor","ngForOf"],[3,"itemArticolo","clickArticolo"]],template:function(e,o){1&e&&(t.YNc(0,_,9,1,"ion-card",0),t.YNc(1,T,6,0,"ion-item",1),t.YNc(2,Z,2,1,"ion-list",2)),2&e&&(t.Q6J("ngIf",o.flagEmptyCard),t.xp6(1),t.Q6J("ngIf",!o.flagEmptyCard),t.xp6(1),t.Q6J("ngIf",!o.flagEmptyCard))},dependencies:[r.PM,r.FN,r.Zi,r.tO,r.Dq,r.Ie,r.Q$,r.q_,r.Bs,a.sg,a.O5,b]}),i})();function C(i,s){if(1&i&&(t.TgZ(0,"div"),t._UZ(1,"app-table-articoli",8),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("listArticoli",e.listProdotti)("typeArticolo",e.selectedView)}}function P(i,s){if(1&i&&(t.TgZ(0,"div"),t._UZ(1,"app-table-articoli",8),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("listArticoli",e.listServizi)("typeArticolo",e.selectedView)}}function x(i,s){if(1&i&&(t.TgZ(0,"div"),t._UZ(1,"app-table-articoli",8),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("listArticoli",e.listPacchetti)("typeArticolo",e.selectedView)}}const y=[{path:"",component:(()=>{class i{constructor(e){this.startService=e,this.selectedView=n.ix.prodotto,this.TypeArticle=n.ix,this.listProdotti=[],this.listServizi=[],this.listPacchetti=[]}ngOnInit(){this.onListenArea(),this.onListenArticoli()}ngOnDestroy(){this.onUnscribeAll()}onListenArea(){this.selectedAreaListen=this.startService.areaSelected.subscribe(e=>{this.selectedArea=e,this.requestData()})}onListenArticoli(){this.subListProdotti=this.startService.listProdotti.subscribe(e=>{this.listProdotti=e}),this.subListServizi=this.startService.listServizi.subscribe(e=>{this.listServizi=e}),this.subListPacchetti=this.startService.listPacchetti.subscribe(e=>{this.listPacchetti=e})}onUnscribeAll(){this.selectedAreaListen&&this.selectedAreaListen.unsubscribe(),this.subListProdotti&&this.subListProdotti.unsubscribe(),this.subListServizi&&this.subListServizi.unsubscribe(),this.subListPacchetti&&this.subListPacchetti.unsubscribe()}requestData(e,o){this.startService.requestArticoli(this.selectedArea.ID,e).then(()=>{this.afterRefresh(o)}).catch(p=>{this.afterRefresh(o)})}onChangeSegment(e){this.requestData(this.selectedView)}doRefresh(e){this.requestData(this.selectedView,e)}afterRefresh(e){e&&e.target&&e.target.complete()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(A.D))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-tab-shop"]],decls:26,vars:7,consts:[["color","primary","mode","md"],["slot","secondary"],["slot","icon-only","name","basket-outline"],["slot","fixed",3,"ionRefresh"],["sizeXs","12","sizeSm","12","sizeMd","12","sizeLg","6","offsetLg","3","sizeXl","6","offsetXl","3"],["mode","md",3,"ngModel","ngModelChange","ionChange"],[3,"value"],[4,"ngIf"],[3,"listArticoli","typeArticolo"]],template:function(e,o){1&e&&(t.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1)(3,"ion-button"),t._UZ(4,"ion-icon",2),t.qZA()(),t.TgZ(5,"ion-title"),t._uU(6," Acquista "),t.qZA()()(),t.TgZ(7,"ion-content")(8,"ion-refresher",3),t.NdJ("ionRefresh",function(c){return o.doRefresh(c)}),t._UZ(9,"ion-refresher-content"),t.qZA(),t.TgZ(10,"ion-grid")(11,"ion-row")(12,"ion-col",4)(13,"ion-segment",5),t.NdJ("ngModelChange",function(c){return o.selectedView=c})("ionChange",function(c){return o.onChangeSegment(c)}),t.TgZ(14,"ion-segment-button",6)(15,"ion-label"),t._uU(16,"Prodotti"),t.qZA()(),t.TgZ(17,"ion-segment-button",6)(18,"ion-label"),t._uU(19,"Servizi"),t.qZA()(),t.TgZ(20,"ion-segment-button",6)(21,"ion-label"),t._uU(22,"Pacchetti"),t.qZA()()(),t.YNc(23,C,2,2,"div",7),t.YNc(24,P,2,2,"div",7),t.YNc(25,x,2,2,"div",7),t.qZA()()()()),2&e&&(t.xp6(13),t.Q6J("ngModel",o.selectedView),t.xp6(1),t.Q6J("value",o.TypeArticle.prodotto),t.xp6(3),t.Q6J("value",o.TypeArticle.servizio),t.xp6(3),t.Q6J("value",o.TypeArticle.pacchettoOre),t.xp6(3),t.Q6J("ngIf",o.selectedView==o.TypeArticle.prodotto),t.xp6(1),t.Q6J("ngIf",o.selectedView==o.TypeArticle.servizio),t.xp6(1),t.Q6J("ngIf",o.selectedView==o.TypeArticle.pacchettoOre))},dependencies:[a.O5,m.JJ,m.On,r.YG,r.Sm,r.wI,r.W2,r.jY,r.Gu,r.gu,r.Q$,r.nJ,r.Wo,r.Nd,r.cJ,r.GO,r.wd,r.sr,r.QI,S]}),i})()}];let I=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[d.Bz.forChild(y),d.Bz]}),i})();var w=l(46939);let J=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[a.ez,m.u5,r.Pc,I,w.q]}),i})()}}]);