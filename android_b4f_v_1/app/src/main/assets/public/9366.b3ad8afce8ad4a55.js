"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9366],{90719:(D,u,o)=>{o.d(u,{G:()=>r});const r={FRONT:"front",BACK:"back"}},49366:(D,u,o)=>{o.r(u),o.d(u,{TabAgendaPageModule:()=>re});var g=o(69808),h=o(52382),r=o(7706),f=o(2840),p=o(69214),T=o(73609),I=o(39977),A=o(1823),x=o(16667),v=o(69129),l=o(34021),b=o(75822),_=o(97582),O=o(47423);o(90719);const m=(0,O.fo)("BarcodeScanner",{web:()=>o.e(2155).then(o.bind(o,32155)).then(n=>new n.BarcodeScannerWeb)});var e=o(31223);let Z=(()=>{class n{constructor(t,i){this.mdlController=t,this.srvAgora=i,this.scanActive=!1,this.readResult="",this.readErrorMessage=""}ngOnInit(){this.readResult=""}ngAfterViewInit(){m.prepare(),this.initScannerOperation()}ngOnDestroy(){m.stopScan(),this.showHideHTMLBackground(!0)}checkPermission(){return(0,_.mG)(this,void 0,void 0,function*(){return new Promise((t,i)=>(0,_.mG)(this,void 0,void 0,function*(){const s=yield m.checkPermission({force:!0});s.granted?t(!0):s.denied?this.srvAgora.presentAlertMessage("Consentire l'utilizzo della fotocamera nelle impostazioni","Permesso non impostato",[{text:"No",role:"cancel"},{text:"Vai a Impostazioni",handler:()=>{m.openAppSettings(),t(!1)}}]):t(!1)}))})}barcodeGrantPermission(){return(0,_.mG)(this,void 0,void 0,function*(){const t=yield m.checkPermission({force:!1});if(t.granted)return!0;if(t.denied)return confirm("Per consentire l'uso della fotocamera \xe8 necessario abilitarla nelle impostazioni.")&&m.openAppSettings(),!1;if(t.neverAsked&&!confirm("E' necessario autorizzare l'utilizzo della fotocamera per effettuare la scansione barcode")||t.restricted||t.unknown)return!1;return!!(yield m.checkPermission({force:!0})).granted})}showHideHTMLBackground(t){var i,s,c;const d=document.querySelector("ion-router-outlet");let C="qrscanner";t?(document.body.classList.remove(C),d.classList.remove(C)):(null===(s=null===(i=null==document?void 0:document.body)||void 0===i?void 0:i.classList)||void 0===s||s.add(C),null===(c=null==d?void 0:d.classList)||void 0===c||c.add(C))}initScannerOperation(){this.showHideHTMLBackground(!1),this.startScanner().then(t=>{this.readResult=t,this.closeScanner()}).catch(t=>{this.readErrorMessage=t,this.closeScanner()})}startScanner(){return new Promise((t,i)=>{this.barcodeGrantPermission().then(s=>{s?(this.scanActive=!0,m.hideBackground(),m.startScan().then(c=>{this.scanActive=!1,c.hasContent?t(c.content):i("No barcode read")}).catch(c=>{i(c)})):(this.scanActive=!1,i("Permessi Fotocamera non concessi"))}).catch(s=>{i(s)})})}stopScanner(){m.stopScan(),this.scanActive=!1,this.closeScanner()}closeScanner(){this.mdlController.dismiss({qrcodeData:this.readResult,error:this.readErrorMessage})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.IN),e.Y36(b.D))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-qr-code-scanner"]],decls:2,vars:0,template:function(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1," qr-code-scanner works!\n"),e.qZA())},styles:['.scanner-buttons[_ngcontent-%COMP%]{margin:0;position:absolute;bottom:100px;width:100vw;height:50px;z-index:11}.scan-box[_ngcontent-%COMP%]{border:2px solid #fff;box-shadow:0 0 0 100vmax rgba(0,0,0,.5);content:"";display:block;position:absolute;left:50%;top:50%;height:300px;width:300px;transform:translate(-50%,-50%)}']}),n})();var P=o(59580);function N(n,a){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"titlecase"),e.ALo(3,"date"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" fino a ",e.lcZ(2,1,e.xi3(3,3,null==t._impegnoDoc?null:t._impegnoDoc.DATAORAFINE,"EEEE dd/MM/yyyy")),"")}}function E(n,a){if(1&n&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"titlecase"),e.ALo(3,"date"),e.YNc(4,N,4,6,"span",3),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,2,e.xi3(3,4,t._impegnoDoc.DATAORAINIZIO,"EEEE dd/MM/yyyy"))," "),e.xp6(3),e.Q6J("ngIf",0==t._impegnoDoc.compareEqualDate())}}let L=(()=>{class n{constructor(){this.OnClickItem=new e.vpe,this._impegnoDoc=new A.L(!0)}set impegnoDoc(t){this._impegnoDoc=t,this.setAdditionalAttribute()}setAdditionalAttribute(){let t=new Date;if(this._impegnoDoc){switch(this._impegnoDoc.SETTORE){case l.bS.settoreCorso:this.iconName="school-outline";break;case l.bS.settorePrenotazione:this.iconName="calendar-outline";break;case l.bS.settoreEvento:this.iconName="sparkles-outline";break;default:this.iconName="calendar-outline",this.iconColor="success"}this.iconColor=this._impegnoDoc.DATAORAINIZIO&&this._impegnoDoc.DATAORAINIZIO>t||this._impegnoDoc.DATAORAFINE&&this._impegnoDoc.DATAORAFINE>t?"success":"danger"}else this.iconName="calendar-outline",this.iconColor="success"}onClickElement(){this.OnClickItem.emit(this._impegnoDoc)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-impegni"]],inputs:{impegnoDoc:"impegnoDoc"},outputs:{OnClickItem:"OnClickItem"},decls:12,vars:10,consts:[["button","true",3,"click"],["slot","start",3,"name","color"],[1,"ion-text-wrap"],[4,"ngIf"],[3,"color"],["name","time-outline"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-item",0),e.NdJ("click",function(){return i.onClickElement()}),e._UZ(1,"ion-icon",1),e.TgZ(2,"ion-label",2),e.YNc(3,E,5,7,"p",3),e.TgZ(4,"h3"),e._uU(5),e.qZA(),e.TgZ(6,"h4"),e._uU(7),e.qZA()(),e.TgZ(8,"ion-chip",4),e._uU(9),e.ALo(10,"date"),e._UZ(11,"ion-icon",5),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("name",i.iconName)("color",i.iconColor),e.xp6(2),e.Q6J("ngIf",i._impegnoDoc.DATAORAINIZIO),e.xp6(2),e.Oqu(i._impegnoDoc.DENOMINAZIONE),e.xp6(2),e.hij("",i._impegnoDoc._DENOMINAZIONE_Location," "),e.xp6(1),e.Q6J("color",i.iconColor),e.xp6(1),e.hij(" ",e.xi3(10,7,i._impegnoDoc.DATAORAINIZIO,"HH:mm")," "))},dependencies:[r.hM,r.gu,r.Ie,r.Q$,g.O5,g.rS,g.uU],styles:["ion-item[_ngcontent-%COMP%] > ion-icon[_ngcontent-%COMP%]{font-size:40px}ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-accent-contrast)}"]}),n})();function M(n,a){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"titlecase"),e.ALo(3,"date"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" fino a ",e.lcZ(2,1,e.xi3(3,3,null==t._impegnoDoc?null:t._impegnoDoc.DATAORAFINE,"EEEE dd/MM/yyyy")),"")}}function S(n,a){if(1&n&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"titlecase"),e.ALo(3,"date"),e.YNc(4,M,4,6,"span",3),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,2,e.xi3(3,4,t._impegnoDoc.DATAORAINIZIO,"EEEE dd/MM/yyyy"))," "),e.xp6(3),e.Q6J("ngIf",0==t._impegnoDoc.compareEqualDate())}}let y=(()=>{class n{constructor(){this.OnClickItem=new e.vpe,this._impegnoDoc=new T.l(!0)}set impegnoDoc(t){this._impegnoDoc=t,this.setAdditionalAttribute()}ngOnInit(){}setAdditionalAttribute(){let t=new Date;if(this._impegnoDoc){switch(this._impegnoDoc.SETTORE){case l.bS.settoreCorso:this.iconName="school-outline";break;case l.bS.settorePrenotazione:this.iconName="calendar-outline";break;case l.bS.settoreEvento:this.iconName="sparkles-outline";break;default:this.iconName="calendar-outline",this.iconColor="success"}this.iconColor=this._impegnoDoc.DATAORAINIZIO&&this._impegnoDoc.DATAORAINIZIO>t||this._impegnoDoc.DATAORAFINE&&this._impegnoDoc.DATAORAFINE>t?"success":"danger"}else this.iconName="calendar-outline",this.iconColor="success"}onClickElement(){this.OnClickItem.emit(this._impegnoDoc)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-impegni-collaboratori"]],inputs:{impegnoDoc:"impegnoDoc"},outputs:{OnClickItem:"OnClickItem"},decls:14,vars:11,consts:[["button","true",3,"click"],["slot","start",3,"name","color"],[1,"ion-text-wrap"],[4,"ngIf"],[3,"color"],["name","time-outline"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-item",0),e.NdJ("click",function(){return i.onClickElement()}),e._UZ(1,"ion-icon",1),e.TgZ(2,"ion-label",2),e.YNc(3,S,5,7,"p",3),e.TgZ(4,"h3"),e._uU(5),e.qZA(),e.TgZ(6,"h4"),e._uU(7),e.qZA(),e.TgZ(8,"p"),e._uU(9),e.qZA()(),e.TgZ(10,"ion-chip",4),e._uU(11),e.ALo(12,"date"),e._UZ(13,"ion-icon",5),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("name",i.iconName)("color",i.iconColor),e.xp6(2),e.Q6J("ngIf",i._impegnoDoc.DATAORAINIZIO),e.xp6(2),e.Oqu(i._impegnoDoc.DENOMINAZIONE),e.xp6(2),e.hij("",i._impegnoDoc.DENOMINAZIONELOCATION," "),e.xp6(2),e.Oqu(i._impegnoDoc.DENOMINAZIONESPORT),e.xp6(1),e.Q6J("color",i.iconColor),e.xp6(1),e.hij(" ",e.xi3(12,8,i._impegnoDoc.DATAORAINIZIO,"HH:mm")," "))},dependencies:[r.hM,r.gu,r.Ie,r.Q$,g.O5,g.rS,g.uU],styles:["ion-item[_ngcontent-%COMP%] > ion-icon[_ngcontent-%COMP%]{font-size:40px}ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-accent-contrast)}"]}),n})();function k(n,a){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"titlecase"),e.ALo(3,"date"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" fino a ",e.lcZ(2,1,e.xi3(3,3,null==t._impegnoDoc?null:t._impegnoDoc.DATAORAFINE,"EEEE dd/MM/yyyy")),"")}}function U(n,a){if(1&n&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"titlecase"),e.ALo(3,"date"),e.YNc(4,k,4,6,"span",3),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,2,e.xi3(3,4,t._impegnoDoc.DATAORAINIZIO,"EEEE dd/MM/yyyy"))," "),e.xp6(3),e.Q6J("ngIf",0==t._impegnoDoc.compareEqualDate())}}let R=(()=>{class n{constructor(){this.OnClickItem=new e.vpe,this._impegnoDoc=new I.n(!0)}set impegnoDoc(t){this._impegnoDoc=t,this.setAdditionalAttribute()}ngOnInit(){}setAdditionalAttribute(){let t=new Date;if(this._impegnoDoc){switch(this._impegnoDoc.SETTORE){case l.bS.settoreCorso:this.iconName="school-outline";break;case l.bS.settorePrenotazione:this.iconName="calendar-outline";break;case l.bS.settoreEvento:this.iconName="sparkles-outline";break;default:this.iconName="calendar-outline",this.iconColor="success"}this.iconColor=this._impegnoDoc.DATAORAINIZIO&&this._impegnoDoc.DATAORAINIZIO>t||this._impegnoDoc.DATAORAFINE&&this._impegnoDoc.DATAORAFINE>t?"success":"danger"}else this.iconName="calendar-outline",this.iconColor="success"}onClickElement(){this.OnClickItem.emit(this._impegnoDoc)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-impegni-custodi"]],inputs:{impegnoDoc:"impegnoDoc"},outputs:{OnClickItem:"OnClickItem"},decls:14,vars:11,consts:[["button","true",3,"click"],["slot","start",3,"name","color"],[1,"ion-text-wrap"],[4,"ngIf"],[1,"text-bold"],[3,"color"],["name","time-outline"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-item",0),e.NdJ("click",function(){return i.onClickElement()}),e._UZ(1,"ion-icon",1),e.TgZ(2,"ion-label",2),e.YNc(3,U,5,7,"p",3),e.TgZ(4,"h3",4),e._uU(5),e.qZA(),e.TgZ(6,"h4"),e._uU(7),e.qZA(),e.TgZ(8,"p"),e._uU(9),e.qZA()(),e.TgZ(10,"ion-chip",5),e._uU(11),e.ALo(12,"date"),e._UZ(13,"ion-icon",6),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("name",i.iconName)("color",i.iconColor),e.xp6(2),e.Q6J("ngIf",i._impegnoDoc.DATAORAINIZIO),e.xp6(2),e.Oqu(i._impegnoDoc.DENOMINAZIONE),e.xp6(2),e.hij("",i._impegnoDoc.DENOMINAZIONELOCATION," "),e.xp6(2),e.Oqu(i._impegnoDoc.DENOMINAZIONESPORT),e.xp6(1),e.Q6J("color",i.iconColor),e.xp6(1),e.hij(" ",e.xi3(12,8,i._impegnoDoc.DATAORAINIZIO,"HH:mm")," "))},dependencies:[r.hM,r.gu,r.Ie,r.Q$,g.O5,g.rS,g.uU],styles:["ion-item[_ngcontent-%COMP%] > ion-icon[_ngcontent-%COMP%]{font-size:40px}ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-accent-contrast)}.text-bold[_ngcontent-%COMP%]{font-weight:700}"]}),n})();var w=o(92058);function J(n,a){1&n&&(e.TgZ(0,"ion-segment-button",13)(1,"ion-label"),e._uU(2,"Trainer"),e.qZA(),e._UZ(3,"ion-icon",14),e.qZA())}function F(n,a){1&n&&(e.TgZ(0,"ion-segment-button",15)(1,"ion-label"),e._uU(2,"Custode"),e.qZA(),e._UZ(3,"ion-icon",16),e.qZA())}function Q(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"ion-segment",8),e.NdJ("ngModelChange",function(s){e.CHM(t);const c=e.oxw();return e.KtG(c.selectedView=s)})("ionChange",function(s){e.CHM(t);const c=e.oxw();return e.KtG(c.onChangeSegmentTop(s))}),e.TgZ(1,"ion-segment-button",9)(2,"ion-label"),e._uU(3,"Personali"),e.qZA(),e._UZ(4,"ion-icon",10),e.qZA(),e.YNc(5,J,4,0,"ion-segment-button",11),e.YNc(6,F,4,0,"ion-segment-button",12),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.selectedView),e.xp6(5),e.Q6J("ngIf",t.showTrainer),e.xp6(1),e.Q6J("ngIf",t.showCustode)}}function q(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"app-impegni",21),e.NdJ("OnClickItem",function(){const c=e.CHM(t).$implicit,d=e.oxw(3);return e.KtG(d.onClickImpegnoPersonale(c))}),e.qZA()}2&n&&e.Q6J("impegnoDoc",a.$implicit)}function z(n,a){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,q,1,1,"app-impegni",20),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.listImpegni)}}function H(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div")(2,"app-button-card",17),e.NdJ("clickElement",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onClickImpegnoPersonale(s.nextImpegno))}),e.qZA()(),e.YNc(3,z,2,1,"div",7),e.TgZ(4,"ion-item",18),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onClickGoToPersonalHistoryList())}),e._UZ(5,"ion-icon",19),e.TgZ(6,"ion-label"),e._uU(7,"mostra tutto"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("myButtonCard",t.nextImpegnoCard),e.xp6(1),e.Q6J("ngIf",t.listImpegni&&0!=t.listImpegni.length)}}function Y(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"ion-col")(1,"ion-button",27),e.NdJ("click",function(){const c=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.onChangePeriodoTrainer(c.value))}),e._uU(2),e.qZA()()}if(2&n){const t=a.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("color",t.value==i.searchTrainerPeriodo?"success":"light"),e.xp6(1),e.hij(" ",t.title," ")}}function G(n,a){if(1&n&&(e.TgZ(0,"div",28),e._UZ(1,"app-button-card",29),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("myButtonCard",t.emptyImpegnoTrainerCard)}}function V(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"app-impegni-collaboratori",21),e.NdJ("OnClickItem",function(){const c=e.CHM(t).$implicit,d=e.oxw(3);return e.KtG(d.onClickImpegnoTrainer(c))}),e.qZA()}2&n&&e.Q6J("impegnoDoc",a.$implicit)}function B(n,a){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,V,1,1,"app-impegni-collaboratori",20),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.listImpegniTrainer)}}function $(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"ion-button",22),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onClickGoToListaValutazioniTrainer())}),e._uU(2," Valutazioni fine corsi "),e.qZA(),e.TgZ(3,"ion-card",23)(4,"ion-grid")(5,"ion-row"),e.YNc(6,Y,3,2,"ion-col",24),e.qZA(),e.TgZ(7,"ion-row")(8,"ion-col")(9,"app-dtinput",25),e.NdJ("actualDateChange",function(s){e.CHM(t);const c=e.oxw();return e.KtG(c.searchTrainerDate=s)})("actualDateChange",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.requestListImpegniTrainer())}),e.qZA()()()()(),e.YNc(10,G,2,1,"div",26),e.YNc(11,B,2,1,"div",7),e.qZA()}if(2&n){const t=e.oxw();e.xp6(6),e.Q6J("ngForOf",t.searchListPeriodi),e.xp6(3),e.Q6J("label",t.searchTrainerDateLabel)("calendarMode",t.searchTrainerCalendarMode)("actualDate",t.searchTrainerDate),e.xp6(1),e.Q6J("ngIf",!t.listImpegniTrainer||0==t.listImpegniTrainer.length),e.xp6(1),e.Q6J("ngIf",t.listImpegniTrainer&&0!=t.listImpegniTrainer.length)}}function K(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"ion-button",22),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onClickQrCodeCustode())}),e._UZ(1,"ion-icon",32),e._uU(2," Scansiona Codice "),e.qZA()}}function X(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"ion-col")(1,"ion-button",27),e.NdJ("click",function(){const c=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.onChangePeriodoCustode(c.value))}),e._uU(2),e.qZA()()}if(2&n){const t=a.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("color",t.value==i.searchCustodePeriodo?"success":"light"),e.xp6(1),e.hij(" ",t.title," ")}}function j(n,a){if(1&n&&(e.TgZ(0,"ion-item")(1,"ion-radio",41)(2,"h6"),e._uU(3),e.qZA()()()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("value",t.ID),e.xp6(2),e.Oqu(t.DENOMINAZIONE)}}function W(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"ion-row",33)(1,"ion-col")(2,"ion-accordion-group")(3,"ion-accordion",34)(4,"ion-item",35)(5,"ion-label",36)(6,"p",37),e._uU(7),e.qZA()()(),e.TgZ(8,"div",38)(9,"ion-list",39)(10,"ion-radio-group",40),e.NdJ("ngModelChange",function(s){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onChangeLocationCustode(s))})("ngModelChange",function(s){e.CHM(t);const c=e.oxw(2);return e.KtG(c.idSelectedLocation=s)}),e.YNc(11,j,4,2,"ion-item",24),e.qZA()()()()()()()}if(2&n){const t=e.oxw(2);e.xp6(7),e.Oqu(t.selectedLocation.DENOMINAZIONE),e.xp6(3),e.Q6J("ngModel",t.idSelectedLocation),e.xp6(1),e.Q6J("ngForOf",t.listLocation)}}function ee(n,a){if(1&n&&(e.TgZ(0,"div",28),e._UZ(1,"app-button-card",29),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("myButtonCard",t.emptyImpegnoCustodeCard)}}function te(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"app-impegni-custodi",21),e.NdJ("OnClickItem",function(){const c=e.CHM(t).$implicit,d=e.oxw(3);return e.KtG(d.onClickImpegnoCustode(c))}),e.qZA()}2&n&&e.Q6J("impegnoDoc",a.$implicit)}function ne(n,a){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,te,1,1,"app-impegni-custodi",20),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.listImpegniCustode)}}function ie(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div"),e.YNc(1,K,3,0,"ion-button",30),e.TgZ(2,"ion-card",23)(3,"ion-grid")(4,"ion-row"),e.YNc(5,X,3,2,"ion-col",24),e.qZA(),e.TgZ(6,"ion-row")(7,"ion-col")(8,"app-dtinput",25),e.NdJ("actualDateChange",function(s){e.CHM(t);const c=e.oxw();return e.KtG(c.searchCustodeDate=s)})("actualDateChange",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.requestListImpegniCustode())}),e.qZA()()(),e.YNc(9,W,12,3,"ion-row",31),e.qZA()(),e.YNc(10,ee,2,1,"div",26),e.YNc(11,ne,2,1,"div",7),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.platformDesktop),e.xp6(4),e.Q6J("ngForOf",t.searchListPeriodi),e.xp6(3),e.Q6J("label",t.searchCustodeDateLabel)("calendarMode",t.searchCustodeCalendarMode)("actualDate",t.searchCustodeDate),e.xp6(1),e.Q6J("ngIf",t.listLocation&&t.listLocation.length>2),e.xp6(1),e.Q6J("ngIf",!t.listImpegniCustode||0==t.listImpegniCustode.length),e.xp6(1),e.Q6J("ngIf",t.listImpegniCustode&&0!=t.listImpegniCustode.length)}}const oe=[{path:"",component:(()=>{class n{constructor(t,i,s){this.startService=t,this.navController=i,this.modalController=s,this.platformDesktop=!1,this.flagOnRefresh=!1,this.listLocation=[],this.idSelectedLocation="",this.id_location_tutte="idtutte",this.flagUserLogged=!1,this.listImpegni=[],this.nextImpegno=null,this.nextImpegnoCard=null,this.listImpegniTrainer=[],this.emptyImpegnoTrainerCard=null,this.listImpegniCustode=[],this.emptyImpegnoCustodeCard=null,this.selectedView="personal",this.numRequestImpegniTop=10,this.numRequestImpegniTrainerTop=10,this.numRequestImpegniCustodeTop=10,this.futureRequestImpegni=!0,this.searchTrainerPeriodo=l.p2.giorno,this.searchListPeriodi=[{value:l.p2.giorno,title:"Giorno"},{value:l.p2.settimana,title:"Settimana"},{value:l.p2.mese,title:"Mese"}],this.searchTrainerDate=new Date,this.searchCustodePeriodo=l.p2.giorno,this.searchCustodeDate=new Date,this.setListLocation(),this.prepareCardImpegniPersonali(),this.emptyImpegnoTrainerCard=T.l.asEmptyButtonCard(),this.emptyImpegnoCustodeCard=I.n.asEmptyButtonCard(),this.platformDesktop=this.startService.isDesktop}get searchTrainerCalendarMode(){let t=p.CV.date;switch(this.searchTrainerPeriodo){case l.p2.giorno:case l.p2.settimana:t=p.CV.date;break;case l.p2.mese:t=p.CV.monthYear;break;default:t=p.CV.date}return t}get searchTrainerDateLabel(){let t="filtro";switch(this.searchTrainerPeriodo){case l.p2.giorno:t="giornata del";break;case l.p2.settimana:t="settimana del";break;case l.p2.mese:t="mese di";break;default:t="filtro"}return t}get searchCustodeCalendarMode(){let t=p.CV.date;switch(this.searchCustodePeriodo){case l.p2.giorno:case l.p2.settimana:t=p.CV.date;break;case l.p2.mese:t=p.CV.monthYear;break;default:t=p.CV.date}return t}get searchCustodeDateLabel(){let t="filtro";switch(this.searchCustodePeriodo){case l.p2.giorno:t="giornata del";break;case l.p2.settimana:t="settimana del";break;case l.p2.mese:t="mese di";break;default:t="filtro"}return t}get showTrainer(){return this.flagUserLogged&&(this.utenteDoc.isAssistenteTrainer||this.utenteDoc.isTrainer)}get showCustode(){return this.flagUserLogged&&this.utenteDoc.isCustode}get showSegmentTop(){return this.showTrainer||this.showCustode}ngOnInit(){this.onListenArea(),this.onListenLocation(),this.onListenUtente(),this.onListenImpegniPersonali(),this.onListenImpegniTrainer(),this.onListenImpegniCustode()}ngOnDestroy(){this.onUnscribeAll()}onListenArea(){this.selectedAreaListen=this.startService.areaSelected.subscribe(t=>{this.selectedArea=t,this.requestListImpegniCustode()})}onListenLocation(){this.listLocationListen=this.startService.listLocation.subscribe({next:t=>{this.setListLocation(t)},error:t=>{v.M.consoleLog(t)}})}setListLocation(t){let i;this.listLocation=[],i=new x.Y(!0),i.ID=this.id_location_tutte,i.DENOMINAZIONE="Tutte le location",this.listLocation.push(i),t&&t.forEach(s=>{this.listLocation.push(s)}),this.selectedLocation=i,this.idSelectedLocation=i.ID}onListenUtente(){this.subUtenteDoc=this.startService.activeUtenteDoc$.subscribe(t=>{this.utenteDoc=t,this.onChangeSegmentTop(null)}),this.subFlagUserLogged=this.startService.flagUtenteIsLoggato$.subscribe(t=>{this.flagUserLogged=t})}onListenImpegniPersonali(){this.subListImpegni=this.startService.listImpegniPersonali$.subscribe(t=>{this.listImpegni=t,this.onAfterRefresh()}),this.subNextImpegno=this.startService.nextImpegnoPersonale$.subscribe(t=>{this.nextImpegno=t,this.prepareCardImpegniPersonali()})}onListenImpegniTrainer(){this.sublistImpegniTrainer=this.startService.listImpegniCollaboratore$.subscribe(t=>{this.listImpegniTrainer=t,this.onAfterRefresh()})}onListenImpegniCustode(){this.sublistImpegniCustode=this.startService.listImpegniCustode$.subscribe(t=>{this.listImpegniCustode=t,this.onAfterRefresh()})}onUnscribeAll(){this.selectedAreaListen&&this.selectedAreaListen.unsubscribe(),this.listLocationListen&&this.listLocationListen.unsubscribe(),this.subFlagUserLogged&&this.subFlagUserLogged.unsubscribe(),this.subUtenteDoc&&this.subUtenteDoc.unsubscribe(),this.subListImpegni&&this.subListImpegni.unsubscribe(),this.sublistImpegniTrainer&&this.sublistImpegniTrainer.unsubscribe(),this.sublistImpegniCustode&&this.sublistImpegniCustode.unsubscribe()}onChangeSegmentTop(t){switch(this.selectedView){case"personal":this.requestListImpegniPersonali();break;case"trainer":this.requestListImpegniTrainer();break;case"custode":this.requestListImpegniCustode()}}doRefresh(t){this.flagOnRefresh=!0,this.refresherEvent=t,this.onChangeSegmentTop(t)}onAfterRefresh(){this.flagOnRefresh&&(this.flagOnRefresh=!1,this.refresherEvent&&this.refresherEvent.target&&this.refresherEvent.target.complete())}onClickGoToPersonalHistoryList(){let t=this.startService.getUrlPageHistoryPersonal("list");this.navController.navigateForward(t)}onClickImpegnoPersonale(t){let c,i=[],s="";if(t&&(s=t.getIdentifier(),0!=s.length)){switch(t.SETTORE){case l.bS.settoreCorso:c="course";break;case l.bS.settorePrenotazione:c="book"}0!=c.length&&(i=this.startService.getUrlPageHistoryPersonal(c,s),this.navController.navigateForward(i))}}prepareCardImpegniPersonali(){this.nextImpegnoCard=this.nextImpegno?this.nextImpegno.asButtonCard():A.L.asEmptyButtonCard()}requestListImpegniPersonali(){this.startService.requestImpegniPersonali(this.utenteDoc?this.utenteDoc.ID:"",this.futureRequestImpegni,this.numRequestImpegniTop)}get urlPageListValutazioniTrainer(){return["/","appstart-home","tab-agenda","trainer","list-valutazioni"]}onClickGoToListaValutazioniTrainer(){this.navController.navigateForward(this.urlPageListValutazioniTrainer)}requestListImpegniTrainer(){this.startService.requestImpegniCollaboratore(this.utenteDoc?this.utenteDoc.ID:"",this.utenteDoc?this.utenteDoc.MANSIONE:0,this.searchTrainerPeriodo,this.searchTrainerDate,this.numRequestImpegniTrainerTop)}onChangePeriodoTrainer(t){this.searchTrainerPeriodo=t,this.requestListImpegniTrainer()}onClickImpegnoTrainer(t){let i=[];t&&t.SETTORE==l.bS.settoreCorso&&(i=["/","appstart-home","tab-agenda","trainer","detail-presenza",t.ID],this.navController.navigateForward(i))}requestListImpegniCustode(){let i="";this.idSelectedLocation!=this.id_location_tutte&&(i=this.idSelectedLocation),this.startService.requestImpegniCustode(this.searchCustodePeriodo,this.searchCustodeDate,this.selectedArea?this.selectedArea.ID:"",i,this.numRequestImpegniCustodeTop)}onChangePeriodoCustode(t){this.searchCustodePeriodo=t,this.requestListImpegniCustode()}onChangeLocationCustode(t){t&&0!=t.length&&(this.idSelectedLocation=t,this.selectedLocation=this.listLocation.find(i=>i.ID==t),this.requestListImpegniCustode())}onClickImpegnoCustode(t){t&&this.goToDetailCustode(t.ID)}onClickQrCodeCustode(){this.platformDesktop||this.modalController.create({component:Z}).then(t=>(t.present(),t.onDidDismiss())).then(t=>{t&&t.data&&t.data.qrcodeData&&0!=t.data.qrcodeData.length&&this.goToDetailCustode(t.data.qrcodeData)})}goToDetailCustode(t){let i=[];t&&0!=t.length&&(i=["/","appstart-home","tab-agenda","custode","detail-occupazione",t],this.navController.navigateForward(i))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.D),e.Y36(r.SH),e.Y36(r.IN))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-tab-agenda"]],decls:17,vars:5,consts:[["color","primary","mode","md"],["slot","secondary"],["slot","icon-only","name","calendar-outline"],["slot","fixed",3,"ionRefresh"],[1,"ion-margin-bottom"],["sizeXs","12","sizeSm","12","sizeMd","12","sizeLg","6","offsetLg","3","sizeXl","6","offsetXl","3"],["mode","md",3,"ngModel","ngModelChange","ionChange",4,"ngIf"],[4,"ngIf"],["mode","md",3,"ngModel","ngModelChange","ionChange"],["value","personal"],["name","person-circle-outline"],["value","trainer",4,"ngIf"],["value","custode",4,"ngIf"],["value","trainer"],["name","barbell-outline"],["value","custode"],["name","man-outline"],["smallVersion","false",1,"small-button-card",3,"myButtonCard","clickElement"],["button","true","detail","true",1,"mostra-tutto",3,"click"],["slot","start","name","calendar-number-outline"],[3,"impegnoDoc","OnClickItem",4,"ngFor","ngForOf"],[3,"impegnoDoc","OnClickItem"],["expand","full",3,"click"],["color","light",1,"filter"],[4,"ngFor","ngForOf"],["textAlignmentRight","true","title","Filtro","itemColor","light","itemLines","none","iconName","calendar-outline","iconColor","primary","maskFormat","dddd dd/MM/yyyy",3,"label","calendarMode","actualDate","actualDateChange"],["class","ion-no-padding ion-no-margin",4,"ngIf"],["expand","full",3,"color","click"],[1,"ion-no-padding","ion-no-margin"],["smallVersion","true",1,"small-button-card",3,"myButtonCard"],["expand","full",3,"click",4,"ngIf"],["class","ion-no-margin",4,"ngIf"],["slot","start","name","qrcode"],[1,"ion-no-margin"],["value","location"],["slot","header","color","light"],[1,"ion-text-wrap"],[1,"ion-text-small","ion-text-bold"],["slot","content",1,"ion-padding"],["lines","none"],[3,"ngModel","ngModelChange"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1)(3,"ion-button"),e._UZ(4,"ion-icon",2),e.qZA()(),e.TgZ(5,"ion-title"),e._uU(6),e.qZA()()(),e.TgZ(7,"ion-content")(8,"ion-refresher",3),e.NdJ("ionRefresh",function(c){return i.doRefresh(c)}),e._UZ(9,"ion-refresher-content"),e.qZA(),e.TgZ(10,"ion-grid",4)(11,"ion-row")(12,"ion-col",5),e.YNc(13,Q,7,3,"ion-segment",6),e.YNc(14,H,8,2,"div",7),e.YNc(15,$,12,6,"div",7),e.YNc(16,ie,12,8,"div",7),e.qZA()()()()),2&t&&(e.xp6(6),e.hij(" ",i.selectedArea?i.selectedArea.DENOMINAZIONE:"Agenda"," "),e.xp6(7),e.Q6J("ngIf",i.showSegmentTop),e.xp6(1),e.Q6J("ngIf","personal"==i.selectedView),e.xp6(1),e.Q6J("ngIf","trainer"==i.selectedView),e.xp6(1),e.Q6J("ngIf","custode"==i.selectedView))},dependencies:[g.sg,g.O5,h.JJ,h.On,r.We,r.eh,r.YG,r.Sm,r.PM,r.wI,r.W2,r.jY,r.Gu,r.gu,r.Ie,r.Q$,r.q_,r.B7,r.se,r.nJ,r.Wo,r.Nd,r.cJ,r.GO,r.wd,r.sr,r.U5,r.QI,P.m,L,y,R,w.V],styles:["ion-item.mostra-tutto[_ngcontent-%COMP%] > ion-icon[_ngcontent-%COMP%]{font-size:40px}"]}),n})()},{path:"trainer/detail-valutazione/:corsoId",loadChildren:()=>Promise.all([o.e(3939),o.e(7376)]).then(o.bind(o,17376)).then(n=>n.DetailValutazionePageModule)},{path:"trainer/detail-presenza/:pianificazioneCorsoId",loadChildren:()=>o.e(3849).then(o.bind(o,13849)).then(n=>n.DetailPresenzaPageModule)},{path:"trainer/list-valutazioni",loadChildren:()=>Promise.all([o.e(3939),o.e(5742)]).then(o.bind(o,95742)).then(n=>n.ListValutazioniPageModule)},{path:"custode/detail-occupazione/:pianificazioneId",loadChildren:()=>Promise.all([o.e(8592),o.e(2768)]).then(o.bind(o,12768)).then(n=>n.AgendaCustodeDetailsPageModule)},{path:"history-list",loadChildren:()=>Promise.all([o.e(8592),o.e(146)]).then(o.bind(o,10146)).then(n=>n.HistoryListPageModule)},{path:"history-booking/:historyId",loadChildren:()=>Promise.all([o.e(8592),o.e(3617)]).then(o.bind(o,13617)).then(n=>n.HistoryBookingPageModule)},{path:"history-course/:historyId",loadChildren:()=>Promise.all([o.e(8130),o.e(8592),o.e(1674)]).then(o.bind(o,31674)).then(n=>n.HistoryCoursePageModule)}];let se=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[f.Bz.forChild(oe),f.Bz]}),n})();var ae=o(46939);let re=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[g.ez,h.u5,r.Pc,se,ae.q]}),n})()}}]);