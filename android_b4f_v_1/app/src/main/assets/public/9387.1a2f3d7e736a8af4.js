"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9387],{99387:(F,g,a)=>{a.r(g),a.d(g,{TabEventiPageModule:()=>Q});var r=a(69808),p=a(52382),o=a(7706),u=a(2840),d=a(74904),_=a(75822),N=a(41271),e=a(31223);function h(n,s){if(1&n&&(e.TgZ(0,"ion-thumbnail",6),e._UZ(1,"ion-img",7),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("src",t.myNews.LINKIMAGE)}}function E(n,s){if(1&n&&e._UZ(0,"ion-icon",8),2&n){const t=e.oxw();e.Q6J("name",t.myNews._NAMEICON)("color",t.myNews._COLOR)}}function v(n,s){if(1&n&&(e.TgZ(0,"p",3),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.myNews.SUBTITLE," ")}}function w(n,s){if(1&n&&(e.TgZ(0,"p",9)(1,"em"),e._uU(2),e.ALo(3,"date"),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(e.xi3(3,1,t.myNews.PUBBLICATADAL,"dd/MM/yyyy"))}}let f=(()=>{class n{constructor(){this.myNews=new d.d,this.clickNews=new e.vpe}ngOnInit(){}onClickNews(){this.clickNews.emit(this.myNews)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-news-eventi"]],inputs:{myNews:"myNews"},outputs:{clickNews:"clickNews"},decls:9,vars:6,consts:[["lines","none",3,"button","click"],["slot","start",4,"ngIf"],["slot","start",3,"name","color",4,"ngIf"],[1,"ion-text-wrap"],["class","ion-text-wrap",4,"ngIf"],["color","medium","class","ion-text-right ion-padding-horizontal",4,"ngIf"],["slot","start"],[3,"src"],["slot","start",3,"name","color"],["color","medium",1,"ion-text-right","ion-padding-horizontal"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-card")(1,"ion-item",0),e.NdJ("click",function(){return i.onClickNews()}),e.YNc(2,h,2,1,"ion-thumbnail",1),e.YNc(3,E,1,2,"ion-icon",2),e.TgZ(4,"ion-label")(5,"h3",3),e._uU(6),e.qZA(),e.YNc(7,v,2,1,"p",4),e.YNc(8,w,4,4,"p",5),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("button",!i.myNews.do_inserted),e.xp6(1),e.Q6J("ngIf",i.myNews.LINKIMAGE),e.xp6(1),e.Q6J("ngIf",!i.myNews.LINKIMAGE),e.xp6(3),e.hij(" ",i.myNews.TITLE," "),e.xp6(1),e.Q6J("ngIf",i.myNews.SUBTITLE),e.xp6(1),e.Q6J("ngIf",i.myNews.PUBBLICATADAL))},dependencies:[o.PM,o.gu,o.Xz,o.Ie,o.Q$,o.Bs,r.O5,r.uU]}),n})();function T(n,s){if(1&n&&(e.TgZ(0,"p",6),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij("da ",e.xi3(2,1,t.DATAINIZIO,"EEEE dd/MM/yyyy")," ")}}function A(n,s){if(1&n&&(e.TgZ(0,"p",6),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij("fino a ",e.xi3(2,1,t.DATAFINE,"EEEE dd/MM/yyyy")," ")}}function x(n,s){if(1&n&&(e.TgZ(0,"p",6),e._uU(1),e.ALo(2,"date"),e.ALo(3,"date"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.AsE("da ",e.xi3(2,2,t.DATAINIZIO,"EEEE dd/MM/yyyy")," a ",e.xi3(3,5,t.DATAFINE,"EEEE dd/MM/yyyy")," ")}}function I(n,s){if(1&n&&(e.TgZ(0,"ion-badge",7),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij("",e.xi3(2,1,t.DATAORAINIZIO,"HH:mm"),"\n")}}function b(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"ion-item",1),e.NdJ("click",function(){const c=e.CHM(t).$implicit,m=e.oxw();return e.KtG(m.onClickEvento(c))}),e.TgZ(1,"ion-label")(2,"p",2),e._uU(3),e.qZA(),e.TgZ(4,"h3",3),e._uU(5),e.qZA(),e.YNc(6,T,3,4,"p",4),e.YNc(7,A,3,4,"p",4),e.YNc(8,x,4,8,"p",4),e.qZA(),e.YNc(9,I,3,4,"ion-badge",5),e.qZA()}if(2&n){const t=s.$implicit;e.xp6(3),e.Oqu(t._DENOMINAZIONE_Sport),e.xp6(2),e.hij(" ",t.DENOMINAZIONE," "),e.xp6(1),e.Q6J("ngIf",t.DATAINIZIO&&!t.DATAFINE),e.xp6(1),e.Q6J("ngIf",!t.DATAINIZIO&&t.DATAFINE),e.xp6(1),e.Q6J("ngIf",t.DATAINIZIO&&t.DATAFINE),e.xp6(1),e.Q6J("ngIf",t.DATAORAINIZIO)}}let Z=(()=>{class n{constructor(){this.clickEvento=new e.vpe,this._listEventi=[]}set listEventi(t){t&&(this._listEventi=t)}ngOnInit(){}onClickEvento(t){this.clickEvento.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-table-eventi"]],inputs:{listEventi:"listEventi"},outputs:{clickEvento:"clickEvento"},decls:1,vars:1,consts:[["button","true","detail","false",3,"click",4,"ngFor","ngForOf"],["button","true","detail","false",3,"click"],[1,"ion-text-bold"],[1,"ion-text-wrap"],["class","ion-text-bold ion-text-success ion-text-wrap",4,"ngIf"],["color","success","slot","end",4,"ngIf"],[1,"ion-text-bold","ion-text-success","ion-text-wrap"],["color","success","slot","end"]],template:function(t,i){1&t&&e.YNc(0,b,10,6,"ion-item",0),2&t&&e.Q6J("ngForOf",i._listEventi)},dependencies:[o.yp,o.Ie,o.Q$,r.sg,r.O5,r.uU]}),n})();function C(n,s){if(1&n&&(e.TgZ(0,"ion-grid",12)(1,"ion-row")(2,"ion-col"),e._UZ(3,"app-news-eventi",13),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("myNews",t.cardNessunEvento)}}function y(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"ion-list")(1,"ion-list-header")(2,"ion-label",9)(3,"h2"),e._uU(4),e.qZA()()(),e.YNc(5,C,4,1,"ion-grid",10),e.TgZ(6,"app-table-eventi",11),e.NdJ("clickEvento",function(l){e.CHM(t);const c=e.oxw();return e.KtG(c.onClickEvento(l))}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(4),e.hij(" Prossimi Eventi ",t.selectedArea?"a "+(null==t.selectedArea?null:t.selectedArea.DENOMINAZIONE):""," "),e.xp6(1),e.Q6J("ngIf",0===t.listEventi.length),e.xp6(1),e.Q6J("listEventi",t.listEventi)}}function M(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"ion-button",15),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.onClickShowAllNews())}),e._uU(1,"Mostra tutti"),e.qZA()}}function J(n,s){if(1&n&&(e.TgZ(0,"ion-grid",12)(1,"ion-row")(2,"ion-col"),e._UZ(3,"app-news-eventi",13),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("myNews",t.cardNessunaNews)}}function O(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"ion-col",17)(1,"app-news-eventi",18),e.NdJ("clickNews",function(l){const m=e.CHM(t).$implicit,D=e.oxw(3);return e.KtG(D.onClickNews(m,l))}),e.qZA()()}if(2&n){const t=s.$implicit;e.xp6(1),e.Q6J("myNews",t)}}function P(n,s){if(1&n&&(e.TgZ(0,"ion-grid",12)(1,"ion-row"),e.YNc(2,O,2,1,"ion-col",16),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.listNews)}}function q(n,s){if(1&n&&(e.TgZ(0,"ion-list")(1,"ion-list-header")(2,"ion-label")(3,"h2"),e._uU(4),e.qZA()(),e.YNc(5,M,2,0,"ion-button",14),e.qZA(),e.YNc(6,J,4,1,"ion-grid",10),e.YNc(7,P,3,1,"ion-grid",10),e.qZA()),2&n){const t=e.oxw();e.xp6(4),e.hij(" News ",t.selectedArea?"da "+(null==t.selectedArea?null:t.selectedArea.DENOMINAZIONE):""," "),e.xp6(1),e.Q6J("ngIf",t.numRequestNews!=t.numMaxNews),e.xp6(1),e.Q6J("ngIf",0===t.listNews.length),e.xp6(1),e.Q6J("ngIf",0!==t.listNews.length)}}const L=[{path:"",component:(()=>{class n{constructor(t,i,l){this.startService=t,this.navController=i,this.modalController=l,this.numMinNews=5,this.numMaxNews=99,this.numRequestNews=this.numMinNews,this.listNews=[],this.listEventi=[],this.selectedView="pag-eventi",this.cardNessunaNews=d.d.getNoNews(),this.cardNessunEvento=d.d.getNoEventi()}ngOnInit(){this.onListenArea(),this.onListenEventi()}ngOnDestroy(){this.onUnscribeAll()}onListenArea(){this.selectedAreaListen=this.startService.areaSelected.subscribe(t=>{this.selectedArea=t,this.requestEventi(),this.requestNews()})}onListenEventi(){this.subListEventi=this.startService.listEventi.subscribe(t=>{this.listEventi=t})}onUnscribeAll(){this.selectedAreaListen&&this.selectedAreaListen.unsubscribe(),this.subListEventi&&this.subListEventi.unsubscribe()}onChangeSegment(t){switch(this.selectedView){case"pag-eventi":this.requestEventi();break;case"pag-news":this.requestNews()}}doRefresh(t){switch(this.selectedView){case"pag-eventi":this.requestEventi(t);break;case"pag-news":this.requestNews(t)}}afterRefresh(t){t&&t.target&&t.target.complete()}requestNews(t){this.startService.requestListNews(this.selectedArea?this.selectedArea.ID:"",this.numRequestNews).then(l=>{console.log(l),this.listNews=l,this.afterRefresh(t)}).catch(l=>{this.afterRefresh(t)})}onClickShowAllNews(){this.numRequestNews=this.numMaxNews,this.requestNews()}onClickNews(t,i){this.modalController.create({component:N.J,componentProps:{myNews:t}}).then(l=>{l.present()})}requestEventi(t){this.startService.requestNextEventi(this.selectedArea?this.selectedArea.ID:"").then(()=>{this.afterRefresh(t)}).catch(l=>{this.afterRefresh(t)})}onClickEvento(t){let i;t&&(i=this.startService.getUrlPageDetailNewsEventi("evento",t.ID),this.navController.navigateForward(i))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.D),e.Y36(o.SH),e.Y36(o.IN))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-tab-eventi"]],decls:22,vars:4,consts:[["color","primary","mode","md"],["slot","secondary"],["slot","icon-only","name","newspaper"],["slot","fixed",3,"ionRefresh"],["sizeXs","12","sizeSm","12","sizeMd","12","sizeLg","6","offsetLg","3","sizeXl","6","offsetXl","3"],["mode","md",3,"ngModel","ngModelChange","ionChange"],["value","pag-eventi"],["value","pag-news"],[4,"ngIf"],[1,"ion-text-wrap"],["class","ion-no-padding",4,"ngIf"],[3,"listEventi","clickEvento"],[1,"ion-no-padding"],["size","12",3,"myNews"],[3,"click",4,"ngIf"],[3,"click"],["size","12",4,"ngFor","ngForOf"],["size","12"],[3,"myNews","clickNews"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1)(3,"ion-button"),e._UZ(4,"ion-icon",2),e.qZA()(),e.TgZ(5,"ion-title"),e._uU(6),e.qZA()()(),e.TgZ(7,"ion-content")(8,"ion-refresher",3),e.NdJ("ionRefresh",function(c){return i.doRefresh(c)}),e._UZ(9,"ion-refresher-content"),e.qZA(),e.TgZ(10,"ion-grid")(11,"ion-row")(12,"ion-col",4)(13,"ion-segment",5),e.NdJ("ngModelChange",function(c){return i.selectedView=c})("ionChange",function(c){return i.onChangeSegment(c)}),e.TgZ(14,"ion-segment-button",6)(15,"ion-label"),e._uU(16,"Eventi"),e.qZA()(),e.TgZ(17,"ion-segment-button",7)(18,"ion-label"),e._uU(19,"News"),e.qZA()()(),e.YNc(20,y,7,3,"ion-list",8),e.YNc(21,q,8,4,"ion-list",8),e.qZA()()()()),2&t&&(e.xp6(6),e.hij(" ",i.selectedArea?i.selectedArea.DENOMINAZIONE:"Eventi e News"," "),e.xp6(7),e.Q6J("ngModel",i.selectedView),e.xp6(7),e.Q6J("ngIf","pag-eventi"==i.selectedView),e.xp6(1),e.Q6J("ngIf","pag-news"==i.selectedView))},dependencies:[r.sg,r.O5,p.JJ,p.On,o.YG,o.Sm,o.wI,o.W2,o.jY,o.Gu,o.gu,o.Q$,o.q_,o.yh,o.nJ,o.Wo,o.Nd,o.cJ,o.GO,o.wd,o.sr,o.QI,f,Z]}),n})()},{path:"evento-detail/:id",loadChildren:()=>a.e(4714).then(a.bind(a,44714)).then(n=>n.EventoDetailPageModule)},{path:"news-detail/:id",loadChildren:()=>a.e(8592).then(a.bind(a,13114)).then(n=>n.NewsdetailPageModule)}];let U=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.Bz.forChild(L),u.Bz]}),n})();var k=a(46939);let Q=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[r.ez,p.u5,o.Pc,U,k.q]}),n})()}}]);