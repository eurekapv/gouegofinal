"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3613],{7641:(y,Z,s)=>{s.r(Z),s.d(Z,{FilterPageModule:()=>E});var _=s(9808),C=s(4182),r=s(7026),t=s(2028),g=s(2592),T=s(2096);const I=[{path:"",component:g.y}];let M=(()=>{class u{}return u.\u0275fac=function(A){return new(A||u)},u.\u0275mod=T.oAB({type:u}),u.\u0275inj=T.cJS({imports:[[t.Bz.forChild(I)],t.Bz]}),u})();var O=s(933);let E=(()=>{class u{}return u.\u0275fac=function(A){return new(A||u)},u.\u0275mod=T.oAB({type:u}),u.\u0275inj=T.cJS({imports:[[_.ez,C.u5,r.Pc,M,O.q]]}),u})()},2592:(y,Z,s)=>{s.d(Z,{y:()=>A});var _=s(6962),C=s(4021),t=(s(2015),s(2096)),g=s(7026),T=s(4182),I=s(9808),M=s(2058);function O(d,h){if(1&d&&(t.TgZ(0,"ion-select-option",17),t._uU(1),t.qZA()),2&d){const c=h.$implicit;t.Q6J("value",c.value),t.xp6(1),t.hij(" ",c.description," ")}}function E(d,h){if(1&d&&(t.TgZ(0,"ion-select-option",17),t._uU(1),t.qZA()),2&d){const c=h.$implicit;t.Q6J("value",c.ID),t.xp6(1),t.hij(" ",c.DESCTOOLTIP," ")}}function u(d,h){if(1&d&&(t.TgZ(0,"ion-select-option",17),t._uU(1),t.qZA()),2&d){const c=h.$implicit;t.Q6J("value",c.ID),t.xp6(1),t.hij(" ",c.DENOMINAZIONE," ")}}function P(d,h){if(1&d&&(t.TgZ(0,"ion-select-option",17),t._uU(1),t.qZA()),2&d){const c=h.$implicit;t.Q6J("value",c.value),t.xp6(1),t.hij(" ",c.description," ")}}let A=(()=>{class d{constructor(c,o){this.startService=c,this.mdlController=o,this.listTargetSesso=[],this.listTipoCorso=[],this.dataFine=new Date,this.typeSelectInterface="action-sheet",this.compareWithFn=(p,m)=>p===m,this.compareWithSelect=this.compareWithFn,this.listenSport=this.startService.listSport.subscribe(p=>{this.listSport=p}),this.listenCatEta=this.startService.listCategoriaEta.subscribe(p=>{this.listCatEta=p}),this.listTargetSesso=C.Gs.getArray(C.Jw),this.listTipoCorso=C.Gs.getArray(C.oG)}ngOnInit(){this.typeSelectInterface=this.startService.isOnWeb?"popover":"action-sheet"}ngOnDestroy(){this.listenSport&&this.listenSport.unsubscribe(),this.listenCatEta&&this.listenCatEta.unsubscribe()}closeFilter(){this.mdlController.dismiss({dismissFilter:void 0})}applyFilter(){this.myFilter.DATAFINE=new Date(this.dataFine),this.mdlController.dismiss({dismissFilter:this.myFilter})}emptyFilter(){this.dataFine=new Date,this.myFilter.TARGETSESSO=null,this.myFilter.TIPO=null,this.myFilter.IDSPORT=null,this.myFilter.IDCATEGORIEETA=null,this.myFilter.DATAFINE=new Date}}return d.\u0275fac=function(c){return new(c||d)(t.Y36(_.D),t.Y36(g.IN))},d.\u0275cmp=t.Xpm({type:d,selectors:[["app-filter"]],inputs:{myFilter:"myFilter"},decls:40,vars:17,consts:[[1,"ion-no-border"],["color","primary"],["slot","start"],[3,"click"],["name","chevron-back-outline"],["lines","none"],["slot","start","name","information-circle-outline"],[1,"ion-text-wrap"],["lines","full"],["slot","start","position","fixed"],["placeHolder","tutti",3,"compareWith","ngModel","interface","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["placeHolder","tutte",3,"compareWith","ngModel","interface","ngModelChange"],["calendarMode","date","label","dal","title","Dalla data",3,"actualDate","actualDateChange"],["detail","false","button","true","lines","none",1,"ion-text-end",3,"click"],["slot","end","name","trash-outline"],["color","secondary","fill","solid","expand","block",3,"click"],[3,"value"]],template:function(c,o){1&c&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),t._uU(3,"Ricerca corsi"),t.qZA(),t.TgZ(4,"ion-buttons",2)(5,"ion-button",3),t.NdJ("click",function(){return o.closeFilter()}),t._UZ(6,"ion-icon",4),t.qZA()()()(),t.TgZ(7,"ion-content")(8,"ion-item",5),t._UZ(9,"ion-icon",6),t.TgZ(10,"ion-label",7),t._uU(11," Imposta nelle caselle sottostanti le caratteristiche corsi desiderate e quindi premi il pulsante Cerca Corsi "),t.qZA()(),t.TgZ(12,"ion-item",8)(13,"ion-label",9),t._uU(14,"Target "),t.qZA(),t.TgZ(15,"ion-select",10),t.NdJ("ngModelChange",function(m){return o.myFilter.TARGETSESSO=m}),t.YNc(16,O,2,2,"ion-select-option",11),t.qZA()(),t.TgZ(17,"ion-item")(18,"ion-label",9),t._uU(19,"Et\xe0"),t.qZA(),t.TgZ(20,"ion-select",12),t.NdJ("ngModelChange",function(m){return o.myFilter.IDCATEGORIEETA=m}),t.YNc(21,E,2,2,"ion-select-option",11),t.qZA()(),t.TgZ(22,"ion-item")(23,"ion-label",9),t._uU(24,"Attivit\xe0"),t.qZA(),t.TgZ(25,"ion-select",12),t.NdJ("ngModelChange",function(m){return o.myFilter.IDSPORT=m}),t.YNc(26,u,2,2,"ion-select-option",11),t.qZA()(),t.TgZ(27,"ion-item")(28,"ion-label",9),t._uU(29,"Tipologia"),t.qZA(),t.TgZ(30,"ion-select",10),t.NdJ("ngModelChange",function(m){return o.myFilter.TIPO=m}),t.YNc(31,P,2,2,"ion-select-option",11),t.qZA()(),t.TgZ(32,"app-dtinput",13),t.NdJ("actualDateChange",function(m){return o.dataFine=m}),t.qZA(),t.TgZ(33,"ion-item",14),t.NdJ("click",function(){return o.emptyFilter()}),t.TgZ(34,"ion-label",7),t._uU(35," reimposta i filtri "),t.qZA(),t._UZ(36,"ion-icon",15),t.qZA()(),t.TgZ(37,"ion-footer")(38,"ion-button",16),t.NdJ("click",function(){return o.applyFilter()}),t._uU(39," Cerca Corsi "),t.qZA()()),2&c&&(t.xp6(15),t.Q6J("compareWith",o.compareWithSelect)("ngModel",o.myFilter.TARGETSESSO)("interface",o.typeSelectInterface),t.xp6(1),t.Q6J("ngForOf",o.listTargetSesso),t.xp6(4),t.Q6J("compareWith",o.compareWithSelect)("ngModel",o.myFilter.IDCATEGORIEETA)("interface",o.typeSelectInterface),t.xp6(1),t.Q6J("ngForOf",o.listCatEta),t.xp6(4),t.Q6J("compareWith",o.compareWithSelect)("ngModel",o.myFilter.IDSPORT)("interface",o.typeSelectInterface),t.xp6(1),t.Q6J("ngForOf",o.listSport),t.xp6(4),t.Q6J("compareWith",o.compareWithSelect)("ngModel",o.myFilter.TIPO)("interface",o.typeSelectInterface),t.xp6(1),t.Q6J("ngForOf",o.listTipoCorso),t.xp6(1),t.Q6J("actualDate",o.dataFine))},directives:[g.Gu,g.sr,g.wd,g.Sm,g.YG,g.gu,g.W2,g.Ie,g.Q$,g.t9,g.QI,T.JJ,T.On,I.sg,g.n0,M.V,g.fr],styles:["ion-select[_ngcontent-%COMP%]{max-width:100%!important}"]}),d})()},3613:(y,Z,s)=>{s.r(Z),s.d(Z,{ListcoursesPageModule:()=>$});var _=s(9808),C=s(4182),r=s(7026),t=s(2028),g=s(2015),T=s(6962),I=s(4021),M=s(2592),O=s(9821),E=s(8223),u=s(7266),P=s(7587),A=s(7205),d=s(1799),h=s(8775),c=s(9129),o=s(2096);function p(n,a){1&n&&(o.TgZ(0,"ion-fab",24)(1,"ion-fab-button",25),o._uU(2,"Prova"),o.qZA()())}function m(n,a){if(1&n&&(o.TgZ(0,"td")(1,"ion-button",26),o._uU(2),o.ALo(3,"uppercase"),o.qZA()()),2&n){const e=a.$implicit;o.xp6(1),o.Q6J("fill",e.selected?"solid":"outline"),o.xp6(1),o.hij(" ",o.lcZ(3,2,e.xsLabel)," ")}}function S(n,a){if(1&n&&(o.TgZ(0,"div",27)(1,"h6")(2,"em"),o._uU(3),o.qZA()()()),2&n){const e=o.oxw();o.xp6(3),o.AsE("",e.myCorso.NUMEROLEZIONI," ",e.myCorso.NUMEROLEZIONI>1?"Incontri ":"Incontro ","")}}function F(n,a){if(1&n&&(o.TgZ(0,"p",28),o._uU(1),o.ALo(2,"date"),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.hij("Inizia il ",o.xi3(2,1,e.myCorso.DATAINIZIO,"dd/MM/yyyy"),"")}}function L(n,a){if(1&n&&(o.TgZ(0,"p",28),o._uU(1),o.ALo(2,"date"),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.hij("Termina il ",o.xi3(2,1,e.myCorso.DATAFINE,"dd/MM/yyyy"),"")}}function U(n,a){if(1&n&&(o.TgZ(0,"p",28),o._uU(1),o.ALo(2,"date"),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.hij("Concluso il ",o.xi3(2,1,e.myCorso.DATAFINE,"dd/MM/yyyy"),"")}}function D(n,a){if(1&n){const e=o.EpF();o.TgZ(0,"ion-button",30),o.NdJ("click",function(){return o.CHM(e),o.oxw(2).onClickIscrizione()}),o._uU(1," Iscriviti adesso "),o.qZA()}}function N(n,a){if(1&n&&(o.TgZ(0,"ion-row")(1,"ion-col",21),o.YNc(2,D,2,0,"ion-button",29),o.qZA()()),2&n){const e=o.oxw();o.xp6(2),o.Q6J("ngIf",e.showIscrizioniButton())}}let b=(()=>{class n{constructor(e){this.startService=e,this.myCorso=new g._,this.useIscrizioniColor=!1,this.clickDetail=new o.vpe,this.clickIscrizione=new o.vpe,this.iconColor="primary",this.tempoCorso=I.cJ}ngOnInit(){}showIscrizioniButton(){let e=!1;return this.myCorso&&this.useIscrizioniColor&&this.myCorso.flagIscrizioniAperte()&&(e=!0),e}onClickIscrizione(){this.clickIscrizione.emit(this.myCorso)}getClassHeader(){let e="";return this.myCorso&&this.useIscrizioniColor&&this.myCorso.flagIscrizioniAperte()&&(e="special"),e}showFabProva(){let e=!1;return this.myCorso&&this.myCorso.TIPO==I.oG.prova&&(e=!0),e}getLabelTargetSesso(){let e=I.Jw.maschileFemminile,i="";return this.myCorso.TARGETSESSO&&(e=this.myCorso.TARGETSESSO),i=I.Gs.decode(I.Jw,e),i}goToDetail(){this.clickDetail.emit(this.myCorso)}getSportIcon(e){if(e)return this.startService.getSportIcon(e.IDSPORT)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(T.D))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-card-course"]],inputs:{myCorso:"myCorso",useIscrizioniColor:"useIscrizioniColor"},outputs:{clickDetail:"clickDetail",clickIscrizione:"clickIscrizione"},decls:50,vars:23,consts:[["button","",1,"ion-no-margin","ion-margin-horizontal",3,"click"],[3,"ngClass"],["vertical","top","horizontal","end",4,"ngIf"],[1,"ion-no-padding"],[1,"ion-no-padding","ion-align-items-center"],["size","2",1,"ion-no-padding"],[1,"icon-sport"],[3,"innerHTML"],["size","10",1,"ion-no-padding"],["size","6","size-sm","6"],["size","small","color","primary","expand","block","fill","outline"],["name","time","slot","start"],["name","infinite","slot","start"],[1,"div-giornate","ion-text-center"],[2,"width","100%"],[4,"ngFor","ngForOf"],["class","contentLezioni ion-margin-horizontal",4,"ngIf"],["name","stats-chart-outline","slot","start",3,"color"],["name","bookmark-outline","slot","start",3,"color"],["lines","none"],["name","transgender-outline","slot","start",3,"color"],["size","12","size-sm","12"],["class","footer",4,"ngIf"],[4,"ngIf"],["vertical","top","horizontal","end"],["color","danger"],["color","secondary","size","small",3,"fill"],[1,"contentLezioni","ion-margin-horizontal"],[1,"footer"],["color","success","fill","solid","expand","block",3,"click",4,"ngIf"],["color","success","fill","solid","expand","block",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"ion-card",0),o.NdJ("click",function(){return i.goToDetail()}),o.TgZ(1,"ion-card-header",1),o.YNc(2,p,3,0,"ion-fab",2),o.TgZ(3,"ion-grid",3)(4,"ion-row",4)(5,"ion-col",5)(6,"i",6),o._UZ(7,"span",7),o.qZA()(),o.TgZ(8,"ion-col",8)(9,"ion-card-subtitle"),o._uU(10),o.qZA(),o.TgZ(11,"ion-card-title"),o._uU(12),o.qZA()()()()(),o.TgZ(13,"ion-card-content",3)(14,"ion-grid")(15,"ion-row")(16,"ion-col",9)(17,"ion-button",10),o._UZ(18,"ion-icon",11),o._uU(19),o.ALo(20,"date"),o.qZA()(),o.TgZ(21,"ion-col",9)(22,"ion-button",10),o._UZ(23,"ion-icon",12),o._uU(24),o.qZA()()()()(),o.TgZ(25,"ion-card-content",3)(26,"div",13)(27,"table",14)(28,"tr"),o.YNc(29,m,4,4,"td",15),o.qZA()()(),o.YNc(30,S,4,2,"div",16),o.qZA(),o.TgZ(31,"ion-item"),o._UZ(32,"ion-icon",17),o.TgZ(33,"ion-label"),o._uU(34),o.qZA()(),o.TgZ(35,"ion-item"),o._UZ(36,"ion-icon",18),o.TgZ(37,"ion-label"),o._uU(38),o.qZA()(),o.TgZ(39,"ion-item",19),o._UZ(40,"ion-icon",20),o.TgZ(41,"ion-label"),o._uU(42),o.qZA()(),o.TgZ(43,"ion-footer")(44,"ion-row")(45,"ion-col",21),o.YNc(46,F,3,4,"p",22),o.YNc(47,L,3,4,"p",22),o.YNc(48,U,3,4,"p",22),o.qZA()()()(),o.YNc(49,N,3,1,"ion-row",23)),2&e&&(o.xp6(1),o.Q6J("ngClass",i.getClassHeader()),o.xp6(1),o.Q6J("ngIf",i.showFabProva()),o.xp6(5),o.Q6J("innerHTML",i.getSportIcon(i.myCorso),o.oJD),o.xp6(3),o.Oqu(i.myCorso._DENOMINAZIONE_Sport),o.xp6(2),o.Oqu(i.myCorso.DENOMINAZIONE),o.xp6(7),o.hij(" ",o.xi3(20,20,i.myCorso.ORAINIZIO,"HH:mm")," "),o.xp6(5),o.AsE(" ",i.myCorso.ORELEZIONE," ",i.myCorso.ORELEZIONE>1?"Ore":"Ora"," "),o.xp6(5),o.Q6J("ngForOf",i.myCorso._SETTIMANA),o.xp6(1),o.Q6J("ngIf",i.myCorso.NUMEROLEZIONI),o.xp6(2),o.Q6J("color",i.iconColor),o.xp6(2),o.Oqu(i.myCorso._DENOMINAZIONE_Livello?i.myCorso._DENOMINAZIONE_Livello:"Tutti i Livelli"),o.xp6(2),o.Q6J("color",i.iconColor),o.xp6(2),o.Oqu(i.myCorso.IDCATEGORIEETA?i.myCorso._DESCTOOLTIP_CategoriaEta:"Per tutte le et\xe0"),o.xp6(2),o.Q6J("color",i.iconColor),o.xp6(2),o.Oqu(i.getLabelTargetSesso()),o.xp6(4),o.Q6J("ngIf",i.myCorso.tempoCorso()==i.tempoCorso.FUTURO),o.xp6(1),o.Q6J("ngIf",i.myCorso.tempoCorso()==i.tempoCorso.IN_CORSO),o.xp6(1),o.Q6J("ngIf",i.myCorso.tempoCorso()==i.tempoCorso.PASSATO),o.xp6(1),o.Q6J("ngIf",i.showIscrizioniButton()))},directives:[r.PM,r.Zi,_.mk,_.O5,r.IJ,r.W4,r.jY,r.Nd,r.wI,r.tO,r.Dq,r.FN,r.YG,r.gu,_.sg,r.Ie,r.Q$,r.fr],pipes:[_.uU,_.gd],styles:[".contentLezioni[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.div-giornate[_ngcontent-%COMP%]{padding:8px}ion-card[_ngcontent-%COMP%]{--background: var(--ion-color-light-alpha)}ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{--background: var(--ion-color-light-tint)}ion-card[_ngcontent-%COMP%]   ion-card-header.special[_ngcontent-%COMP%]{--background: var(--ion-color-success-tint)}ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]{padding:0 5px}ion-card[_ngcontent-%COMP%]   ion-footer[_ngcontent-%COMP%]{background-color:var(--ion-color-light-tint);padding:4px 16px}ion-card[_ngcontent-%COMP%]   ion-footer[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding:0 5px}ion-card[_ngcontent-%COMP%]   ion-footer[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%], ion-card[_ngcontent-%COMP%]   ion-footer[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{--background: var(--ion-color-success-tint);--color: var(--ion-color-dark);--color-activated: var(--ion-color-dark);font-weight:700}ion-card[_ngcontent-%COMP%]   ion-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;font-size:18;font-weight:600}i.icon-sport[_ngcontent-%COMP%]{font-size:30px;font-weight:600}ion-card-title[_ngcontent-%COMP%]{font-size:18px}"]}),n})();function z(n,a){if(1&n){const e=o.EpF();o.TgZ(0,"ion-toolbar",12)(1,"ion-segment",13),o.NdJ("ionChange",function(l){return o.CHM(e),o.oxw().onChangeSegmentCorsi(l)})("ngModelChange",function(l){return o.CHM(e),o.oxw().statoPagina=l}),o.TgZ(2,"ion-segment-button",14),o._UZ(3,"ion-icon",15),o.TgZ(4,"ion-label"),o._uU(5,"Mio Livello"),o.qZA()(),o.TgZ(6,"ion-segment-button",14),o._UZ(7,"ion-icon",16),o.TgZ(8,"ion-label"),o._uU(9,"Tutti"),o.qZA()()()()}if(2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngModel",e.statoPagina),o.xp6(1),o.Q6J("value",e.PageState.MIEI),o.xp6(4),o.Q6J("value",e.PageState.TUTTI)}}function J(n,a){if(1&n){const e=o.EpF();o.TgZ(0,"ion-col",19)(1,"app-card-course",20),o.NdJ("clickDetail",function(l){return o.CHM(e),o.oxw(2).onClickCardDetail(l)})("clickIscrizione",function(l){return o.CHM(e),o.oxw(2).onClickIscrizione(l)}),o.qZA()()}if(2&n){const e=a.$implicit,i=o.oxw(2);o.xp6(1),o.Q6J("myCorso",e)("useIscrizioniColor",i.enableIscrizioni)}}function x(n,a){if(1&n&&(o.TgZ(0,"div",17)(1,"ion-grid")(2,"ion-row"),o.YNc(3,J,2,2,"ion-col",18),o.qZA()()()),2&n){const e=o.oxw();o.xp6(3),o.Q6J("ngForOf",e.listCorsi)}}function R(n,a){if(1&n){const e=o.EpF();o.TgZ(0,"ion-col",19)(1,"app-card-course",20),o.NdJ("clickDetail",function(l){return o.CHM(e),o.oxw(2).onClickCardDetail(l)})("clickIscrizione",function(l){return o.CHM(e),o.oxw(2).onClickIscrizione(l)}),o.qZA()()}if(2&n){const e=a.$implicit,i=o.oxw(2);o.xp6(1),o.Q6J("myCorso",e)("useIscrizioniColor",i.enableIscrizioni)}}function w(n,a){if(1&n&&(o.TgZ(0,"div",17)(1,"ion-grid")(2,"ion-row"),o.YNc(3,R,2,2,"ion-col",18),o.qZA()()()),2&n){const e=o.oxw();o.xp6(3),o.Q6J("ngForOf",e.listCorsiMioLivello)}}function Q(n,a){1&n&&(o.TgZ(0,"div",21)(1,"ion-label"),o._uU(2,"Nessun corso disponibile"),o.qZA(),o.TgZ(3,"ion-label"),o._uU(4,"Modifica i parametri"),o.qZA(),o.TgZ(5,"ion-label"),o._uU(6,"di Ricerca"),o.qZA()())}function Y(n,a){1&n&&(o.TgZ(0,"div",21)(1,"ion-label"),o._uU(2,"Nessun corso disponibile"),o.qZA(),o.TgZ(3,"ion-label"),o._uU(4,"Modifica i parametri"),o.qZA(),o.TgZ(5,"ion-label"),o._uU(6,"di Ricerca"),o.qZA()())}var v=(()=>{return(n=v||(v={}))[n.TUTTI=10]="TUTTI",n[n.MIEI=20]="MIEI",v;var n})();const k=[{path:"",component:(()=>{class n{constructor(e,i,l,f,K,V,X,oo){this.router=e,this.startService=i,this.mdlController=l,this.navController=f,this.loadingCtrl=K,this.toastCtrl=V,this.docStructureService=X,this.gestureCtrl=oo,this.PageState=v,this.idLocation="",this.listCorsi=[],this.listCorsiMioLivello=[],this.filtroCorsi=new g._(!0),this.userLogged=!1,this.statoPagina=v.TUTTI,this.showTabs=!0,this.enableIscrizioni=!1,this.preferList=I._s.tutti,this.onListenUser(),this.filtroCorsi.DATAFINE=new Date,this.filtroCorsi.addFilterCondition(P.Wh.maggiore,"DATAFINE"),this.onListenSelectedArea()}onListenSelectedArea(){this.listenSelectedArea=this.startService.areaSelected.subscribe(e=>{this.selectedArea=e,this.enableIscrizioni=1==this.selectedArea.APPISCRIZIONI},e=>{this.enableIscrizioni=!1})}onListenUser(){this.listenDocUser=this.startService.utente.subscribe(e=>{this.docUser=e}),this.listenUserLogged=this.startService.utenteLogged.subscribe(e=>{this.userLogged=e,1==this.userLogged&&(this.statoPagina=v.MIEI)})}ngOnInit(){this.router.paramMap.subscribe(e=>{e.has("locationId")&&(this.idLocation=e.get("locationId"),this.filtroCorsi.IDLOCATION=this.idLocation,this.requestCorsi())})}ngOnDestroy(){this.listenSelectedArea&&this.listenSelectedArea.unsubscribe(),this.listenUserLogged&&this.listenUserLogged.unsubscribe()}requestCorsi(){this.loadingCtrl.create({spinner:"circular",message:"Caricamento",backdropDismiss:!0}).then(e=>{e.present();let i=new u.Kl;i.decode.active=!0,this.docStructureService.requestNew(this.filtroCorsi,i).then(l=>{e.dismiss(),this.listCorsi=l,this.prepareForMioLivello()}).catch(l=>{e.dismiss(),this.showMessage("Errore di connessione"),c.M.consoleLog(l,"error")})})}prepareForMioLivello(){this.listCorsiMioLivello=[],this.docUser&&(this.listCorsiMioLivello=this.listCorsi.filter(e=>{let i=!0;return e.IDLIVELLOENTRATA&&""!=e.IDLIVELLOENTRATA&&(i=this.docUser.isForLevelSport(e.IDLIVELLOENTRATA,e.IDSPORT)),i&&e.TARGETSESSO&&(i=this.docUser.isForTargetSesso(e.TARGETSESSO)),i&&e.IDCATEGORIEETA&&0!=e.IDCATEGORIEETA.length&&this.docUser.NATOIL&&(i=this.startService.isValidCategorieEta(e.IDCATEGORIEETA,this.docUser.eta)),i}))}onChangeSegmentCorsi(e){this.userLogged&&(this.statoPagina=e.target.value)}goToFilter(){this.mdlController.create({component:M.y,componentProps:{myFilter:this.filtroCorsi}}).then(e=>{e.present(),e.onWillDismiss().then(i=>{i.data.dismissFilter&&this.onModalNewFilter(i.data.dismissFilter)})})}onModalNewFilter(e){this.filtroCorsi=e,this.requestCorsi()}onClickCardCalendar(e){this.mdlController.create({component:O.V,componentProps:{myCorso:e}}).then(i=>{i.present()})}showMessage(e){this.toastCtrl.create({message:e,duration:3e3}).then(i=>{i.present()})}doRefresh(e){this.requestCorsi(),e.target.complete()}onClickCardDetail(e){this.navController.navigateForward(["/","detailcourse",e.ID])}onClickIscrizione(e){if(e&&this.enableIscrizioni&&e.flagIscrizioniAperte())if(this.userLogged){let i;this.docUser&&(i=this.docUser.getParamsVerifica(this.startService.actualStartConfig.gruppo),i?this.mdlController.create({component:d.I,componentProps:{params:i}}).then(l=>{l.present()}):this.mdlController.create({component:h.Z,componentProps:{params:e}}).then(l=>{l.present()}))}else this.startService.setIdAreaForcedForLogin(),this.mdlController.create({component:A.y}).then(i=>{i.present()})}onScroll(e){e.detail.currentY<5?this.showTabs=!0:e.detail.deltaY>20?this.showTabs=!1:e.detail.deltaY<-20&&(this.showTabs=!0)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(t.gz),o.Y36(T.D),o.Y36(r.IN),o.Y36(r.SH),o.Y36(r.HT),o.Y36(r.yF),o.Y36(E.l),o.Y36(r.TH))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-listcourses"]],decls:18,vars:5,consts:[[1,"ion-no-border"],["color","primary"],["slot","start"],["defaultHref","/"],["slot","primary"],[3,"click"],["name","search"],["mode","md",4,"ngIf"],["id","content","scrollEvents","",3,"ionScroll"],["slot","fixed",3,"ionRefresh"],["id","crs-lista",4,"ngIf"],["class","nofind-cnt",4,"ngIf"],["mode","md"],["color","primary","id","crs:button",3,"ngModel","ionChange","ngModelChange"],[3,"value"],["name","bar-chart-outline"],["name","school-outline"],["id","crs-lista"],["sizeXs","12","sizeSm","8","offsetSm","2","sizeMd","6","offsetMd","0","sizeLg","5","offsetLg","0.5","sizeXl","4","offsetXl","0",4,"ngFor","ngForOf"],["sizeXs","12","sizeSm","8","offsetSm","2","sizeMd","6","offsetMd","0","sizeLg","5","offsetLg","0.5","sizeXl","4","offsetXl","0"],[3,"myCorso","useIscrizioniColor","clickDetail","clickIscrizione"],[1,"nofind-cnt"]],template:function(e,i){1&e&&(o.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),o._UZ(3,"ion-back-button",3),o.qZA(),o.TgZ(4,"ion-title"),o._uU(5,"Corsi"),o.qZA(),o.TgZ(6,"ion-buttons",4)(7,"ion-button",5),o.NdJ("click",function(){return i.goToFilter()}),o._UZ(8,"ion-icon",6),o.qZA()()(),o.YNc(9,z,10,3,"ion-toolbar",7),o.qZA(),o.TgZ(10,"ion-content",8),o.NdJ("ionScroll",function(f){return i.onScroll(f)}),o.TgZ(11,"ion-refresher",9),o.NdJ("ionRefresh",function(f){return i.doRefresh(f)}),o._UZ(12,"ion-refresher-content"),o.qZA(),o.YNc(13,x,4,1,"div",10),o.YNc(14,w,4,1,"div",10),o.YNc(15,Q,7,0,"div",11),o.YNc(16,Y,7,0,"div",11),o.qZA(),o._UZ(17,"ion-footer")),2&e&&(o.xp6(9),o.Q6J("ngIf",i.showTabs&&i.userLogged),o.xp6(4),o.Q6J("ngIf",0!==i.listCorsi.length&&i.statoPagina==i.PageState.TUTTI),o.xp6(1),o.Q6J("ngIf",0!==i.listCorsiMioLivello.length&&i.statoPagina==i.PageState.MIEI),o.xp6(1),o.Q6J("ngIf",0===i.listCorsi.length&&i.statoPagina==i.PageState.TUTTI),o.xp6(1),o.Q6J("ngIf",0===i.listCorsiMioLivello.length&&i.statoPagina==i.PageState.MIEI))},directives:[r.Gu,r.sr,r.Sm,r.oU,r.cs,r.wd,r.YG,r.gu,_.O5,r.cJ,r.QI,C.JJ,C.On,r.GO,r.Q$,r.W2,r.nJ,r.Wo,r.jY,r.Nd,_.sg,r.wI,b,r.fr],styles:["#crs-nofind-cnt[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;align-content:center;height:100%;padding:0;margin:0;display:-webkit-flex;background-color:var(--ion-color-light);color:var(--ion-color-warning)}"]}),n})()},{path:"filter",loadChildren:()=>Promise.resolve().then(s.bind(s,7641)).then(n=>n.FilterPageModule)}];let q=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[t.Bz.forChild(k)],t.Bz]}),n})();var W=s(7641),G=s(933),B=s(1700),H=s(4776),j=s(378);let $=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[_.ez,C.u5,r.Pc,q,B.E,W.FilterPageModule,G.q,H.W,j.VerifyPageModule]]}),n})()}}]);