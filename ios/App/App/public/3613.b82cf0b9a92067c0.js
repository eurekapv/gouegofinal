"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3613],{7641:(E,Z,s)=>{s.r(Z),s.d(Z,{FilterPageModule:()=>O});var _=s(9808),C=s(4182),r=s(5362),e=s(2028),c=s(2592),T=s(2096);const I=[{path:"",component:c.y}];let v=(()=>{class u{}return u.\u0275fac=function(P){return new(P||u)},u.\u0275mod=T.oAB({type:u}),u.\u0275inj=T.cJS({imports:[[e.Bz.forChild(I)],e.Bz]}),u})(),O=(()=>{class u{}return u.\u0275fac=function(P){return new(P||u)},u.\u0275mod=T.oAB({type:u}),u.\u0275inj=T.cJS({imports:[[_.ez,C.u5,r.Pc,v]]}),u})()},2592:(E,Z,s)=>{s.d(Z,{y:()=>P});var _=s(1247),C=s(4021),e=(s(2015),s(2096)),c=s(5362),T=s(4182),I=s(9808);function v(d,h){if(1&d&&(e.TgZ(0,"ion-select-option",12),e._uU(1),e.qZA()),2&d){const g=h.$implicit;e.Q6J("value",g.value),e.xp6(1),e.hij(" ",g.description," ")}}function O(d,h){if(1&d&&(e.TgZ(0,"ion-select-option",12),e._uU(1),e.qZA()),2&d){const g=h.$implicit;e.Q6J("value",g.ID),e.xp6(1),e.hij(" ",g.DESCTOOLTIP," ")}}function u(d,h){if(1&d&&(e.TgZ(0,"ion-select-option",12),e._uU(1),e.qZA()),2&d){const g=h.$implicit;e.Q6J("value",g.ID),e.xp6(1),e.hij(" ",g.DENOMINAZIONE," ")}}function A(d,h){if(1&d&&(e.TgZ(0,"ion-select-option",12),e._uU(1),e.qZA()),2&d){const g=h.$implicit;e.Q6J("value",g.value),e.xp6(1),e.hij(" ",g.description," ")}}let P=(()=>{class d{constructor(g,o){this.startService=g,this.mdlController=o,this.listTargetSesso=[],this.listTipoCorso=[],this.dataFine=new Date,this.compareWithFn=(p,m)=>p===m,this.compareWithSelect=this.compareWithFn,this.listenSport=this.startService.listSport.subscribe(p=>{this.listSport=p}),this.listenCatEta=this.startService.listCategoriaEta.subscribe(p=>{this.listCatEta=p}),this.listTargetSesso=C.Gs.getArray(C.Jw),this.listTipoCorso=C.Gs.getArray(C.oG)}ngOnInit(){}ngOnDestroy(){this.listenSport&&this.listenSport.unsubscribe(),this.listenCatEta&&this.listenCatEta.unsubscribe()}closeFilter(){this.mdlController.dismiss({dismissFilter:void 0})}applyFilter(){this.myFilter.DATAFINE=new Date(this.dataFine),this.mdlController.dismiss({dismissFilter:this.myFilter})}emptyFilter(){this.myFilter.TARGETSESSO=null,this.myFilter.TIPO=null,this.myFilter.IDSPORT=null,this.myFilter.IDCATEGORIEETA=null,this.myFilter.DATAFINE=new Date}}return d.\u0275fac=function(g){return new(g||d)(e.Y36(_.D),e.Y36(c.IN))},d.\u0275cmp=e.Xpm({type:d,selectors:[["app-filter"]],inputs:{myFilter:"myFilter"},decls:40,vars:13,consts:[[1,"ion-no-border"],["color","primary"],["slot","end"],[3,"click"],["name","close"],["position","floating"],["interface","popover","placeHolder","tutti",3,"compareWith","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["interface","popover","placeHolder","tutte",3,"compareWith","ngModel","ngModelChange"],["max","2099-12-31","cancelText","Annulla","doneText","Conferma","displayFormat","DD/MM/YYYY","placeHolder","oggi",3,"ngModel","ngModelChange"],["color","danger","fill","outline","expand","block","size","small",1,"ion-margin-top","ion-margin-horizontal",3,"click"],["color","primary","fill","solid","expand","block",3,"click"],[3,"value"]],template:function(g,o){1&g&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),e._uU(3,"Filtri"),e.qZA(),e.TgZ(4,"ion-buttons",2)(5,"ion-button",3),e.NdJ("click",function(){return o.closeFilter()}),e._UZ(6,"ion-icon",4),e.qZA()()()(),e.TgZ(7,"ion-content")(8,"ion-list-header")(9,"ion-label"),e._uU(10," Ricerca corsi per "),e.qZA()(),e.TgZ(11,"ion-item")(12,"ion-label",5),e._uU(13,"Target"),e.qZA(),e.TgZ(14,"ion-select",6),e.NdJ("ngModelChange",function(m){return o.myFilter.TARGETSESSO=m}),e.YNc(15,v,2,2,"ion-select-option",7),e.qZA()(),e.TgZ(16,"ion-item")(17,"ion-label",5),e._uU(18,"Et\xe0"),e.qZA(),e.TgZ(19,"ion-select",8),e.NdJ("ngModelChange",function(m){return o.myFilter.IDCATEGORIEETA=m}),e.YNc(20,O,2,2,"ion-select-option",7),e.qZA()(),e.TgZ(21,"ion-item")(22,"ion-label",5),e._uU(23,"Attivit\xe0"),e.qZA(),e.TgZ(24,"ion-select",8),e.NdJ("ngModelChange",function(m){return o.myFilter.IDSPORT=m}),e.YNc(25,u,2,2,"ion-select-option",7),e.qZA()(),e.TgZ(26,"ion-item")(27,"ion-label",5),e._uU(28,"Tipologia"),e.qZA(),e.TgZ(29,"ion-select",6),e.NdJ("ngModelChange",function(m){return o.myFilter.TIPO=m}),e.YNc(30,A,2,2,"ion-select-option",7),e.qZA()(),e.TgZ(31,"ion-item")(32,"ion-label",5),e._uU(33,"Disponibili da"),e.qZA(),e.TgZ(34,"ion-datetime",9),e.NdJ("ngModelChange",function(m){return o.dataFine=m}),e.qZA()(),e.TgZ(35,"ion-button",10),e.NdJ("click",function(){return o.emptyFilter()}),e._uU(36," Svuota Filtri "),e.qZA()(),e.TgZ(37,"ion-footer")(38,"ion-button",11),e.NdJ("click",function(){return o.applyFilter()}),e._uU(39," Applica "),e.qZA()()),2&g&&(e.xp6(14),e.Q6J("compareWith",o.compareWithSelect)("ngModel",o.myFilter.TARGETSESSO),e.xp6(1),e.Q6J("ngForOf",o.listTargetSesso),e.xp6(4),e.Q6J("compareWith",o.compareWithSelect)("ngModel",o.myFilter.IDCATEGORIEETA),e.xp6(1),e.Q6J("ngForOf",o.listCatEta),e.xp6(4),e.Q6J("compareWith",o.compareWithSelect)("ngModel",o.myFilter.IDSPORT),e.xp6(1),e.Q6J("ngForOf",o.listSport),e.xp6(4),e.Q6J("compareWith",o.compareWithSelect)("ngModel",o.myFilter.TIPO),e.xp6(1),e.Q6J("ngForOf",o.listTipoCorso),e.xp6(4),e.Q6J("ngModel",o.dataFine))},directives:[c.Gu,c.sr,c.wd,c.Sm,c.YG,c.gu,c.W2,c.yh,c.Q$,c.Ie,c.t9,c.QI,T.JJ,T.On,I.sg,c.n0,c.x4,c.fr],styles:[""]}),d})()},3613:(E,Z,s)=>{s.r(Z),s.d(Z,{ListcoursesPageModule:()=>j});var _=s(9808),C=s(4182),r=s(5362),e=s(2028),c=s(2015),T=s(1247),I=s(4021),v=s(2592),O=s(9821),u=s(8223),A=s(7266),P=s(7587),d=s(7932),h=s(1799),g=s(8775),o=s(2096);function p(n,a){1&n&&(o.TgZ(0,"ion-fab",24)(1,"ion-fab-button",25),o._uU(2,"Prova"),o.qZA()())}function m(n,a){if(1&n&&(o.TgZ(0,"td")(1,"ion-button",26),o._uU(2),o.ALo(3,"uppercase"),o.qZA()()),2&n){const i=a.$implicit;o.xp6(1),o.Q6J("fill",i.selected?"solid":"outline"),o.xp6(1),o.hij(" ",o.lcZ(3,2,i.xsLabel)," ")}}function y(n,a){if(1&n&&(o.TgZ(0,"div",27)(1,"h6")(2,"em"),o._uU(3),o.qZA()()()),2&n){const i=o.oxw();o.xp6(3),o.AsE("",i.myCorso.NUMEROLEZIONI," ",i.myCorso.NUMEROLEZIONI>1?"Incontri ":"Incontro ","")}}function F(n,a){if(1&n&&(o.TgZ(0,"p",28),o._uU(1),o.ALo(2,"date"),o.qZA()),2&n){const i=o.oxw();o.xp6(1),o.hij("Inizia il ",o.xi3(2,1,i.myCorso.DATAINIZIO,"dd/MM/yyyy"),"")}}function S(n,a){if(1&n&&(o.TgZ(0,"p",28),o._uU(1),o.ALo(2,"date"),o.qZA()),2&n){const i=o.oxw();o.xp6(1),o.hij("Termina il ",o.xi3(2,1,i.myCorso.DATAFINE,"dd/MM/yyyy"),"")}}function L(n,a){if(1&n&&(o.TgZ(0,"p",28),o._uU(1),o.ALo(2,"date"),o.qZA()),2&n){const i=o.oxw();o.xp6(1),o.hij("Concluso il ",o.xi3(2,1,i.myCorso.DATAFINE,"dd/MM/yyyy"),"")}}function N(n,a){if(1&n){const i=o.EpF();o.TgZ(0,"ion-button",30),o.NdJ("click",function(){return o.CHM(i),o.oxw(2).onClickIscrizione()}),o._uU(1," Iscriviti adesso "),o.qZA()}}function U(n,a){if(1&n&&(o.TgZ(0,"ion-row")(1,"ion-col",21),o.YNc(2,N,2,0,"ion-button",29),o.qZA()()),2&n){const i=o.oxw();o.xp6(2),o.Q6J("ngIf",i.showIscrizioniButton())}}let b=(()=>{class n{constructor(i){this.startService=i,this.myCorso=new c._,this.useIscrizioniColor=!1,this.clickDetail=new o.vpe,this.clickIscrizione=new o.vpe,this.iconColor="primary",this.tempoCorso=I.cJ}ngOnInit(){}showIscrizioniButton(){let i=!1;return this.myCorso&&this.useIscrizioniColor&&this.myCorso.flagIscrizioniAperte()&&(i=!0),i}onClickIscrizione(){this.clickIscrizione.emit(this.myCorso)}getClassHeader(){let i="";return this.myCorso&&this.useIscrizioniColor&&this.myCorso.flagIscrizioniAperte()&&(i="special"),i}showFabProva(){let i=!1;return this.myCorso&&this.myCorso.TIPO==I.oG.prova&&(i=!0),i}getLabelTargetSesso(){let i=I.Jw.maschileFemminile,t="";return this.myCorso.TARGETSESSO&&(i=this.myCorso.TARGETSESSO),t=I.Gs.decode(I.Jw,i),t}goToDetail(){this.clickDetail.emit(this.myCorso)}getSportIcon(i){if(i)return this.startService.getSportIcon(i.IDSPORT)}}return n.\u0275fac=function(i){return new(i||n)(o.Y36(T.D))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-card-course"]],inputs:{myCorso:"myCorso",useIscrizioniColor:"useIscrizioniColor"},outputs:{clickDetail:"clickDetail",clickIscrizione:"clickIscrizione"},decls:50,vars:23,consts:[["button","",1,"ion-no-margin","ion-margin-horizontal",3,"click"],[3,"ngClass"],["vertical","top","horizontal","end",4,"ngIf"],[1,"ion-no-padding"],[1,"ion-no-padding","ion-align-items-center"],["size","2",1,"ion-no-padding"],[1,"icon-sport"],[3,"innerHTML"],["size","10",1,"ion-no-padding"],["size","6","size-sm","6"],["size","small","color","primary","expand","block","fill","outline"],["name","time","slot","start"],["name","infinite","slot","start"],[1,"div-giornate","ion-text-center"],[2,"width","100%"],[4,"ngFor","ngForOf"],["class","contentLezioni ion-margin-horizontal",4,"ngIf"],["name","stats-chart-outline","slot","start",3,"color"],["name","bookmark-outline","slot","start",3,"color"],["lines","none"],["name","transgender-outline","slot","start",3,"color"],["size","12","size-sm","12"],["class","footer",4,"ngIf"],[4,"ngIf"],["vertical","top","horizontal","end"],["color","danger"],["color","secondary","size","small",3,"fill"],[1,"contentLezioni","ion-margin-horizontal"],[1,"footer"],["color","success","fill","solid","expand","block",3,"click",4,"ngIf"],["color","success","fill","solid","expand","block",3,"click"]],template:function(i,t){1&i&&(o.TgZ(0,"ion-card",0),o.NdJ("click",function(){return t.goToDetail()}),o.TgZ(1,"ion-card-header",1),o.YNc(2,p,3,0,"ion-fab",2),o.TgZ(3,"ion-grid",3)(4,"ion-row",4)(5,"ion-col",5)(6,"i",6),o._UZ(7,"span",7),o.qZA()(),o.TgZ(8,"ion-col",8)(9,"ion-card-subtitle"),o._uU(10),o.qZA(),o.TgZ(11,"ion-card-title"),o._uU(12),o.qZA()()()()(),o.TgZ(13,"ion-card-content",3)(14,"ion-grid")(15,"ion-row")(16,"ion-col",9)(17,"ion-button",10),o._UZ(18,"ion-icon",11),o._uU(19),o.ALo(20,"date"),o.qZA()(),o.TgZ(21,"ion-col",9)(22,"ion-button",10),o._UZ(23,"ion-icon",12),o._uU(24),o.qZA()()()()(),o.TgZ(25,"ion-card-content",3)(26,"div",13)(27,"table",14)(28,"tr"),o.YNc(29,m,4,4,"td",15),o.qZA()()(),o.YNc(30,y,4,2,"div",16),o.qZA(),o.TgZ(31,"ion-item"),o._UZ(32,"ion-icon",17),o.TgZ(33,"ion-label"),o._uU(34),o.qZA()(),o.TgZ(35,"ion-item"),o._UZ(36,"ion-icon",18),o.TgZ(37,"ion-label"),o._uU(38),o.qZA()(),o.TgZ(39,"ion-item",19),o._UZ(40,"ion-icon",20),o.TgZ(41,"ion-label"),o._uU(42),o.qZA()(),o.TgZ(43,"ion-footer")(44,"ion-row")(45,"ion-col",21),o.YNc(46,F,3,4,"p",22),o.YNc(47,S,3,4,"p",22),o.YNc(48,L,3,4,"p",22),o.qZA()()()(),o.YNc(49,U,3,1,"ion-row",23)),2&i&&(o.xp6(1),o.Q6J("ngClass",t.getClassHeader()),o.xp6(1),o.Q6J("ngIf",t.showFabProva()),o.xp6(5),o.Q6J("innerHTML",t.getSportIcon(t.myCorso),o.oJD),o.xp6(3),o.Oqu(t.myCorso._DENOMINAZIONE_Sport),o.xp6(2),o.Oqu(t.myCorso.DENOMINAZIONE),o.xp6(7),o.hij(" ",o.xi3(20,20,t.myCorso.ORAINIZIO,"HH:mm")," "),o.xp6(5),o.AsE(" ",t.myCorso.ORELEZIONE," ",t.myCorso.ORELEZIONE>1?"Ore":"Ora"," "),o.xp6(5),o.Q6J("ngForOf",t.myCorso._SETTIMANA),o.xp6(1),o.Q6J("ngIf",t.myCorso.NUMEROLEZIONI),o.xp6(2),o.Q6J("color",t.iconColor),o.xp6(2),o.Oqu(t.myCorso._DENOMINAZIONE_Livello?t.myCorso._DENOMINAZIONE_Livello:"Tutti i Livelli"),o.xp6(2),o.Q6J("color",t.iconColor),o.xp6(2),o.Oqu(t.myCorso.IDCATEGORIEETA?t.myCorso._DESCTOOLTIP_CategoriaEta:"Per tutte le et\xe0"),o.xp6(2),o.Q6J("color",t.iconColor),o.xp6(2),o.Oqu(t.getLabelTargetSesso()),o.xp6(4),o.Q6J("ngIf",t.myCorso.tempoCorso()==t.tempoCorso.FUTURO),o.xp6(1),o.Q6J("ngIf",t.myCorso.tempoCorso()==t.tempoCorso.IN_CORSO),o.xp6(1),o.Q6J("ngIf",t.myCorso.tempoCorso()==t.tempoCorso.PASSATO),o.xp6(1),o.Q6J("ngIf",t.showIscrizioniButton()))},directives:[r.PM,r.Zi,_.mk,_.O5,r.IJ,r.W4,r.jY,r.Nd,r.wI,r.tO,r.Dq,r.FN,r.YG,r.gu,_.sg,r.Ie,r.Q$,r.fr],pipes:[_.uU,_.gd],styles:[".contentLezioni[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.div-giornate[_ngcontent-%COMP%]{padding:8px}ion-card[_ngcontent-%COMP%]{--background: var(--ion-color-light-alpha)}ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{--background: var(--ion-color-light-tint)}ion-card[_ngcontent-%COMP%]   ion-card-header.special[_ngcontent-%COMP%]{--background: var(--ion-color-success-tint)}ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]{padding:0 5px}ion-card[_ngcontent-%COMP%]   ion-footer[_ngcontent-%COMP%]{background-color:var(--ion-color-light-tint);padding:4px 16px}ion-card[_ngcontent-%COMP%]   ion-footer[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding:0 5px}ion-card[_ngcontent-%COMP%]   ion-footer[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%], ion-card[_ngcontent-%COMP%]   ion-footer[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{--background: var(--ion-color-success-tint);--color: var(--ion-color-dark);--color-activated: var(--ion-color-dark);font-weight:700}ion-card[_ngcontent-%COMP%]   ion-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;font-size:18;font-weight:600}i.icon-sport[_ngcontent-%COMP%]{font-size:30px;font-weight:600}ion-card-title[_ngcontent-%COMP%]{font-size:18px}"]}),n})();function D(n,a){if(1&n){const i=o.EpF();o.TgZ(0,"ion-toolbar",12)(1,"ion-segment",13),o.NdJ("ionChange",function(l){return o.CHM(i),o.oxw().onChangeSegmentCorsi(l)})("ngModelChange",function(l){return o.CHM(i),o.oxw().statoPagina=l}),o.TgZ(2,"ion-segment-button",14),o._UZ(3,"ion-icon",15),o.TgZ(4,"ion-label"),o._uU(5,"Mio Livello"),o.qZA()(),o.TgZ(6,"ion-segment-button",14),o._UZ(7,"ion-icon",16),o.TgZ(8,"ion-label"),o._uU(9,"Tutti"),o.qZA()()()()}if(2&n){const i=o.oxw();o.xp6(1),o.Q6J("ngModel",i.statoPagina),o.xp6(1),o.Q6J("value",i.PageState.MIEI),o.xp6(4),o.Q6J("value",i.PageState.TUTTI)}}function z(n,a){if(1&n){const i=o.EpF();o.TgZ(0,"ion-col",19)(1,"app-card-course",20),o.NdJ("clickDetail",function(l){return o.CHM(i),o.oxw(2).onClickCardDetail(l)})("clickIscrizione",function(l){return o.CHM(i),o.oxw(2).onClickIscrizione(l)}),o.qZA()()}if(2&n){const i=a.$implicit,t=o.oxw(2);o.xp6(1),o.Q6J("myCorso",i)("useIscrizioniColor",t.enableIscrizioni)}}function J(n,a){if(1&n&&(o.TgZ(0,"div",17)(1,"ion-grid")(2,"ion-row"),o.YNc(3,z,2,2,"ion-col",18),o.qZA()()()),2&n){const i=o.oxw();o.xp6(3),o.Q6J("ngForOf",i.listCorsi)}}function x(n,a){if(1&n){const i=o.EpF();o.TgZ(0,"ion-col",19)(1,"app-card-course",20),o.NdJ("clickDetail",function(l){return o.CHM(i),o.oxw(2).onClickCardDetail(l)})("clickIscrizione",function(l){return o.CHM(i),o.oxw(2).onClickIscrizione(l)}),o.qZA()()}if(2&n){const i=a.$implicit,t=o.oxw(2);o.xp6(1),o.Q6J("myCorso",i)("useIscrizioniColor",t.enableIscrizioni)}}function R(n,a){if(1&n&&(o.TgZ(0,"div",17)(1,"ion-grid")(2,"ion-row"),o.YNc(3,x,2,2,"ion-col",18),o.qZA()()()),2&n){const i=o.oxw();o.xp6(3),o.Q6J("ngForOf",i.listCorsiMioLivello)}}function w(n,a){1&n&&(o.TgZ(0,"div",21)(1,"ion-label"),o._uU(2,"Nessun corso disponibile"),o.qZA(),o.TgZ(3,"ion-label"),o._uU(4,"Modifica i parametri"),o.qZA(),o.TgZ(5,"ion-label"),o._uU(6,"di Ricerca"),o.qZA()())}function Q(n,a){1&n&&(o.TgZ(0,"div",21)(1,"ion-label"),o._uU(2,"Nessun corso disponibile"),o.qZA(),o.TgZ(3,"ion-label"),o._uU(4,"Modifica i parametri"),o.qZA(),o.TgZ(5,"ion-label"),o._uU(6,"di Ricerca"),o.qZA()())}var M=(()=>{return(n=M||(M={}))[n.TUTTI=10]="TUTTI",n[n.MIEI=20]="MIEI",M;var n})();const Y=[{path:"",component:(()=>{class n{constructor(i,t,l,f,$,X,K,V){this.router=i,this.startService=t,this.mdlController=l,this.navController=f,this.loadingCtrl=$,this.toastCtrl=X,this.docStructureService=K,this.gestureCtrl=V,this.PageState=M,this.idLocation="",this.listCorsi=[],this.listCorsiMioLivello=[],this.filtroCorsi=new c._(!0),this.userLogged=!1,this.statoPagina=M.TUTTI,this.showTabs=!0,this.enableIscrizioni=!1,this.preferList=I._s.tutti,this.onListenUser(),this.filtroCorsi.DATAFINE=new Date,this.filtroCorsi.addFilterCondition(P.Wh.maggiore,"DATAFINE"),this.onListenSelectedArea()}onListenSelectedArea(){this.listenSelectedArea=this.startService.areaSelected.subscribe(i=>{this.selectedArea=i,this.enableIscrizioni=1==this.selectedArea.APPISCRIZIONI},i=>{this.enableIscrizioni=!1})}onListenUser(){this.listenDocUser=this.startService.utente.subscribe(i=>{this.docUser=i}),this.listenUserLogged=this.startService.utenteLogged.subscribe(i=>{this.userLogged=i,1==this.userLogged&&(this.statoPagina=M.MIEI)})}ngOnInit(){this.router.paramMap.subscribe(i=>{i.has("locationId")&&(this.idLocation=i.get("locationId"),this.filtroCorsi.IDLOCATION=this.idLocation,this.requestCorsi())})}ngOnDestroy(){this.listenSelectedArea&&this.listenSelectedArea.unsubscribe(),this.listenUserLogged&&this.listenUserLogged.unsubscribe()}requestCorsi(){this.loadingCtrl.create({spinner:"circular",message:"Caricamento",backdropDismiss:!0}).then(i=>{i.present();let t=new A.Kl;t.decode.active=!0,this.docStructureService.requestNew(this.filtroCorsi,t).then(l=>{i.dismiss(),this.listCorsi=l,this.prepareForMioLivello()}).catch(l=>{i.dismiss(),this.showMessage("Errore di connessione"),console.log(l)})})}prepareForMioLivello(){this.listCorsiMioLivello=[],this.docUser&&(this.listCorsiMioLivello=this.listCorsi.filter(i=>{let t=!0;return i.IDLIVELLOENTRATA&&""!=i.IDLIVELLOENTRATA&&(t=this.docUser.isForLevelSport(i.IDLIVELLOENTRATA,i.IDSPORT)),t&&i.TARGETSESSO&&(t=this.docUser.isForTargetSesso(i.TARGETSESSO)),t&&i.IDCATEGORIEETA&&0!=i.IDCATEGORIEETA.length&&this.docUser.NATOIL&&(t=this.startService.isValidCategorieEta(i.IDCATEGORIEETA,this.docUser.eta)),t}))}onChangeSegmentCorsi(i){this.userLogged&&(this.statoPagina=i.target.value)}goToFilter(){this.mdlController.create({component:v.y,componentProps:{myFilter:this.filtroCorsi}}).then(i=>{i.present(),i.onWillDismiss().then(t=>{t.data.dismissFilter&&this.onModalNewFilter(t.data.dismissFilter)})})}onModalNewFilter(i){this.filtroCorsi=i,this.requestCorsi()}onClickCardCalendar(i){this.mdlController.create({component:O.V,componentProps:{myCorso:i}}).then(t=>{t.present()})}showMessage(i){this.toastCtrl.create({message:i,duration:3e3}).then(t=>{t.present()})}doRefresh(i){this.requestCorsi(),i.target.complete()}onClickCardDetail(i){this.navController.navigateForward(["/","detailcourse",i.ID])}onClickIscrizione(i){if(i&&this.enableIscrizioni&&i.flagIscrizioniAperte())if(this.userLogged){let t;this.docUser&&(t=this.docUser.getParamsVerifica(this.startService.actualStartConfig.gruppo),t?this.mdlController.create({component:h.I,componentProps:{params:t}}).then(l=>{l.present()}):this.mdlController.create({component:g.Z,componentProps:{params:i}}).then(l=>{l.present()}))}else this.startService.setIdAreaForcedForLogin(),this.mdlController.create({component:d.y}).then(t=>{t.present()})}onScroll(i){i.detail.currentY<5?this.showTabs=!0:i.detail.deltaY>20?this.showTabs=!1:i.detail.deltaY<-20&&(this.showTabs=!0)}}return n.\u0275fac=function(i){return new(i||n)(o.Y36(e.gz),o.Y36(T.D),o.Y36(r.IN),o.Y36(r.SH),o.Y36(r.HT),o.Y36(r.yF),o.Y36(u.l),o.Y36(r.TH))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-listcourses"]],decls:18,vars:5,consts:[[1,"ion-no-border"],["color","primary"],["slot","start"],["defaultHref","/"],["slot","primary"],[3,"click"],["name","search"],["mode","md",4,"ngIf"],["id","content","scrollEvents","",3,"ionScroll"],["slot","fixed",3,"ionRefresh"],["id","crs-lista",4,"ngIf"],["class","nofind-cnt",4,"ngIf"],["mode","md"],["color","primary","id","crs:button",3,"ngModel","ionChange","ngModelChange"],[3,"value"],["name","bar-chart-outline"],["name","school-outline"],["id","crs-lista"],["sizeXs","12","sizeSm","8","offsetSm","2","sizeMd","6","offsetMd","0","sizeLg","5","offsetLg","0.5","sizeXl","4","offsetXl","0",4,"ngFor","ngForOf"],["sizeXs","12","sizeSm","8","offsetSm","2","sizeMd","6","offsetMd","0","sizeLg","5","offsetLg","0.5","sizeXl","4","offsetXl","0"],[3,"myCorso","useIscrizioniColor","clickDetail","clickIscrizione"],[1,"nofind-cnt"]],template:function(i,t){1&i&&(o.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),o._UZ(3,"ion-back-button",3),o.qZA(),o.TgZ(4,"ion-title"),o._uU(5,"Corsi"),o.qZA(),o.TgZ(6,"ion-buttons",4)(7,"ion-button",5),o.NdJ("click",function(){return t.goToFilter()}),o._UZ(8,"ion-icon",6),o.qZA()()(),o.YNc(9,D,10,3,"ion-toolbar",7),o.qZA(),o.TgZ(10,"ion-content",8),o.NdJ("ionScroll",function(f){return t.onScroll(f)}),o.TgZ(11,"ion-refresher",9),o.NdJ("ionRefresh",function(f){return t.doRefresh(f)}),o._UZ(12,"ion-refresher-content"),o.qZA(),o.YNc(13,J,4,1,"div",10),o.YNc(14,R,4,1,"div",10),o.YNc(15,w,7,0,"div",11),o.YNc(16,Q,7,0,"div",11),o.qZA(),o._UZ(17,"ion-footer")),2&i&&(o.xp6(9),o.Q6J("ngIf",t.showTabs&&t.userLogged),o.xp6(4),o.Q6J("ngIf",0!==t.listCorsi.length&&t.statoPagina==t.PageState.TUTTI),o.xp6(1),o.Q6J("ngIf",0!==t.listCorsiMioLivello.length&&t.statoPagina==t.PageState.MIEI),o.xp6(1),o.Q6J("ngIf",0===t.listCorsi.length&&t.statoPagina==t.PageState.TUTTI),o.xp6(1),o.Q6J("ngIf",0===t.listCorsiMioLivello.length&&t.statoPagina==t.PageState.MIEI))},directives:[r.Gu,r.sr,r.Sm,r.oU,r.cs,r.wd,r.YG,r.gu,_.O5,r.cJ,r.QI,C.JJ,C.On,r.GO,r.Q$,r.W2,r.nJ,r.Wo,r.jY,r.Nd,_.sg,r.wI,b,r.fr],styles:["#crs-nofind-cnt[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;align-content:center;height:100%;padding:0;margin:0;display:-webkit-flex;background-color:var(--ion-color-light);color:var(--ion-color-warning)}"]}),n})()},{path:"filter",loadChildren:()=>Promise.resolve().then(s.bind(s,7641)).then(n=>n.FilterPageModule)}];let k=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[e.Bz.forChild(Y)],e.Bz]}),n})();var q=s(7641),W=s(933),G=s(1700),H=s(4776),B=s(378);let j=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[_.ez,C.u5,r.Pc,k,G.E,q.FilterPageModule,W.q,H.W,B.VerifyPageModule]]}),n})()}}]);