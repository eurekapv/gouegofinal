"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[378],{378:(N,R,r)=>{r.r(R),r.d(R,{VerifyPageModule:()=>E});var i=r(9808),I=r(4182),u=r(7026),l=r(2028),p=r(1799),T=r(2096);const A=[{path:"",component:p.I}];let e=(()=>{class g{}return g.\u0275fac=function(v){return new(v||g)},g.\u0275mod=T.oAB({type:g}),g.\u0275inj=T.cJS({imports:[[l.Bz.forChild(A)],l.Bz]}),g})();var c=r(933);let E=(()=>{class g{}return g.\u0275fac=function(v){return new(v||g)},g.\u0275mod=T.oAB({type:g}),g.\u0275inj=T.cJS({imports:[[i.ez,I.u5,u.Pc,e,I.UX,c.q]]}),g})()},1799:(N,R,r)=>{r.d(R,{I:()=>k});var i=r(4182),I=r(6962),u=r(5351),l=r(4021),p=r(2271),T=r(7181),A=r(9129),e=r(2096),c=r(7026),E=r(7652),g=r(9808),d=r(2058);function v(a,f){if(1&a){const t=e.EpF();e.TgZ(0,"ion-buttons",10)(1,"ion-button",4),e.NdJ("click",function(){return e.CHM(t),e.oxw().backStepRegistration()}),e._UZ(2,"ion-icon",11),e.qZA()()}}function n(a,f){1&a&&(e.TgZ(0,"ion-title"),e._uU(1,"Verifica informazioni"),e.qZA())}function m(a,f){1&a&&(e.TgZ(0,"ion-title"),e._uU(1,"Aggiorna i tuoi dati"),e.qZA())}function M(a,f){1&a&&(e.TgZ(0,"ion-item"),e._UZ(1,"ion-icon",17)(2,"ion-input",18),e.qZA())}function y(a,f){1&a&&(e.TgZ(0,"ion-item"),e._UZ(1,"ion-icon",19)(2,"ion-input",20),e.qZA())}function S(a,f){if(1&a){const t=e.EpF();e.TgZ(0,"ion-item",21),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).openPolicyLink()}),e.TgZ(1,"ion-label",22),e._uU(2," condizioni di registrazione "),e.qZA()()}}function P(a,f){if(1&a&&(e.TgZ(0,"div",12)(1,"form",13)(2,"ion-list")(3,"ion-item",14)(4,"ion-label",15)(5,"i"),e._uU(6),e.qZA()()(),e.YNc(7,M,3,0,"ion-item",2),e.YNc(8,y,3,0,"ion-item",2),e.YNc(9,S,3,0,"ion-item",16),e.TgZ(10,"ion-item",14)(11,"ion-label",15)(12,"i"),e._uU(13),e.qZA()()()()()()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.formContact),e.xp6(5),e.Oqu(t.labelHeaderRegistrazione),e.xp6(1),e.Q6J("ngIf",t.emailVerifyNeeded),e.xp6(1),e.Q6J("ngIf",t.smsVerifyNeeded),e.xp6(1),e.Q6J("ngIf",t.isPolicyLink()),e.xp6(4),e.Oqu(t.labelFooterRegistrazione)}}function x(a,f){if(1&a){const t=e.EpF();e.TgZ(0,"ion-list")(1,"ion-item",14)(2,"ion-label",15)(3,"i"),e._uU(4),e.qZA()()(),e.TgZ(5,"ion-item")(6,"ion-input",27),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).codeVerificationMail=s}),e.qZA()(),e.TgZ(7,"ion-item",21),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return s.onClickReinviaCodice(s.enumTipoVerifica.verificaemail)}),e.TgZ(8,"ion-label",22)(9,"i"),e._uU(10,"reinvia mail"),e.qZA()()()()}if(2&a){const t=e.oxw(2);e.xp6(4),e.hij("abbiamo inviato una mail a ",t.formContact.value.email,""),e.xp6(2),e.Q6J("ngModel",t.codeVerificationMail)("maxlength",t.codeLength)("minlength",t.codeLength)}}function V(a,f){if(1&a){const t=e.EpF();e.TgZ(0,"ion-list")(1,"ion-item",14)(2,"ion-label",15)(3,"i"),e._uU(4),e.qZA()()(),e.TgZ(5,"ion-item")(6,"ion-input",28),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).codeVerificationSms=s}),e.qZA()(),e.TgZ(7,"ion-item",21),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return s.onClickReinviaCodice(s.enumTipoVerifica.verificasms)}),e.TgZ(8,"ion-label",22)(9,"i"),e._uU(10,"reinvia sms"),e.qZA()()()()}if(2&a){const t=e.oxw(2);e.xp6(4),e.hij("abbiamo inviato un SMS a ",t.formContact.value.telephone,""),e.xp6(2),e.Q6J("ngModel",t.codeVerificationSms)("maxlength",t.codeLength)("minlength",t.codeLength)}}function U(a,f){if(1&a&&(e.TgZ(0,"div",23)(1,"ion-grid")(2,"ion-row",24)(3,"ion-col",25),e._UZ(4,"img",26),e.qZA()()(),e.YNc(5,x,11,4,"ion-list",2),e.YNc(6,V,11,4,"ion-list",2),e.qZA()),2&a){const t=e.oxw();e.xp6(5),e.Q6J("ngIf",t.emailVerifyNeeded),e.xp6(1),e.Q6J("ngIf",t.smsVerifyNeeded)}}function Z(a,f){if(1&a&&(e.TgZ(0,"ion-select-option",50),e._uU(1),e.qZA()),2&a){const t=f.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.description," ")}}function D(a,f){1&a&&(e.TgZ(0,"ion-item")(1,"ion-label",34),e._uU(2,"Cap"),e.qZA(),e._UZ(3,"ion-input",51),e.qZA())}function b(a,f){if(1&a){const t=e.EpF();e.TgZ(0,"div")(1,"form",13)(2,"ion-list")(3,"ion-item",14)(4,"ion-label",15)(5,"i"),e._uU(6,"per poter proseguire ti chiediamo di completare le informazioni mancanti"),e.qZA()()(),e.TgZ(7,"ion-item-group")(8,"ion-item-divider",29),e._UZ(9,"ion-icon",30),e.TgZ(10,"ion-label"),e._uU(11,"Qualche tua info"),e.qZA()(),e.TgZ(12,"ion-item"),e._UZ(13,"ion-icon",31)(14,"ion-input",32),e.qZA(),e.TgZ(15,"ion-item"),e._UZ(16,"ion-icon",31)(17,"ion-input",33),e.qZA(),e.TgZ(18,"ion-item")(19,"ion-label",34),e._uU(20,"Sesso"),e.qZA(),e.TgZ(21,"ion-select",35),e.YNc(22,Z,2,2,"ion-select-option",36),e.qZA()(),e.TgZ(23,"ion-item"),e._UZ(24,"ion-icon",37),e.TgZ(25,"ion-input",38),e.NdJ("ionBlur",function(){return e.CHM(t),e.oxw().onCfChange()}),e.qZA()()(),e.TgZ(26,"ion-item-group")(27,"ion-item-divider",29),e._UZ(28,"ion-icon",39),e.TgZ(29,"ion-label"),e._uU(30,"Dove vivi ?"),e.qZA()(),e.TgZ(31,"ion-item"),e._UZ(32,"ion-input",40),e.qZA(),e.TgZ(33,"ion-item"),e._UZ(34,"ion-input",41),e.qZA(),e.TgZ(35,"ion-item"),e._UZ(36,"ion-input",42),e.qZA(),e.TgZ(37,"ion-item"),e._UZ(38,"ion-input",43),e.qZA(),e.TgZ(39,"ion-item"),e._UZ(40,"ion-input",44),e.qZA()(),e.TgZ(41,"ion-item-group")(42,"ion-item-divider",29),e._UZ(43,"ion-icon",45),e.TgZ(44,"ion-label"),e._uU(45,"Quando sei nato ?"),e.qZA()(),e.TgZ(46,"app-dtinput",46),e.NdJ("actualDateChange",function(s){return e.CHM(t),e.oxw().docUtente.NATOIL=s}),e.qZA(),e.TgZ(47,"ion-item")(48,"ion-label",34),e._uU(49,"Comune"),e.qZA(),e._UZ(50,"ion-input",47),e.qZA(),e.YNc(51,D,4,0,"ion-item",2),e.TgZ(52,"ion-item")(53,"ion-label",34),e._uU(54,"Provincia"),e.qZA(),e._UZ(55,"ion-input",48),e.qZA(),e.TgZ(56,"ion-item")(57,"ion-label",34),e._uU(58,"Stato"),e.qZA(),e._UZ(59,"ion-input",49),e.qZA()()()()()}if(2&a){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.formRegister),e.xp6(21),e.Q6J("ngForOf",t.listSesso),e.xp6(24),e.Q6J("actualDate",t.docUtente.NATOIL),e.xp6(5),e.Q6J("ngIf",t.showInputCapNascita)}}let k=(()=>{class a{constructor(t,o,s,h,_,O,L){this.modalCtrl=t,this.startService=o,this.loadingController=s,this.toastCtrl=h,this.alertCtrl=_,this.cryptoService=O,this.navParams=L,this.showInputCapNascita=!1,this.params=new u.BL,this.pageState=C,this.enumTipoVerifica=l.Xo,this.stepRegistration=[],this.indexStepRegistration=0,this.docRichiestaCodici=new p.lA,this.codeVerificationMail="",this.codeVerificationSms="",this.codeLength=5,this.listSesso=[],this.emailVerifyNeeded=!1,this.smsVerifyNeeded=!1,this.indexStepRegistration=0,this.actualStatePage=C.REGISTRATION,this.startConfig=o.actualStartConfig,this.startConfig&&this.startConfig.gruppo&&(this.docGruppo=this.startConfig.gruppo),this.docArea=this.startService.areaSelectedValue,A.M.consoleLog("Area di riferimento: "+this.docArea.ID),this.docUtente=this.startService.actualUtente,this.params=this.navParams.get("params"),(null==this.params||null==this.params)&&(this.startService.presentAlertMessage("Errore"),this.closeModal()),this.listSesso=l.Gs.getArray(l._z),this.today=this.today=T.GA.formatDateISO(new Date)}get labelHeaderRegistrazione(){let t="";return this.emailVerifyNeeded&&this.smsVerifyNeeded?t="Indica una email valida ed un numero mobile per effettuare la verifica":this.emailVerifyNeeded?t="Indica una email valida per effettuare la verifica":this.smsVerifyNeeded&&(t="Indica un numero mobile a cui inviare un SMS per effettuare la verifica"),t}get labelFooterRegistrazione(){let t="";return this.emailVerifyNeeded&&this.smsVerifyNeeded?t="sar\xe0 inviata una email ed un SMS contenente un codice di convalida da inserire per poter accedere al proprio account":this.emailVerifyNeeded?t="sar\xe0 inviata una email contenente un codice di convalida da inserire per poter accedere al proprio account":this.smsVerifyNeeded&&(t="sar\xe0 inviata un SMS contenente un codice di convalida da inserire per poter accedere al proprio account"),t}get labelButtonFooter(){let t="";switch(this.actualStatePage){case C.CONTACT:t="Avanti";break;case C.VERIFY:t="Verifica";break;case C.REGISTRATION:t="Aggiorna"}return t}ngOnInit(){this.createArrayStepRegistration(),this.createRegisterForm(),this.createContactForm(),this.createVerifyForm(),this.isDesktop=this.startService.isDesktop}createArrayStepRegistration(){switch(this.stepRegistration=[],this.params.tipoVerifica){case l.Xo.verificaemail:this.emailVerifyNeeded=!0,this.smsVerifyNeeded=!1;break;case l.Xo.verificasms:this.emailVerifyNeeded=!1,this.smsVerifyNeeded=!0;break;case l.Xo.verificaemailsms:this.emailVerifyNeeded=!0,this.smsVerifyNeeded=!0;break;default:this.smsVerifyNeeded=!1,this.emailVerifyNeeded=!1}(this.emailVerifyNeeded||this.smsVerifyNeeded)&&(this.stepRegistration.push(C.CONTACT),this.stepRegistration.push(C.VERIFY)),this.params.updateDocUtente&&this.stepRegistration.push(this.pageState.REGISTRATION),this.stepRegistration[0]&&(this.actualStatePage=this.stepRegistration[0])}nextStepRegistration(){this.indexStepRegistration+1<this.stepRegistration.length?(this.indexStepRegistration++,this.actualStatePage=this.stepRegistration[this.indexStepRegistration]):this.closeModal()}backStepRegistration(){this.indexStepRegistration-1>=0&&(this.indexStepRegistration--,this.actualStatePage=this.stepRegistration[this.indexStepRegistration])}closeModal(){this.modalCtrl.dismiss()}onClickFooterAvanti(){switch(this.actualStatePage){case C.CONTACT:this.onClickAvantiContact();break;case C.VERIFY:this.onClickAvantiVerifica();break;case C.REGISTRATION:this.onClickAggiornaDati()}}validationFormContact(){let t=!0,o="",s="",h=[],_="";return o=this.formContact.value.email,s=this.formContact.value.telephone,this.emailVerifyNeeded&&(!o||0==o.length)&&(t=!1,h.push("Indicare una email valida")),this.smsVerifyNeeded&&(!s||0==s.length)&&(t=!1,h.push("Indicare una numero mobile valido")),t||(_="Per proseguire \xe8 necessario: ",h.forEach(O=>{_+="\n",_+=O}),this.startService.presentAlertMessage(_)),t}onClickAvantiContact(){this.validationFormContact()&&(this.docRichiestaCodici=new p.lA,this.docRichiestaCodici.REQUESTEMAILCODE=!1,this.docRichiestaCodici.REQUESTSMSCODE=!1,this.docRichiestaCodici.IDAREA=this.docArea.ID,this.docRichiestaCodici.USE=l.I4.forValidation,this.emailVerifyNeeded&&(this.docRichiestaCodici.REQUESTEMAILCODE=!0,this.docRichiestaCodici.EMAIL=this.formContact.value.email),this.smsVerifyNeeded&&(this.docRichiestaCodici.REQUESTSMSCODE=!0,this.docRichiestaCodici.TELEPHONE=this.formContact.value.telephone),this.sendServerRichiestaCodici(!0))}sendServerRichiestaCodici(t=!0,o="Codice inviato con successo!",s="Errore nell'invio del codice, riprova"){this.loadingController.create({message:"Invio Codici in corso..."}).then(h=>{h.present(),this.startService.validationSendCodici(this.docRichiestaCodici,this.docUtente).then(_=>{h.dismiss(),_.result?(this.docRichiestaCodici.IDREFER=_.idRefer,this.docRichiestaCodici.REQUESTSMSCODE=!1,this.docRichiestaCodici.REQUESTEMAILCODE=!1,this.startService.presentAlertMessage(o),t&&(this.clearInputPinCode(),this.nextStepRegistration())):this.startService.presentAlertMessage(s)}).catch(_=>{h.dismiss(),A.M.consoleLog(_),this.startService.presentAlertMessage("Errore di connessione")})})}onClickReinviaCodice(t){let o="",s=!1,h=!1;if(this.docRichiestaCodici){switch(o="Verr\xe0 inviato un nuovo codice a ",t){case l.Xo.verificaemail:o+=this.docRichiestaCodici.EMAIL,s=!0;break;case l.Xo.verificasms:o+=this.docRichiestaCodici.TELEPHONE,h=!0}this.alertCtrl.create({header:"Reinvio pincode",message:o,buttons:[{text:"Annulla",role:"cancel"},{text:"Reinvia",handler:()=>{this.docRichiestaCodici.REQUESTEMAILCODE=s,this.docRichiestaCodici.REQUESTSMSCODE=h,this.sendServerRichiestaCodici(!1,"Codice reinviato con successo")}}]}).then(_=>{_.present()})}}onClickAvantiVerifica(){let o,t="",s=!1;s=this.validationFormVerify(),s&&(this.docRichiestaCodici&&this.docRichiestaCodici.IDREFER&&0!==this.docRichiestaCodici.IDREFER.length?(o=new p.Rx,o.IDAREA=this.docRichiestaCodici.IDAREA,o.IDREFER=this.docRichiestaCodici.IDREFER,(this.docGruppo.APPTIPOVERIFICA==l.Xo.verificaemail||this.docGruppo.APPTIPOVERIFICA==l.Xo.verificaemailsms)&&(o.EMAILPINCODE=this.getInputVerifyCode(l.Xo.verificaemail)),(this.docGruppo.APPTIPOVERIFICA==l.Xo.verificasms||this.docGruppo.APPTIPOVERIFICA==l.Xo.verificaemailsms)&&(o.SMSPINCODE=this.getInputVerifyCode(l.Xo.verificasms)),this.sendServerVerificaCodici(o)):t="Errore: Richiedere il reinvio"),0!=t.length&&this.startService.presentAlertMessage(t)}sendServerVerificaCodici(t){t?this.loadingController.create({message:"Verifica Codici..."}).then(o=>{o.present(),this.startService.validationVerifyCodici(t).then(s=>{o.dismiss(),s.result?(this.docRichiestaCodici.REQUESTEMAILCODE&&(this.docUtente.VERIFICATAMAIL=!0,this.docUtente.EMAIL=this.docRichiestaCodici.EMAIL),this.docRichiestaCodici.REQUESTSMSCODE&&(this.docUtente.VERIFICATAMOBILE=!0,this.docUtente.MOBILENUMBER=this.docRichiestaCodici.TELEPHONE),this.startService.presentAlertMessage("Verifica completata con successo"),this.nextStepRegistration()):this.startService.presentAlertMessage(s.message)}).catch(s=>{o.dismiss(),this.startService.presentAlertMessage("Errore di connessione")})}):this.startService.presentAlertMessage("Errore, richiedere un nuovo codice")}onClickAggiornaDati(){this.execAggiornaDati()}execAggiornaDati(){this.formRegister.valid&&this.docUtente.NATOIL?(this.docUtente.NOMINATIVO="",this.docUtente.NOME=this.formRegister.value.nome,this.docUtente.COGNOME=this.formRegister.value.cognome,this.docUtente.SESSO=this.formRegister.value.sesso,this.docUtente.CODICEFISCALE=this.formRegister.value.cf,this.docUtente.INDIRIZZO=this.formRegister.value.indResidenza,this.docUtente.COMUNE=this.formRegister.value.comResidenza,this.docUtente.CAP=this.formRegister.value.capResidenza,this.docUtente.PROVINCIA=this.formRegister.value.provResidenza,this.docUtente.ISOSTATO=this.formRegister.value.statoResidenza,this.docUtente.NATOA=this.formRegister.value.comNascita,this.docUtente.NATOCAP=this.formRegister.value.capNascita,this.docUtente.NATOPROV=this.formRegister.value.provNascita,this.docUtente.NATOISOSTATO=this.formRegister.value.statoNascita,this.loadingController.create({message:"Aggiornamento dati...",spinner:"circular"}).then(t=>{t.present(),this.startService.updateUtente(this.docUtente).then(o=>{t.dismiss(),this.startService.presentAlertMessage("Info Aggiornate"),this.closeModal()}).catch(o=>{t.dismiss(),this.startService.presentAlertMessage(o),A.M.consoleLog(o)})})):this.startService.presentAlertMessage("Controllare alcuni dati mancanti o inesatti")}loginAfterRegister(t,o){t&&o&&this.startService.userLogin(t,o).then(s=>{s.result?this.startService.saveStorageUtente(t,o):this.startService.presentAlertMessage(s.message)})}changeFocus(t){}createRegisterForm(){this.formRegister=new i.cw({nome:new i.NI(this.docUtente.NOME,{updateOn:"change",validators:[i.kI.required]}),cognome:new i.NI(this.docUtente.COGNOME,{updateOn:"change",validators:[i.kI.required]}),sesso:new i.NI(this.docUtente.SESSO,{updateOn:"change",validators:[i.kI.required]}),provNascita:new i.NI(this.docUtente.NATOPROV,{updateOn:"change",validators:[i.kI.required]}),comNascita:new i.NI(this.docUtente.NATOA,{updateOn:"change",validators:[i.kI.required]}),statoNascita:new i.NI(this.docUtente.NATOISOSTATO,{updateOn:"change",validators:[i.kI.required]}),capNascita:new i.NI(this.docUtente.NATOCAP,{updateOn:"change",validators:[]}),provResidenza:new i.NI(this.docUtente.PROVINCIA,{updateOn:"change",validators:[i.kI.required]}),comResidenza:new i.NI(this.docUtente.COMUNE,{updateOn:"change",validators:[i.kI.required]}),indResidenza:new i.NI(this.docUtente.INDIRIZZO,{updateOn:"change",validators:[i.kI.required]}),capResidenza:new i.NI(this.docUtente.CAP,{updateOn:"change",validators:[i.kI.required]}),statoResidenza:new i.NI(this.docUtente.ISOSTATO,{updateOn:"change",validators:[i.kI.required]}),cf:new i.NI(this.docUtente.CODICEFISCALE,{updateOn:"change",validators:[i.kI.required,i.kI.pattern("^[A-Za-z]{6}[0-9]{2}[A-Za-z]{1}[0-9]{2}[A-Za-z]{1}[0-9]{3}[A-Za-z]{1}")]})})}onCfChange(){let t=this.formRegister.value.cf;null!=t&&null!=t&&0!=t.length&&this.startService.checkCodiceFiscale(t,!0).then(o=>{this.docUtente.NATOISOSTATO="Italia",this.docUtente.NATOA=o.comune,this.docUtente.NATOPROV=o.provincia,this.docUtente.NATOIL=o.dataNascita,this.docUtente.SESSO=o.sesso,this.docUtente.NATOCAP=o.cap,this.formRegister.get("comNascita").setValue(this.docUtente.NATOA),this.formRegister.get("provNascita").setValue(this.docUtente.NATOPROV),this.formRegister.get("sesso").setValue(this.docUtente.SESSO),this.formRegister.get("statoNascita").setValue(this.docUtente.NATOISOSTATO),this.formRegister.get("capNascita").setValue(this.docUtente.NATOCAP),this.formRegister.controls.cf.setErrors(null)}).catch(o=>{this.formRegister.controls.cf.setErrors({incorrect:!0}),A.M.consoleLog(o)})}createContactForm(){this.formContact=new i.cw({email:new i.NI(null,{updateOn:"change",validators:[i.kI.email]}),telephone:new i.NI(null,{updateOn:"change",validators:[i.kI.pattern("^[+]*[0-9]{7,}")]})})}createVerifyForm(){}clearInputPinCode(){this.codeVerificationMail="",this.codeVerificationSms=""}getInputVerifyCode(t){let o="";return t==l.Xo.verificaemail?o=this.codeVerificationMail:t==l.Xo.verificasms&&(o=this.codeVerificationSms),o}validationFormVerify(){let t=!0,o=[],s="";switch(this.params.tipoVerifica){case l.Xo.verificaemail:this.codeVerificationMail&&this.codeVerificationMail.length==this.codeLength?t=!0:(t=!1,o.push("Inserire il codice ricevuto in email"));break;case l.Xo.verificasms:this.codeVerificationSms&&this.codeVerificationSms.length==this.codeLength?t=!0:(t=!1,o.push("Inserire il codice ricevuto in SMS"));break;case l.Xo.verificaemailsms:t=!0,(!this.codeVerificationMail||this.codeVerificationMail.length!=this.codeLength)&&(t=!1,o.push("Inserire il codice ricevuto in email")),(!this.codeVerificationSms||this.codeVerificationSms.length!=this.codeLength)&&(t=!1,o.push("Inserire il codice ricevuto in SMS"));break;default:t=!0}return t||(s="Per proseguire \xe8 necessario: ",o.forEach(h=>{s+="\n",s+=h}),this.startService.presentAlertMessage(s)),t}isPolicyLink(){let t,o=!1;return this.docArea&&(t=this.docArea.findAreaLinkByPageType(l.GV.policyPrivacy),t&&t.REFERURL&&(o=!0)),o}openPolicyLink(){let t;this.docArea&&(t=this.docArea.findAreaLinkByPageType(l.GV.policyPrivacy),t&&t.REFERURL&&this.startService.openLink(t.REFERURL))}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(c.IN),e.Y36(I.D),e.Y36(c.HT),e.Y36(c.yF),e.Y36(c.Br),e.Y36(E.$),e.Y36(c.X1))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-verify"]],decls:16,vars:7,consts:[["color","primary"],["slot","start",4,"ngIf"],[4,"ngIf"],["slot","end"],["fill","clear",3,"click"],["name","close"],[1,"ion-padding"],["class","ion-padding-horizontal",4,"ngIf"],["class","step-verifica",4,"ngIf"],["color","primary","expand","block",1,"btn-confirm",3,"click"],["slot","start"],["name","arrow-back"],[1,"ion-padding-horizontal"],[3,"formGroup"],["lines","none"],[1,"ion-text-wrap","ion-text-center"],["detail","true","button","true","class","ion-text-end","lines","none",3,"click",4,"ngIf"],["name","at-outline","slot","start","color","primary"],["type","email","placeholder","E-Mail","formControlName","email"],["name","call-outline","slot","start","color","primary"],["type","tel","inputmode","tel","placeholder","+39 Cellulare","formControlName","telephone"],["detail","true","button","true","lines","none",1,"ion-text-end",3,"click"],[1,"ion-text-wrap"],[1,"step-verifica"],[1,"row-img"],["sizeXs","8","offsetXs","2"],["src","assets/img/otpverif.png","alt","",1,"height-viewport"],["placeholder","inserisci codice mail","type","tel","inputmode","numeric",1,"code-input",3,"ngModel","maxlength","minlength","ngModelChange"],["placeholder","inserisci codice sms","type","tel","inputmode","numeric",1,"code-input",3,"ngModel","maxlength","minlength","ngModelChange"],["sticky","true","color","light"],["name","person-outline","slot","end","color","primary"],["slot","start","name","id-card-outline","color","primary"],["type","text","placeholder","nome","formControlName","nome"],["type","text","placeholder","cognome","formControlName","cognome"],["slot","start","position","fixed"],["formControlName","sesso","interface","popover"],[3,"value",4,"ngFor","ngForOf"],["slot","start","name","card-outline","color","primary"],["type","text","placeholder","codice fiscale","formControlName","cf",3,"ionBlur"],["name","home-outline","slot","end","color","primary"],["placeholder","indirizzo","type","text","formControlName","indResidenza"],["placeholder","comune","type","text","formControlName","comResidenza"],["placeholder","c.a.p.","type","tel","inputmode","tel","maxlength","5","formControlName","capResidenza"],["placeholder","provincia","type","text","formControlName","provResidenza"],["placeholder","stato","type","text","formControlName","statoResidenza"],["name","logo-reddit","slot","end","color","primary"],["title","Data di nascita","label","Nato il",3,"actualDate","actualDateChange"],["formControlName","comNascita"],["formControlName","provNascita"],["formControlName","statoNascita"],[3,"value"],["formControlName","capNascita"]],template:function(t,o){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0),e.YNc(2,v,3,0,"ion-buttons",1),e.YNc(3,n,2,0,"ion-title",2),e.YNc(4,m,2,0,"ion-title",2),e.TgZ(5,"ion-buttons",3)(6,"ion-button",4),e.NdJ("click",function(){return o.closeModal()}),e._UZ(7,"ion-icon",5),e.qZA()()()(),e.TgZ(8,"ion-content",6),e.YNc(9,P,14,6,"div",7),e.YNc(10,U,7,2,"div",8),e.YNc(11,b,60,4,"div",2),e.qZA(),e.TgZ(12,"ion-footer")(13,"div")(14,"ion-button",9),e.NdJ("click",function(){return o.onClickFooterAvanti()}),e._uU(15),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("ngIf",o.actualStatePage==o.pageState.VERIFY),e.xp6(1),e.Q6J("ngIf",o.actualStatePage!=o.pageState.REGISTRATION),e.xp6(1),e.Q6J("ngIf",o.actualStatePage==o.pageState.REGISTRATION),e.xp6(5),e.Q6J("ngIf",o.actualStatePage==o.pageState.CONTACT),e.xp6(1),e.Q6J("ngIf",o.actualStatePage==o.pageState.VERIFY),e.xp6(1),e.Q6J("ngIf",o.actualStatePage==o.pageState.REGISTRATION),e.xp6(4),e.hij(" ",o.labelButtonFooter," "))},directives:[c.Gu,c.sr,g.O5,c.Sm,c.YG,c.gu,c.wd,c.W2,i._Y,i.JL,i.sg,c.q_,c.Ie,c.Q$,c.pK,c.j9,i.JJ,i.u,c.jY,c.Nd,c.wI,i.On,i.nD,i.wO,c.Ub,c.rH,c.t9,c.QI,g.sg,c.n0,d.V,c.fr],styles:["div.div-logo[_ngcontent-%COMP%]{background-color:#fff;padding-top:3vh;padding-bottom:3vh;margin-bottom:3vh}div.div-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:15vh}div.content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{background-color:var(--ion-color-medium)}div.div-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}div.div-logo.desktop[_ngcontent-%COMP%]{padding-top:1vh;padding-bottom:0vh;margin-bottom:0vh}div.form-verifica[_ngcontent-%COMP%]{width:320px;margin:auto;margin-bottom:8vh;text-align:center}div.form-verifica[_ngcontent-%COMP%]   ion-segment[_ngcontent-%COMP%]{background:white}div.form-verifica[_ngcontent-%COMP%]   ion-segment[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{display:inline;border-radius:15px;margin:2px;border:3px solid var(--ion-color-primary);text-align:center;font-family:Arial,Helvetica,sans-serif;color:var(--ion-color-primary);font-size:40px}div.form-verifica.desktop[_ngcontent-%COMP%]{margin-bottom:2vh}h6[_ngcontent-%COMP%]{font-size:small}a[_ngcontent-%COMP%], span.link[_ngcontent-%COMP%]{color:var(--ion-color-primary);text-decoration:underline;cursor:pointer}ion-item-divider[_ngcontent-%COMP%]{--padding-top: 5px;--padding-bottom: 5px;--padding-end: 10px}ion-content[_ngcontent-%COMP%]::part(scroll){padding:8px 0}form[_ngcontent-%COMP%]{padding-bottom:30px}div.step-verifica[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]{padding:15px}div.step-verifica[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row.submit[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding-top:40px}div.step-verifica[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{text-align:center;--padding-start: 5px;--padding-end: 5px;--padding-top: 10px;--padding-bottom: 10px;font-size:25px}"]}),a})();var C=(()=>{return(a=C||(C={}))[a.CONTACT=210]="CONTACT",a[a.REGISTRATION=220]="REGISTRATION",a[a.VERIFY=230]="VERIFY",a[a.WELCOME=300]="WELCOME",C;var a})()},2058:(N,R,r)=>{r.d(R,{V:()=>g});var i=r(2096),I=r(7587),u=r(7181),l=r(9129),p=r(7026),T=r(9808);function A(d,v){if(1&d&&i._UZ(0,"ion-icon",5),2&d){const n=i.oxw();i.Q6J("icon",n._iconName)("slot",n._iconSlot)("color",n._iconColor)}}function e(d,v){if(1&d&&(i.TgZ(0,"ion-label",6),i._uU(1),i.qZA()),2&d){const n=i.oxw();i.xp6(1),i.hij("",n._label," ")}}function c(d,v){if(1&d&&(i.TgZ(0,"ion-toolbar",10)(1,"ion-title",11),i._uU(2),i.qZA()()),2&d){const n=i.oxw(2);i.xp6(2),i.Oqu(n._title)}}function E(d,v){if(1&d){const n=i.EpF();i.TgZ(0,"ion-content"),i.YNc(1,c,3,1,"ion-toolbar",7),i.TgZ(2,"ion-datetime",8,9),i.NdJ("ionChange",function(){i.CHM(n);const M=i.MAs(3);return i.oxw().dateChanged(M.value)}),i.qZA()()}if(2&d){const n=i.oxw();i.xp6(1),i.Q6J("ngIf",n._showCalendarTitle),i.xp6(1),i.Q6J("presentation",n._calendarMode)("readonly",n._readonly)("value",n.formattedDateTimeString)("max",n._isoMaxDate)}}let g=(()=>{class d{constructor(){this.actualDateChange=new i.vpe,this._itemColor="",this._itemLines="",this._itemDetail=!1,this._iconName="",this._iconColor="",this._iconSlot="",this._label="",this._slotText="",this._title="",this._isoMaxDate="2099-12-31T23:59:59",this._componentId="",this._componentId=(new I.kK).newID(),this._itemDetail=!1,this._itemLines="full",this._iconColor="primary",this._iconSlot="start",this._maskFormat="dd/MM/yyyy",this._calendarMode=u.CV.date,this._readonly=!1,this._showCalendarTitle=!1,this._slotText="",this.initMaskFromMode()}set title(n){this._title=n,0!=n.length&&(this._showCalendarTitle=!0)}set itemLines(n){this._itemLines=n}set itemColor(n){this._itemColor=n}set itemDetail(n){this._itemDetail=n}set label(n){this._label=n}set textAlignmentRight(n){this._slotText=n?"end":""}set iconName(n){this._iconName=n}set iconColor(n){this._iconColor=n}set iconSlot(n){this._iconSlot=n}set actualDate(n){this._actualDate=n}set maskFormat(n){this._maskFormat=n}set calendarMode(n){this._calendarMode=n,this.initMaskFromMode()}set readonly(n){this._readonly=n}set isoMaxDate(n){this._isoMaxDate=n}ngOnInit(){}get withLabel(){let n=!1;return this._label&&0!=this._label.length&&(n=!0),n}get withIcon(){let n=!1;return this._iconName&&0!=this._iconName.length&&(n=!0),n}get formattedDateTimeString(){let n;if(this._actualDate){let m=this._actualDate.getTimezoneOffset(),M=new Date;M.setTime(this._actualDate.getTime()-60*m*1e3),n=M.toISOString()}else n="";return n}initMaskFromMode(){let n="";switch(this._calendarMode){case u.CV.date:n="dd/MM/yyyy";break;case u.CV.dateTime:n="dd/MM/yyyy H:mm";break;case u.CV.month:n="MMMM";break;case u.CV.monthYear:n="MMMM yyyy";break;case u.CV.yearMonth:n="yyyy MMMM";break;case u.CV.time:n="H:mm";break;case u.CV.timeDate:n="H:mm dd/MM/yyyy";break;case u.CV.year:n="yyyy"}this._maskFormat=n}dateChanged(n){let m=new Date(n),M=m.getTimezoneOffset(),y=new Date;y.setTime(m.getTime()+60*M*1e3),this._actualDate.getTime()!=y.getTime()&&(this.actualDateChange.emit(m),l.M.consoleLog("Emetto la data "+m.toDateString()))}}return d.\u0275fac=function(n){return new(n||d)},d.\u0275cmp=i.Xpm({type:d,selectors:[["app-dtinput"]],inputs:{title:"title",itemLines:"itemLines",itemColor:"itemColor",itemDetail:"itemDetail",label:"label",textAlignmentRight:"textAlignmentRight",iconName:"iconName",iconColor:"iconColor",iconSlot:"iconSlot",actualDate:"actualDate",maskFormat:"maskFormat",calendarMode:"calendarMode",readonly:"readonly",isoMaxDate:"isoMaxDate"},outputs:{actualDateChange:"actualDateChange"},decls:9,vars:12,consts:[[3,"color","lines","detail","id"],[3,"icon","slot","color",4,"ngIf"],["slot","start","position","fixed",4,"ngIf"],[3,"slot"],[3,"trigger"],[3,"icon","slot","color"],["slot","start","position","fixed"],["class","datetime-title","color","primary",4,"ngIf"],["locale","it-IT","size","cover","showDefaultButtons","true","cancelText","Annulla","clearText","Elimina","doneText","Conferma",3,"presentation","readonly","value","max","ionChange"],["mydatetime",""],["color","primary",1,"datetime-title"],["size","small"]],template:function(n,m){1&n&&(i.TgZ(0,"ion-item",0),i.YNc(1,A,1,3,"ion-icon",1),i.YNc(2,e,2,1,"ion-label",2),i.TgZ(3,"ion-text",3)(4,"p"),i._uU(5),i.ALo(6,"date"),i.qZA()(),i.TgZ(7,"ion-modal",4),i.YNc(8,E,4,5,"ng-template"),i.qZA()()),2&n&&(i.Q6J("color",m._itemColor)("lines",m._itemLines)("detail",m._itemDetail)("id",m._componentId),i.xp6(1),i.Q6J("ngIf",m.withIcon),i.xp6(1),i.Q6J("ngIf",m.withLabel),i.xp6(1),i.Q6J("slot",m._slotText),i.xp6(2),i.Oqu(i.xi3(6,9,m._actualDate,m._maskFormat)),i.xp6(2),i.Q6J("trigger",m._componentId))},directives:[p.Ie,T.O5,p.gu,p.Q$,p.yW,p.ki,p.W2,p.sr,p.wd,p.x4,p.QI],pipes:[T.uU],styles:["ion-item[_ngcontent-%COMP%]{cursor:pointer}ion-toolbar.datetime-title[_ngcontent-%COMP%]{--padding-end: 10px;--padding-start: 10px}"]}),d})()}}]);