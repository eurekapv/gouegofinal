"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4302],{4302:(y,g,i)=>{i.r(g),i.d(g,{NewsPageModule:()=>S});var l=i(9808),u=i(4182),n=i(7026),h=i(2028),w=i(4904),N=i(6962),p=i(5350),m=i(9129),e=i(2096),f=i(4590);function v(t,r){if(1&t){const s=e.EpF();e.TgZ(0,"ion-col")(1,"app-news-eventi",8),e.NdJ("clickNews",function(a){const d=e.CHM(s).$implicit;return e.oxw(2).onClickNews(d,a)}),e.qZA()()}if(2&t){const s=r.$implicit;e.xp6(1),e.Q6J("myNews",s)}}function P(t,r){if(1&t&&(e.TgZ(0,"ion-grid")(1,"ion-row"),e.YNc(2,v,2,1,"ion-col",7),e.qZA()()),2&t){const s=e.oxw();e.xp6(2),e.Q6J("ngForOf",s.listNews)}}function C(t,r){1&t&&(e.TgZ(0,"div",9)(1,"ion-label",10),e._uU(2,"Nessun evento in programma"),e.qZA(),e.TgZ(3,"ion-label",10),e._uU(4,"Torna a trovarci per scoprire i prossimi eventi"),e.qZA()())}const M=[{path:"",component:(()=>{class t{constructor(s,o,a,c,d){this.startService=s,this.navController=o,this.loadingController=a,this.toastController=c,this.modalController=d,this.listNews=[],this.maxRecord=20,this.noNewsCard=w.d.getNoNews(),this.requestNews()}requestNews(){this.loadingController.create({spinner:"circular",message:"Caricamento",backdropDismiss:!0}).then(s=>{s.present(),this.areaSelected=this.startService.areaSelectedValue,this.startService.requestNews(this.areaSelected.ID,this.maxRecord).then(o=>{this.listNews=o,s.dismiss()}).catch(o=>{m.M.consoleLog(o,"error"),s.dismiss(),this.showMessage("Errore nel caricamento")})})}ngOnInit(){}ngOnDestroy(){this.subAreaSelected&&this.subAreaSelected.unsubscribe()}doRefresh(s){this.startService.requestNews(this.areaSelected.ID,this.maxRecord).then(o=>{this.listNews=o,s.target.complete()}).catch(o=>{m.M.consoleLog(o,"error"),s.target.complete(),this.showMessage("Errore nel caricamento")})}onClickNews(s,o){this.modalController.create({component:p.i,componentProps:{myNews:s}}).then(a=>{a.present()})}showMessage(s){this.toastController.create({message:s}).then(o=>{o.present()})}}return t.\u0275fac=function(s){return new(s||t)(e.Y36(N.D),e.Y36(n.SH),e.Y36(n.HT),e.Y36(n.yF),e.Y36(n.IN))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-news"]],decls:11,vars:2,consts:[[1,"ion-no-border"],["color","primary"],["slot","start"],["defaultHref","/"],["slot","fixed","s","",3,"ionRefresh"],[4,"ngIf"],["class","nofind-cnt ion-padding",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"myNews","clickNews"],[1,"nofind-cnt","ion-padding"],[1,"ion-padding-horizontal"]],template:function(s,o){1&s&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),e._UZ(3,"ion-back-button",3),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5," News ed Eventi "),e.qZA()()(),e.TgZ(6,"ion-content")(7,"ion-refresher",4),e.NdJ("ionRefresh",function(c){return o.doRefresh(c)}),e._UZ(8,"ion-refresher-content"),e.qZA(),e.YNc(9,P,3,1,"ion-grid",5),e.YNc(10,C,5,0,"div",6),e.qZA()),2&s&&(e.xp6(9),e.Q6J("ngIf",0!=o.listNews.length),e.xp6(1),e.Q6J("ngIf",0===o.listNews.length))},directives:[n.Gu,n.sr,n.Sm,n.oU,n.cs,n.wd,n.W2,n.nJ,n.Wo,l.O5,n.jY,n.Nd,l.sg,n.wI,f.K,n.Q$],styles:["ion-content[_ngcontent-%COMP%]{--background: var(--ion-color-light)}div.nofind-cnt[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:12px}"]}),t})()}];let Z=(()=>{class t{}return t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[h.Bz.forChild(M)],h.Bz]}),t})();var x=i(933),T=i(3218);let S=(()=>{class t{}return t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[l.ez,u.u5,n.Pc,Z,T.NewsdetailPageModule,x.q]]}),t})()}}]);