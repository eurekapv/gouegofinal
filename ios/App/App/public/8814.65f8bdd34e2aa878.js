"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8814],{1700:(M,O,r)=>{r.d(O,{E:()=>I});var A=r(9808),f=r(4182),y=r(7026),d=r(2028),g=r(8775),t=r(2096);const c=[{path:"",component:g.Z}];let P=(()=>{class o{}return o.\u0275fac=function(p){return new(p||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[d.Bz.forChild(c)],d.Bz]}),o})();var Z=r(4586),E=r(933);let I=(()=>{class o{}return o.\u0275fac=function(p){return new(p||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[A.ez,f.u5,y.Pc,P,Z.D,E.q]]}),o})()},8775:(M,O,r)=>{r.d(O,{Z:()=>W});var A=r(8223),f=r(2015),y=r(6667),d=r(7708),g=r(4021),t=r(8622),c=r(6962),P=r(3951),Z=r(1558),E=r(3858),I=r(6776),o=r(2096),a=r(7026),p=r(9808),l=r(4182),u=r(7952),C=r(1626);function T(i,m){if(1&i&&(o.TgZ(0,"ion-text"),o._uU(1),o.qZA()),2&i){const e=o.oxw();o.xp6(1),o.HOy(" \xa0per un totale di\xa0",e.myCorso.NUMEROLEZIONI,"\xa0",e.myCorso.NUMEROLEZIONI>1?"Incontri ":"Incontro "," della durata di\xa0",e.myCorso.ORELEZIONE," ",e.myCorso.ORELEZIONE>1?"Ore":"Ora"," ")}}function x(i,m){if(1&i&&(o.TgZ(0,"ion-item",13)(1,"ion-label",8)(2,"ion-text"),o._uU(3,"Il corso \xe8 pianificato 1 volta a settimana al \xa0"),o.qZA(),o.TgZ(4,"ion-text",19),o._uU(5),o.ALo(6,"titlecase"),o.qZA()()()),2&i){const e=o.oxw();o.xp6(5),o.Oqu(o.lcZ(6,1,e.onlyDaysCorso[0].label))}}function D(i,m){if(1&i&&(o.TgZ(0,"p")(1,"ion-text",19),o._uU(2),o.ALo(3,"titlecase"),o.qZA()()),2&i){const e=m.$implicit;o.xp6(2),o.Oqu(o.lcZ(3,1,e.label))}}function v(i,m){if(1&i&&(o.TgZ(0,"ion-item",13)(1,"ion-label",8)(2,"ion-text"),o._uU(3),o.qZA(),o.YNc(4,D,4,3,"p",20),o.qZA()()),2&i){const e=o.oxw();o.xp6(3),o.hij("Il corso \xe8 pianificato ",null==e.onlyDaysCorso?null:e.onlyDaysCorso.length," volte a settimana"),o.xp6(1),o.Q6J("ngForOf",e.onlyDaysCorso)}}function L(i,m){if(1&i&&(o.TgZ(0,"ion-item",13),o._UZ(1,"ion-icon",21),o.TgZ(2,"ion-label"),o._uU(3),o.ALo(4,"targetSesso"),o.qZA()()),2&i){const e=o.oxw();o.xp6(1),o.Q6J("color",e.iconColor),o.xp6(2),o.Oqu(o.lcZ(4,2,e.myCorso.TARGETSESSO))}}function U(i,m){if(1&i&&(o.TgZ(0,"ion-item"),o._UZ(1,"ion-icon",22),o.TgZ(2,"ion-label"),o._uU(3),o.qZA()()),2&i){const e=o.oxw(2);o.xp6(1),o.Q6J("color",e.iconColor),o.xp6(2),o.Oqu(null==e.myLocation?null:e.myLocation.COMUNE)}}function R(i,m){if(1&i&&(o.TgZ(0,"ion-item"),o._UZ(1,"ion-icon",23),o.TgZ(2,"ion-label"),o._uU(3),o.qZA()()),2&i){const e=o.oxw(2);o.xp6(1),o.Q6J("color",e.iconColor),o.xp6(2),o.hij(" ",null==e.myLocation?null:e.myLocation.INDIRIZZO," ")}}function b(i,m){if(1&i&&(o.TgZ(0,"ion-item"),o._UZ(1,"ion-icon",24),o.TgZ(2,"ion-label"),o._uU(3),o.qZA()()),2&i){const e=o.oxw(2);o.xp6(1),o.Q6J("color",e.iconColor),o.xp6(2),o.Oqu(null==e.myLocation?null:e.myLocation.TELEFONO)}}function N(i,m){if(1&i&&(o.TgZ(0,"ion-card")(1,"ion-card-header")(2,"ion-card-subtitle"),o._uU(3,"Dove"),o.qZA()(),o.TgZ(4,"ion-card-content"),o.YNc(5,U,4,2,"ion-item",15),o.YNc(6,R,4,2,"ion-item",15),o.YNc(7,b,4,2,"ion-item",15),o.qZA()()),2&i){const e=o.oxw();o.xp6(5),o.Q6J("ngIf",null==e.myLocation?null:e.myLocation.COMUNE),o.xp6(1),o.Q6J("ngIf",null==e.myLocation?null:e.myLocation.INDIRIZZO),o.xp6(1),o.Q6J("ngIf",null==e.myLocation?null:e.myLocation.TELEFONO)}}function S(i,m){if(1&i){const e=o.EpF();o.TgZ(0,"app-payment-mode",28),o.NdJ("onPaymentModeChoosed",function(s){return o.CHM(e),o.oxw(2).onPaymentModeSelected(s)}),o.qZA()}if(2&i){const e=o.oxw(2);o.Q6J("arPayment",e.myListPayment)}}function B(i,m){1&i&&(o.TgZ(0,"div")(1,"ion-item",29)(2,"ion-chip",30),o._uU(3,"Iscrizione Gratuita"),o.qZA()(),o.TgZ(4,"ion-item",31)(5,"ion-label",32),o._uU(6,"Nessun costo previsto"),o.qZA()()())}function k(i,m){1&i&&(o.TgZ(0,"p",8),o._uU(1,"pagamento rateale disponibile"),o.qZA())}function q(i,m){if(1&i){const e=o.EpF();o.TgZ(0,"div")(1,"ion-item",33),o.NdJ("click",function(){return o.CHM(e),o.oxw(2).onClickImporto()}),o.TgZ(2,"ion-label",34),o._uU(3,"Prezzo"),o.qZA(),o.TgZ(4,"ion-label",35)(5,"h4"),o._uU(6),o.ALo(7,"currency"),o.qZA(),o.YNc(8,k,2,0,"p",36),o.qZA()()()}if(2&i){const e=o.oxw(2);o.xp6(6),o.hij(" ",o.xi3(7,2,null==e.myCorso?null:e.myCorso.PREZZOLORDO,"EUR")," "),o.xp6(2),o.Q6J("ngIf",e.paymentType.isRateale())}}function w(i,m){if(1&i){const e=o.EpF();o.TgZ(0,"ion-list")(1,"ion-item",25),o.NdJ("click",function(){o.CHM(e);const s=o.oxw();return s.disclaimer=!s.disclaimer}),o.TgZ(2,"ion-checkbox",26),o.NdJ("ngModelChange",function(s){return o.CHM(e),o.oxw().disclaimer=s})("click",function(s){return s.stopPropagation()}),o.qZA(),o.TgZ(3,"ion-label",8)(4,"p"),o._uU(5,"Lette e approvate le "),o.TgZ(6,"a",2),o.NdJ("click",function(s){o.CHM(e);const _=o.oxw();return s.stopPropagation(),_.onClickCondizioniVendita()}),o._uU(7,"condizioni di vendita"),o.qZA()()()(),o.YNc(8,S,1,1,"app-payment-mode",27),o.YNc(9,B,7,0,"div",15),o.YNc(10,q,9,5,"div",15),o.qZA()}if(2&i){const e=o.oxw();o.xp6(2),o.Q6J("ngModel",e.disclaimer),o.xp6(6),o.Q6J("ngIf",null==e.myCorso?null:e.myCorso.isAPagamento()),o.xp6(1),o.Q6J("ngIf",0==(null==e.myCorso?null:e.myCorso.isAPagamento())),o.xp6(1),o.Q6J("ngIf",1==(null==e.myCorso?null:e.myCorso.isAPagamento()))}}function J(i,m){1&i&&(o.TgZ(0,"div")(1,"ion-item",29)(2,"ion-chip",30),o._uU(3,"Iscrizione Gratuita"),o.qZA()(),o.TgZ(4,"ion-item",31)(5,"ion-label",32),o._uU(6,"Nessun costo previsto"),o.qZA()()())}function z(i,m){1&i&&(o.TgZ(0,"p",8),o._uU(1,"pagamento rateale disponibile"),o.qZA())}function Y(i,m){if(1&i){const e=o.EpF();o.TgZ(0,"div")(1,"ion-item",33),o.NdJ("click",function(){return o.CHM(e),o.oxw(2).onClickImporto()}),o.TgZ(2,"ion-label",32),o._uU(3,"Prezzo"),o.qZA(),o.TgZ(4,"ion-label",35)(5,"h4"),o._uU(6),o.ALo(7,"currency"),o.qZA(),o.YNc(8,z,2,0,"p",36),o.qZA()()()}if(2&i){const e=o.oxw(2);o.xp6(6),o.hij(" ",o.xi3(7,2,null==e.myCorso?null:e.myCorso.PREZZOLORDO,"EUR")," "),o.xp6(2),o.Q6J("ngIf",e.paymentType.isRateale())}}function F(i,m){if(1&i&&(o.TgZ(0,"ion-list"),o.YNc(1,J,7,0,"div",15),o.YNc(2,Y,9,5,"div",15),o.TgZ(3,"ion-item",13)(4,"ion-label",37)(5,"ion-text",29),o._uU(6,"Contatta la struttura per maggiori informazioni"),o.qZA()()()()),2&i){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",0==(null==e.myCorso?null:e.myCorso.isAPagamento())),o.xp6(1),o.Q6J("ngIf",1==(null==e.myCorso?null:e.myCorso.isAPagamento()))}}function Q(i,m){if(1&i){const e=o.EpF();o.TgZ(0,"ion-row")(1,"ion-col")(2,"ion-button",38),o.NdJ("click",function(){return o.CHM(e),o.oxw().onConfirm()}),o._uU(3," Conferma Iscrizione "),o.qZA()()()}if(2&i){const e=o.oxw();o.xp6(2),o.Q6J("disabled",!e.enableButtonIscrizione())}}let W=(()=>{class i{constructor(e,n,s,_,h,K,H,G){this.startService=e,this.navParams=n,this.modalCtrl=s,this.docStructureService=_,this.loadingController=h,this.toastCtrl=K,this.alertCtrl=H,this.navCtrl=G,this.myCorso=new f._,this.myLocation=new y.Y,this.iconColor="primary",this.userLogged=!1,this.enableIscrizioni=!1,this.disclaimer=!1,this.onlyDaysCorso=[],this.flagPostiDisponibili=!1,this.txtPostiDisponibili="",this.requestTypePaymentDefault(),this.onListenSelectedArea(),this.onListenSelectedUser()}onListenSelectedArea(){this.listenSelectedArea=this.startService.areaSelected.subscribe(e=>{this.selectedArea=e,this.setListPayment(),this.enableIscrizioni=1==this.selectedArea.APPISCRIZIONI},e=>{this.enableIscrizioni=!1})}onListenSelectedUser(){this.subUserLogged=this.startService.utenteLogged.subscribe(e=>{this.userLogged=e}),this.subUser=this.startService.utente.subscribe(e=>{this.docUser=e})}ngOnInit(){this.isDesktop=!1,this.myCorso=this.navParams.get("params"),null==this.myCorso||null==this.myCorso?(this.showToastMessage("Corso non trovato"),this.closeModal()):(this.onlyDaysCorso=this.myCorso.getArrayGiorniCorso(),this.requestPostiDisponibili(this.myCorso.ID),this.loadingController.create({spinner:"circular",message:"Caricamento",backdropDismiss:!0}).then(e=>{e.present(),this.requestLocationById(this.myCorso.IDLOCATION).then(()=>{e.dismiss()}).catch(n=>{e.dismiss(),this.showToastMessage("Spiacenti, errori nel recupero del corso"),this.closeModal()})}))}requestPostiDisponibili(e){this.startService.getPostiDisponibiliCorso(e).then(n=>{this.flagPostiDisponibili=!!n.result,this.txtPostiDisponibili=n.message})}ngOnDestroy(){this.subMyCorso&&this.subMyCorso.unsubscribe(),this.subUserLogged&&this.subUserLogged.unsubscribe(),this.listenSelectedArea&&this.listenSelectedArea.unsubscribe()}requestTypePaymentDefault(){let e;e=new I.O(!0),this.paymentType=I.O.getDocStandardImmediato(),e.PREDEFINITACORSI=!0,this.docStructureService.requestNew(e).then(n=>{this.paymentType=n&&0!=n.length?n[0]:I.O.getDocStandardImmediato()})}requestLocationById(e){let n=new y.Y(!0);return new Promise((s,_)=>{n.ID=e,this.docStructureService.requestNew(n).then(h=>{h&&0!=h.length?(this.myLocation=h[0],s()):_("Location not found")}).catch(h=>{_("Connection error"+h)})})}getIcon(e){return this.startService.getSportIcon(e.IDSPORT)}onClickCondizioniVendita(){let e;this.selectedArea&&(e=this.selectedArea.findAreaLinkByPageType(g.GV.condizioniVenditaIscrizioni),e&&e.REFERURL&&this.openLink(e.REFERURL))}onClickButtonHeader(){this.flagPostiDisponibili||this.closeModal()}onClickImporto(){let e="";this.paymentType.isRateale()?(e="E' possibile effettuare il pagamento del corso sia in rata unica",e+="<br/>",e+="che in modalit\xe0 rateale ",0!=this.paymentType.DESCR.length&&(e+=`(${this.paymentType.DESCR})`),e+="<br/>",e+="Il pagamento rateale \xe8 disponibile solo contattando la struttura"):(e="E' possibile effettuare il pagamento del corso unicamente attraverso una rata unica",e+="<br/>",e+="Contattare la struttura per concordare, se possibile altre modalit\xe0 di pagamento"),this.startService.presentAlertMessage(e,"Modalit\xe0 pagamento")}enableButtonIscrizione(){let e;return this.disclaimer&&this.flagPostiDisponibili&&(this.myCorso.isAPagamento()?this.mySelectedPayment&&(e=!0):e=!0),e}setListPayment(){this.myListPayment=[],this.selectedArea&&(this.myListPayment=this.selectedArea.getPaymentFor(g.O4.settorePagamentoCorso),this.mySelectedPayment=this.myListPayment&&0!=this.myListPayment.length?this.myListPayment[0]:null)}onPaymentSelected(e){this.mySelectedPayment=e}onPaymentModeSelected(e){this.myPaymentMode=e}onConfirm(){this.onExecPayment()}onExecPayment(){let e=[g.x6.pagaAdesso,g.x6.pagaBonifico,g.x6.pagaStruttura];if(this.myCorso.isAPagamento())if(e.includes(this.myPaymentMode))if(this.myPaymentMode==g.x6.pagaBonifico||this.myPaymentMode==g.x6.pagaStruttura){let n=new d.b(this.myPaymentMode);this.onPaymentSuccess(n)}else{let n=new d.b(this.myPaymentMode);n.amount=this.myCorso.PREZZOLORDO,n.description="Pagamento Iscrizione Corso "+this.myCorso.DENOMINAZIONE,n.currency="EUR",this.modalCtrl.create({component:t.t,componentProps:{paymentData:n,listAreaPaymentSettings:this.myListPayment}}).then(s=>(s.present(),s.onDidDismiss())).then(s=>{let _=s.data;_?_.processResult?this.onPaymentSuccess(_):this.onPaymentFailed(_):(_=new d.b(this.myPaymentMode),_.processResult=!1,_.messageResult="Pagamento fallito",this.onPaymentFailed(_))})}else this.showToastMessage("E' necessario selezionare un pagamento");else{let n=new d.b(g.x6.pagaStruttura);this.onPaymentSuccess(n)}}onPaymentSuccess(e){let n,s;n=this.prepareDocIscrizione(),s=new E.P,e&&e.processResult&&(0==e.idElectronicResult.length?this.myCorso.isAPagamento()?(s.IDTRANSACTION="",s.IDORDER="",s.MODALITA=e.channelPayment,s.TIPORIGO=g.tE.scadenza,s.DATASCADENZA=this.myCorso.DATAINIZIO,s.IMPORTO=this.myCorso.PREZZOLORDO):(s.IDTRANSACTION="",s.IDORDER="",s.MODALITA=g.$s.onSite,s.TIPORIGO=g.tE.incassato,s.DATAOPERAZIONE=n.DATAISCRIZIONE,s.IMPORTO=0):(s.IDTRANSACTION="",s.IDORDER=e.idElectronicResult,s.MODALITA=e.channelPayment,s.TIPORIGO=g.tE.incassato,s.DATAOPERAZIONE=n.DATAISCRIZIONE,s.IMPORTO=this.myCorso.PREZZOLORDO),n.ISCRIZIONEINCASSO.push(s),this.loadingController.create({message:"Richiesta Iscrizione",spinner:"circular"}).then(_=>{_.present(),this.startService.requestSaveIscrizione(n).then(h=>{_.dismiss(),h.result&&h.code&&0!=h.code.length?this.onAfterSaveIscrizione(h.code):this.showAlert(h.message,"Iscrizione Fallita")}).catch(h=>{_.dismiss(),this.showAlert(h.message,"Iscrizione Fallita")})}))}onAfterSaveIscrizione(e){this.showToastMessage("Iscrizione confermata"),this.closeModal(),this.navCtrl.navigateRoot(["historylist/course",e])}onPaymentFailed(e){let n="Si sono verificati errori nel pagamento";e&&e.messageResult&&(n=e.messageResult),this.showAlert(n,"Pagamento Fallito")}prepareDocIscrizione(){let e=new Z.T;return this.myCorso&&this.docUser&&(e.IDCORSO=this.myCorso.ID,e.IDUTENTE=this.docUser.ID,e.DATAISCRIZIONE=new Date),e}showToastMessage(e){this.toastCtrl.create({message:e,duration:3e3})}showAlert(e,n,s){(!s||0==s.length)&&(s=[]).push("Ok"),this.alertCtrl.create({header:n||"Attenzione",message:e,buttons:s}).then(_=>{_.present()})}closeModal(){this.modalCtrl.dismiss()}openLink(e){P.A.open({url:e})}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(c.D),o.Y36(a.X1),o.Y36(a.IN),o.Y36(A.l),o.Y36(a.HT),o.Y36(a.yF),o.Y36(a.Br),o.Y36(a.SH))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-bookcourse"]],decls:85,vars:42,consts:[["color","primary"],["slot","primary"],[3,"click"],["slot","icon-only","ios","close","md","close"],[2,"background-color","#EFF1F8"],[1,"griglia-principale"],["expand","block",1,"full-buttons",3,"color","click"],["slot","end",3,"name"],[1,"ion-text-wrap"],["button","false","lines","none",1,"ion-no-padding"],["slot","start",1,"icon-sport"],[3,"innerHTML"],[1,"ion-no-padding"],["lines","none"],[2,"font-weight","bold"],[4,"ngIf"],["lines","none",4,"ngIf"],["name","stats-chart-outline","slot","start",3,"color"],["name","bookmark-outline","slot","start",3,"color"],["color","danger"],[4,"ngFor","ngForOf"],["name","transgender-outline","slot","start",3,"color"],["name","home-outline","slot","start",3,"color"],["name","navigate-outline","slot","start",3,"color"],["name","call-outline","slot","start",3,"color"],["button","","lines","full",3,"click"],["slot","start",3,"ngModel","ngModelChange","click"],[3,"arPayment","onPaymentModeChoosed",4,"ngIf"],[3,"arPayment","onPaymentModeChoosed"],[1,"ion-text-center"],["color","danger",1,"wide"],["lines","none","id","item-totale"],["slot","start"],["lines","none","detail","true","id","item-totale",3,"click"],["slot","start",1,"title"],[2,"text-align","right"],["class","ion-text-wrap",4,"ngIf"],[1,"ion-text-wrap","ion-text-center"],["color","tertiary","expand","block",1,"full-buttons",3,"disabled","click"]],template:function(e,n){1&e&&(o.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1)(3,"ion-button",2),o.NdJ("click",function(){return n.closeModal()}),o._UZ(4,"ion-icon",3),o.qZA()(),o.TgZ(5,"ion-title"),o._uU(6,"Iscrizione"),o.qZA()()(),o.TgZ(7,"ion-content")(8,"div",4)(9,"ion-grid",5)(10,"ion-row")(11,"ion-col")(12,"ion-button",6),o.NdJ("click",function(){return n.onClickButtonHeader()}),o._UZ(13,"ion-icon",7),o.TgZ(14,"h6",8),o._uU(15),o.qZA()()()(),o.TgZ(16,"ion-row")(17,"ion-col")(18,"ion-card")(19,"ion-card-header")(20,"ion-card-subtitle"),o._uU(21,"Iscrizione al corso"),o.qZA(),o.TgZ(22,"ion-card-title"),o._uU(23),o.qZA(),o.TgZ(24,"ion-item",9)(25,"i",10),o._UZ(26,"span",11),o.qZA(),o.TgZ(27,"ion-label")(28,"h6",8),o._uU(29),o.qZA()()()(),o.TgZ(30,"ion-card-content",12)(31,"ion-item",13)(32,"ion-label",8)(33,"ion-text"),o._uU(34,"Il corso inizia\xa0"),o.qZA(),o.TgZ(35,"ion-text",14),o._uU(36),o.ALo(37,"titlecase"),o.ALo(38,"date"),o.qZA(),o.TgZ(39,"ion-text",14),o._uU(40),o.ALo(41,"date"),o.qZA(),o.TgZ(42,"ion-text"),o._uU(43,"\xa0alle ore\xa0"),o.qZA(),o.TgZ(44,"ion-text",14),o._uU(45),o.ALo(46,"date"),o.qZA(),o.TgZ(47,"ion-text"),o._uU(48,"\xa0e si conclude\xa0"),o.qZA(),o.TgZ(49,"ion-text",14),o._uU(50),o.ALo(51,"titlecase"),o.ALo(52,"date"),o.qZA(),o.TgZ(53,"ion-text",14),o._uU(54),o.ALo(55,"date"),o.qZA(),o.YNc(56,T,2,4,"ion-text",15),o.qZA()(),o.YNc(57,x,7,3,"ion-item",16),o.YNc(58,v,5,2,"ion-item",16),o.TgZ(59,"ion-item",13)(60,"ion-label",8)(61,"ion-text"),o._uU(62," Si consiglia di controllare il calendario dettagliato per conoscere i giorni e gli orari precisi del corso. "),o.qZA()()()()()()(),o.TgZ(63,"ion-row")(64,"ion-col")(65,"ion-card")(66,"ion-card-header")(67,"ion-card-subtitle"),o._uU(68,"Rivolto a"),o.qZA()(),o.TgZ(69,"ion-card-content")(70,"ion-item"),o._UZ(71,"ion-icon",17),o.TgZ(72,"ion-label"),o._uU(73),o.qZA()(),o.TgZ(74,"ion-item",13),o._UZ(75,"ion-icon",18),o.TgZ(76,"ion-label"),o._uU(77),o.qZA()(),o.YNc(78,L,5,4,"ion-item",16),o.qZA()(),o.YNc(79,N,8,3,"ion-card",15),o.qZA()()()()(),o.TgZ(80,"ion-footer")(81,"ion-grid"),o.YNc(82,w,11,4,"ion-list",15),o.YNc(83,F,7,2,"ion-list",15),o.YNc(84,Q,4,1,"ion-row",15),o.qZA()()),2&e&&(o.xp6(12),o.Q6J("color",n.flagPostiDisponibili?"success":"danger"),o.xp6(1),o.Q6J("name",n.flagPostiDisponibili?"thumbs-up-outline":"ban-outline"),o.xp6(2),o.Oqu(n.txtPostiDisponibili),o.xp6(8),o.Oqu(n.myCorso.DENOMINAZIONE),o.xp6(3),o.Q6J("innerHTML",n.getIcon(n.myCorso),o.oJD),o.xp6(3),o.hij(" ",n.myCorso._DENOMINAZIONE_Sport," "),o.xp6(7),o.hij("",o.lcZ(37,23,o.xi3(38,25,n.myCorso.DATAINIZIO,"EEEE")),"\xa0 "),o.xp6(4),o.Oqu(o.xi3(41,28,n.myCorso.DATAINIZIO,"dd/MM/yyyy")),o.xp6(5),o.Oqu(o.xi3(46,31,n.myCorso.ORAINIZIO,"HH:mm")),o.xp6(5),o.hij("",o.lcZ(51,34,o.xi3(52,36,n.myCorso.DATAFINE,"EEEE")),"\xa0"),o.xp6(4),o.Oqu(o.xi3(55,39,n.myCorso.DATAFINE,"dd/MM/yyyy")),o.xp6(2),o.Q6J("ngIf",n.myCorso.NUMEROLEZIONI),o.xp6(1),o.Q6J("ngIf",1==(null==n.onlyDaysCorso?null:n.onlyDaysCorso.length)),o.xp6(1),o.Q6J("ngIf",(null==n.onlyDaysCorso?null:n.onlyDaysCorso.length)>1),o.xp6(13),o.Q6J("color",n.iconColor),o.xp6(2),o.hij("",n.myCorso._DENOMINAZIONE_Livello?n.myCorso._DENOMINAZIONE_Livello:"Tutti i Livelli"," "),o.xp6(2),o.Q6J("color",n.iconColor),o.xp6(2),o.Oqu(n.myCorso._DESCTOOLTIP_CategoriaEta?n.myCorso._DESCTOOLTIP_CategoriaEta:"Per tutte le et\xe0"),o.xp6(1),o.Q6J("ngIf",n.myCorso.TARGETSESSO),o.xp6(1),o.Q6J("ngIf",(null==n.myLocation?null:n.myLocation.COMUNE)||(null==n.myLocation?null:n.myLocation.INDIRIZZO)||(null==n.myLocation?null:n.myLocation.TELEFONO)),o.xp6(3),o.Q6J("ngIf",n.flagPostiDisponibili),o.xp6(1),o.Q6J("ngIf",!n.flagPostiDisponibili),o.xp6(1),o.Q6J("ngIf",n.flagPostiDisponibili))},directives:[a.Gu,a.sr,a.Sm,a.YG,a.gu,a.wd,a.W2,a.jY,a.Nd,a.wI,a.PM,a.Zi,a.tO,a.Dq,a.Ie,a.Q$,a.FN,a.yW,p.O5,p.sg,a.fr,a.q_,a.nz,a.w,l.JJ,l.On,u.e,a.hM],pipes:[p.rS,p.uU,C.u,p.H9],styles:[".griglia-principale[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding:0}h6[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:4px;font-size:14px}h4[_ngcontent-%COMP%]{margin-top:4px;margin-bottom:5px;font-weight:600}.left-col[_ngcontent-%COMP%]{border-right-style:solid;border-width:thin;border-color:#eff1f8}p[_ngcontent-%COMP%]{font-size:13px}ion-button.full-buttons[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}#item-totale[_ngcontent-%COMP%]   ion-label.title[_ngcontent-%COMP%]{font-size:18px}#item-totale[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:10px;font-weight:700}ion-chip.wide[_ngcontent-%COMP%]{width:100%;justify-content:center}"]}),i})()},9821:(M,O,r)=>{r.d(O,{V:()=>o}),r(2015);var f=r(9442),y=r(8223),d=r(7266),g=r(9129),t=r(2096),c=r(7026),P=r(9808);function Z(a,p){if(1&a&&(t.TgZ(0,"ion-item",11)(1,"ion-col",12)(2,"div",13)(3,"h5"),t._uU(4),t.ALo(5,"titlecase"),t.ALo(6,"date"),t.qZA(),t.TgZ(7,"h4"),t._uU(8),t.ALo(9,"date"),t.ALo(10,"uppercase"),t.ALo(11,"date"),t.ALo(12,"date"),t.qZA(),t.TgZ(13,"h6"),t._uU(14),t.qZA()()(),t.TgZ(15,"ion-col",14)(16,"ion-card",15)(17,"ion-card-content",16)(18,"ion-list",17)(19,"ion-item",18),t._UZ(20,"ion-icon",19),t.TgZ(21,"ion-label"),t._uU(22),t.ALo(23,"date"),t.qZA()(),t.TgZ(24,"ion-item",20),t._UZ(25,"ion-icon",21),t.TgZ(26,"ion-label"),t._uU(27),t.ALo(28,"date"),t.qZA(),t.TgZ(29,"ion-badge",22),t._uU(30),t.qZA()()()()()()()),2&a){const l=p.$implicit,u=t.oxw(2);t.xp6(4),t.hij(" ",t.lcZ(5,10,t.xi3(6,12,l.DATA,"EEEE"))," "),t.xp6(4),t.lnq(" ",t.xi3(9,15,l.DATA,"d")," ",t.lcZ(10,18,t.xi3(11,20,l.DATA,"MMM"))," '",t.xi3(12,23,l.DATA,"yy")," "),t.xp6(6),t.hij(" ",l._DENOMINAZIONE_Campo," "),t.xp6(5),t.Q6J("color",u.colorItem(l)),t.xp6(3),t.hij(" ",t.xi3(23,26,l.DATAORAINIZIO,"HH:mm"),""),t.xp6(5),t.hij(" ",t.xi3(28,29,l.DATAORAFINE,"HH:mm"),""),t.xp6(2),t.Q6J("color",u.colorItem(l)),t.xp6(1),t.hij("",l.ORELEZIONE," h")}}function E(a,p){if(1&a&&(t.TgZ(0,"ion-list",9),t.YNc(1,Z,31,32,"ion-item",10),t.qZA()),2&a){const l=t.oxw();t.xp6(1),t.Q6J("ngForOf",l.calendarCorso)}}function I(a,p){1&a&&(t.TgZ(0,"div",23)(1,"ion-label"),t._uU(2,"Programmazione"),t.qZA(),t.TgZ(3,"ion-label"),t._uU(4,"non disponibile"),t.qZA()())}let o=(()=>{class a{constructor(l,u,C,T){this.mdlController=l,this.docStructureService=u,this.loadingController=C,this.toastController=T,this.calendarCorso=[],this.ricevuti=!1}ngOnInit(){let l=new f.N(!0);l.IDCORSO=this.myCorso.ID;let u=new d.Kl;u.decode=new d.dR,u.decode.active=!0,this.loadingController.create({message:"Caricamento...",spinner:"circular",backdropDismiss:!0}).then(C=>{C.present(),this.docStructureService.requestNew(l,u).then(T=>{C.dismiss(),this.calendarCorso=T}).catch(T=>{C.dismiss(),this.showMessage("Errore di connessione"),g.M.consoleLog(T,"error")})})}closeCalendar(){this.mdlController.dismiss()}colorItem(l){let u="success";return l.eventoPassato()&&(u="danger"),u}showMessage(l){this.toastController.create({message:l,duration:3e3}).then(u=>{u.present()})}}return a.\u0275fac=function(l){return new(l||a)(t.Y36(c.IN),t.Y36(y.l),t.Y36(c.HT),t.Y36(c.yF))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-calendar"]],inputs:{myCorso:"myCorso"},decls:14,vars:5,consts:[[1,"ion-no-border"],["color","primary"],["slot","start"],["name","calendar"],["slot","end"],[3,"click"],["name","close"],["class","ion-no-padding","id","cal-find",4,"ngIf"],["class","nofind-cnt",4,"ngIf"],["id","cal-find",1,"ion-no-padding"],["class","ion-no-padding ion-no-margin","color","light",4,"ngFor","ngForOf"],["color","light",1,"ion-no-padding","ion-no-margin"],["size","4",1,"colGiorno"],[1,"contentGiorno","ion-no-padding"],["size","8",1,"colOrario"],["mode","ios",1,"ion-no-margin","ion-no-padding"],[1,"ion-no-margin","ion-no-padding"],[1,"ion-no-margin"],["lines","none",3,"color"],["name","play","slot","start"],["lines","none"],["name","pause","slot","start"],["slot","end",3,"color"],[1,"nofind-cnt"]],template:function(l,u){1&l&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2)(3,"ion-button"),t._UZ(4,"ion-icon",3),t.qZA()(),t.TgZ(5,"ion-title"),t._uU(6),t.ALo(7,"titlecase"),t.qZA(),t.TgZ(8,"ion-buttons",4)(9,"ion-button",5),t.NdJ("click",function(){return u.closeCalendar()}),t._UZ(10,"ion-icon",6),t.qZA()()()(),t.TgZ(11,"ion-content"),t.YNc(12,E,2,1,"ion-list",7),t.YNc(13,I,5,0,"div",8),t.qZA()),2&l&&(t.xp6(6),t.Oqu(t.lcZ(7,3,u.myCorso.DENOMINAZIONE)),t.xp6(6),t.Q6J("ngIf",0!==u.calendarCorso.length),t.xp6(1),t.Q6J("ngIf",u.ricevuti&&0===u.calendarCorso.length))},directives:[c.Gu,c.sr,c.Sm,c.YG,c.gu,c.wd,c.W2,P.O5,c.q_,P.sg,c.Ie,c.wI,c.PM,c.FN,c.Q$,c.yp],pipes:[P.rS,P.uU,P.gd],styles:["h5[_ngcontent-%COMP%]{color:var(--ion-color-primary)}.colGiorno[_ngcontent-%COMP%]{background-color:var(--ion-color-light)}.colOrario[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%]{background-color:var(--ion-color-light)}.contentGiorno[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:var(--ion-color-light);align-items:center}.contentGiorno[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--ion-color-primary);margin:0;font-weight:600;font-size:18px}.contentGiorno[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:var(--ion-color-primary);margin:0}.contentGiorno[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0}.contentOrari[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:var(--ion-color-light);align-items:flex-start}.contentOrari[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .contentOrari[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .contentOrari[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--ion-color-medium);padding:0;margin:0}ion-card[_ngcontent-%COMP%]{background-color:var(--ion-color-primary-contrast)}col-content[_ngcontent-%COMP%]{background-color:var(--ion-color-light)}ion-content[_ngcontent-%COMP%]{--background: var(--ion-color-light) }"]}),a})()},1626:(M,O,r)=>{r.d(O,{u:()=>y});var A=r(4021),f=r(2096);let y=(()=>{class d{transform(t){let c="";return c=A.Gs.decode(A.Jw,t),c}}return d.\u0275fac=function(t){return new(t||d)},d.\u0275pipe=f.Yjl({name:"targetSesso",type:d,pure:!0}),d})()}}]);