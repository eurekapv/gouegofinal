{"version":3,"sources":["./src/app/pages/location/course/detailcourse/calendar/calendar.page.ts","./src/app/pages/location/course/detailcourse/calendar/calendar.page.html"],"names":[],"mappings":"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","file":"default~course-listcourses-listcourses-module~pages-history-historycourse-historycourse-module~pages~634c6dde-es2015.js","sourcesContent":["import { Component, OnInit, Input } from '@angular/core';\r\nimport { Corso } from 'src/app/models/corso.model';\r\nimport { StartService } from 'src/app/services/start.service';\r\nimport { ModalController, ToastController, LoadingController } from '@ionic/angular';\r\nimport { PianificazioneCorso } from 'src/app/models/pianificazionecorso.model';\r\nimport { Subscription } from 'rxjs';\r\nimport { DocstructureService } from 'src/app/library/services/docstructure.service';\r\nimport { RequestParams, RequestDecode } from 'src/app/library/models/requestParams.model';\r\n\r\n@Component({\r\n  selector: 'app-calendar',\r\n  templateUrl: './calendar.page.html',\r\n  styleUrls: ['./calendar.page.scss'],\r\n})\r\nexport class CalendarPage implements OnInit {\r\n\r\n  @Input() myCorso: Corso;\r\n  calendarCorso: PianificazioneCorso[]=[];\r\n  listenCalendarCorso: Subscription;\r\n  ricevuti = false; //Indica se gli orari sono stati ricevuti\r\n\r\n  constructor(\r\n              private mdlController: ModalController,\r\n              private docStructureService: DocstructureService,\r\n              private loadingController : LoadingController,\r\n              private toastController : ToastController) { }\r\n\r\n  ngOnInit() {\r\n    //Sottoscrivo alla ricezione\r\n    // this.listenCalendarCorso = this.startService.calendarioCorso.subscribe(listCalendar => {\r\n    //   this.calendarCorso = listCalendar;\r\n\r\n    //   this.ricevuti = true;\r\n      \r\n      \r\n    //})\r\n\r\n    //Richiedo il corso\r\n    //this.startService.requestCalendarioCorso(this.myCorso.ID);\r\n\r\n\r\n    //creo il filtro per la richiesta\r\n    let filter = new PianificazioneCorso(true);\r\n    filter.IDCORSO=this.myCorso.ID;\r\n\r\n    //creo i parametri per la richiesta\r\n    let params = new RequestParams();\r\n    params.decode = new RequestDecode();\r\n    params.decode.active = true;\r\n\r\n    //creo il loading \r\n    this.loadingController.create({\r\n      message: 'Caricamento...',\r\n      spinner: \"circular\",\r\n      backdropDismiss: true\r\n    })\r\n    .then(elLoading => {\r\n      elLoading.present();\r\n\r\n      //richiedo il calendario\r\n      this.docStructureService.requestNew(filter,params)\r\n      .then(listCalendar => {\r\n        //dismetto il loading e salvo il calendario\r\n        elLoading.dismiss();\r\n        this.calendarCorso = listCalendar;\r\n        \r\n      })\r\n      .catch(error => {\r\n        //dismetto il loading e mostro l'errore\r\n        elLoading.dismiss();\r\n        this.showMessage('Errore di connessione');\r\n        console.log(error);\r\n        \r\n      })\r\n    })\r\n    \r\n  }\r\n\r\n\r\n  //Chiudo il calendario\r\n  closeCalendar() {\r\n    this.mdlController.dismiss();\r\n  }\r\n\r\n  colorItem(itemCalendarCorso: PianificazioneCorso) {\r\n    let color = 'success';\r\n    if (itemCalendarCorso.eventoPassato()) {\r\n      color='danger';\r\n    }\r\n    return color;\r\n  }\r\n\r\n  showMessage (messaggio : string){\r\n    this.toastController.create({\r\n      message: messaggio,\r\n      duration: 3000\r\n\r\n    }).then (elModal => {\r\n      elModal.present();\r\n    })\r\n  }\r\n}\r\n","<ion-header class=\"ion-no-border\">\r\n  <ion-toolbar color=\"primary\">\r\n    <ion-buttons slot=\"start\">\r\n      <ion-button>\r\n        <ion-icon name=\"calendar\"></ion-icon>\r\n      </ion-button>\r\n    </ion-buttons>\r\n\r\n    \r\n    <ion-title>{{myCorso.DENOMINAZIONE|titlecase}}</ion-title>\r\n    \r\n    <ion-buttons slot=\"end\">\r\n      <ion-button (click)=\"closeCalendar()\">\r\n        <ion-icon name=\"close\"></ion-icon>\r\n      </ion-button>\r\n    </ion-buttons>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content>\r\n\r\n  <!-- RICEVUTI E PRESENTI -->\r\n  <ion-list class=\"ion-no-padding\" *ngIf=\"calendarCorso.length !== 0\" id=\"cal-find\">\r\n    <ion-item *ngFor=\"let giornata of calendarCorso\" class=\"ion-no-padding ion-no-margin\" color=\"light\">\r\n\r\n      <ion-col size=\"4\" class=\"colGiorno\">\r\n        <div class=\"contentGiorno ion-no-padding\">\r\n          <h5>\r\n            {{giornata.DATA | date:'EEEE'|titlecase}}\r\n          </h5>\r\n          <h4>\r\n            {{giornata.DATA | date:'d'}}\r\n            {{giornata.DATA | date:'MMM' | uppercase}} \r\n            '{{giornata.DATA | date:'yy'}}\r\n          </h4>      \r\n          <h6>\r\n            {{giornata['_DENOMINAZIONE_Campo']}}\r\n          </h6>    \r\n        </div>\r\n      </ion-col>\r\n\r\n      <ion-col size=\"8\" class=\"colOrario\">\r\n        <ion-card mode=\"ios\" class=\"ion-no-margin ion-no-padding\">\r\n          <ion-card-content class=\"ion-no-margin ion-no-padding\" >\r\n            <ion-list class=\"ion-no-margin\">\r\n              <ion-item lines=\"none\" [color]=\"colorItem(giornata)\">\r\n                <ion-icon name=\"play\" slot=\"start\"></ion-icon>\r\n                <ion-label> {{giornata.DATAORAINIZIO | date:'HH:mm'}}</ion-label>\r\n                \r\n              </ion-item>\r\n\r\n              <ion-item lines=\"none\"  >\r\n                <ion-icon name=\"pause\" slot=\"start\"></ion-icon>\r\n                <ion-label> {{giornata.DATAORAFINE | date:'HH:mm'}}</ion-label>\r\n                <ion-badge [color]=\"colorItem(giornata)\" slot=\"end\">{{ giornata.ORELEZIONE }} h</ion-badge>\r\n              </ion-item>\r\n\r\n            </ion-list>\r\n\r\n\r\n          </ion-card-content>\r\n        </ion-card>\r\n      </ion-col>\r\n      \r\n    </ion-item>\r\n  </ion-list>\r\n\r\n\r\n  <div \r\n    *ngIf=\"ricevuti && calendarCorso.length === 0\" \r\n    class=\"nofind-cnt\" >\r\n\r\n    <ion-label>Programmazione</ion-label>\r\n    <ion-label>non disponibile</ion-label>\r\n    \r\n  </div>\r\n\r\n\r\n</ion-content>\r\n\r\n"],"sourceRoot":"webpack:///"}