{"version":3,"sources":["webpack:///src/app/pages/account/invoices/invoices.page.ts","webpack:///src/app/pages/account/invoices/invoices.page.html","webpack:///src/app/shared/pipes/pipes.module.ts","webpack:///src/app/shared/pipes/tipo-campo.pipe.ts","webpack:///src/app/shared/pipes/tipo-corso.pipe.ts","webpack:///src/app/shared/pipes/struttura-campo.pipe.ts","webpack:///src/app/pages/account/invoices/invoices-routing.module.ts","webpack:///src/app/shared/pipes/label-giorno.pipe.ts","webpack:///src/app/shared/pipes/ambito-news.pipe.ts","webpack:///src/app/pages/account/invoices/invoices.module.ts","webpack:///src/app/shared/pipes/classe-documento.pipe.ts","webpack:///src/app/shared/pipes/stato-prenotazione.pipe.ts","webpack:///src/app/shared/pipes/settore-attivita.pipe.ts","webpack:///src/app/shared/pipes/stato-slot.pipe.ts","webpack:///src/app/shared/pipes/target-sesso.pipe.ts","webpack:///src/app/shared/pipes/giorni-previsti.pipe.ts","webpack:///src/app/shared/pipes/tipomasterdocumento.pipe.ts"],"names":["InvoicesPage","loadingController","startService","file","fileOpener","toastController","navController","actualUtente","listRicevute","selectedYear","Date","toISOString","navigateRoot","requestRicevute","event","myDate","anno","getFullYear","requestInvoices","then","target","complete","error","console","log","showMessage","create","elLoading","present","dismiss","elemento","message","spinner","backdropDismiss","downloadInvoice","response","result","base64toBlob","code","blob","isDesktop","openDesktop","openMobile","name","url","window","URL","createObjectURL","link","document","createElement","download","href","body","appendChild","click","removeChild","fileName","filePath","cacheDirectory","writeFile","replace","fileEntry","open","toURL","type","err","messaggio","duration","elToast","PipesModule","TipoCampoPipe","value","label","decode","TipoCorsoPipe","StrutturaCampoPipe","routes","path","component","InvoicesPageRoutingModule","forChild","LabelGiornoPipe","AmbitoNewsPipe","InvoicesPageModule","ClasseDocumentoPipe","StatoPrenotazionePipe","SettoreAttivitaPipe","StatoSlotPipe","TargetSessoPipe","GiorniPrevistiPipe","language","strDay","arGiorni","valueReturn","smallVersion","indexDay","undefined","length","split","forEach","element","parseInt","getsmallLabel","getLabel","TipomasterdocumentoPipe"],"mappings":"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","file":"invoices-invoices-module-es5.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { LoadingController, NavController, ToastController } from '@ionic/angular';\r\nimport { MasterDocumento } from 'src/app/models/ricevuta.model';\r\nimport { StartService } from 'src/app/services/start.service';\r\nimport { File } from '@ionic-native/file/ngx';\r\nimport { FileOpener } from '@ionic-native/file-opener/ngx';\r\nimport { Utente } from 'src/app/models/utente.model';\r\nimport { PostResponse } from 'src/app/library/models/postResult.model';\r\nimport { MyDateTime } from 'src/app/library/models/mydatetime.model';\r\n\r\n@Component({\r\n  selector: 'app-invoices',\r\n  templateUrl: './invoices.page.html',\r\n  styleUrls: ['./invoices.page.scss'],\r\n})\r\nexport class InvoicesPage implements OnInit {\r\n\r\n  actualUtente: Utente = new Utente();\r\n\r\n  listRicevute: MasterDocumento[] = [];\r\n\r\n  selectedYear = new Date().toISOString();\r\n\r\n  constructor(\r\n    private loadingController: LoadingController,\r\n    private startService: StartService,\r\n    private file: File,\r\n    private fileOpener: FileOpener,\r\n    private toastController: ToastController,\r\n    private navController: NavController\r\n    \r\n\r\n\r\n  ) {\r\n\r\n   }\r\n\r\n\r\n  ngOnInit() {\r\n\r\n    //recupero l'utente\r\n    this.actualUtente = this.startService.actualUtente;\r\n\r\n    //se non ho l'utente devo uscire\r\n    if (!this.actualUtente){\r\n      this.navController.navigateRoot('/home');\r\n    }\r\n\r\n    else{\r\n      //posso recuperare l'elenco delle ricevute \r\n      this.requestRicevute();\r\n\r\n    }\r\n\r\n\r\n  }\r\n\r\n\r\n  /**\r\n   * richiede al servizio l'utente con le ricevute, e lo inserisce in actualUtente'\r\n   * @param event Evento opzionale da completare dopo aver eseguito l'aggiornamento (usato per il refresher)\r\n   */\r\n  requestRicevute(event?: any){\r\n    \r\n    //prima di tutto calcolo l'anno\r\n    let myDate = new Date(this.selectedYear);\r\n    let anno = myDate.getFullYear();\r\n\r\n        \r\n\r\n    if(event){\r\n      //La funzione è stata chiamata dal refresher\r\n      this.startService.requestInvoices(this.actualUtente, anno)\r\n      .then((listRicevute) => {\r\n\r\n        this.listRicevute = listRicevute;\r\n        event.target.complete();\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        this.showMessage('Errore di connessione');\r\n        event.target.complete();\r\n      })\r\n    }\r\n\r\n    else{\r\n\r\n      //la funzione non è stata chiamata dal refresher\r\n      this.loadingController.create()\r\n      .then(elLoading => {\r\n\r\n        elLoading.present();\r\n        this.startService.requestInvoices(this.actualUtente, anno)\r\n        .then((listRicevute) => {\r\n          this.listRicevute = listRicevute;\r\n          elLoading.dismiss();\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n          this.showMessage('Errore di connessione');\r\n          elLoading.dismiss();\r\n        })\r\n      })\r\n      \r\n    }\r\n\r\n   \r\n  }\r\n\r\n  \r\n  onClickElement(elemento: MasterDocumento){\r\n    //creo il loading e lo presento\r\n    this.loadingController.create({\r\n      message: 'Caricamento',\r\n      spinner: 'circular',\r\n      backdropDismiss: true\r\n    }).then(elLoading => {\r\n      elLoading.present();\r\n\r\n      //ora faccio la get del file\r\n      this.startService.downloadInvoice(elemento)\r\n      .then((response: PostResponse) => {\r\n        \r\n        //risposta ricevuta\r\n        elLoading.dismiss();\r\n\r\n        if (response.result){\r\n\r\n          // è andato tutto bene, converto il base64 in blob\r\n          this.startService.base64toBlob(response.code)\r\n          .then(blob => {\r\n\r\n            //ora che ho il blob, lo posso aprire\r\n            if(this.startService.isDesktop){\r\n\r\n              //apertura per desktop\r\n              this.openDesktop(blob);\r\n            }\r\n            else{\r\n\r\n              //apertura per mobile\r\n              this.openMobile(blob);\r\n            }\r\n          })\r\n          \r\n        }\r\n\r\n        else{\r\n          //la richiesta non è andata a buon fine\r\n          this.showMessage(response.message);\r\n        }\r\n\r\n      })\r\n      .catch(error => {\r\n\r\n        //errore di connessione\r\n        elLoading.dismiss();\r\n        console.log(error);\r\n        this.showMessage('Errore di connessione');\r\n      })\r\n    })\r\n  }\r\n\r\n  openDesktop(blob: Blob){\r\n\r\n\r\n    //per scaricare il file creo via javascript un link fittizio agganciando il percorso del blob, e ne scateno l'evento click\r\n    let name='File'\r\n    let url  = window.URL.createObjectURL(blob);\r\n    let link = document.createElement(\"a\");\r\n    link.download = name;\r\n    link.href = url;\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n\r\n\r\n  }\r\n\r\n  openMobile(blob: Blob){\r\n    let fileName='Documento';         \r\n    let filePath= this.file.cacheDirectory;      \r\n    \r\n\r\n        this.file.writeFile(filePath, fileName, blob, { replace:true }).then((fileEntry) => {\r\n\r\n                  \r\n          this.fileOpener.open(fileEntry.toURL(), blob.type)\r\n            .then(() => console.log('File is opened'))\r\n            .catch(err => console.error('Error openening file: ' + err));\r\n        })\r\n          .catch((err) => {\r\n            console.error(\"Error creating file: \");\r\n            console.log(err);\r\n            throw err;  \r\n          });\r\n  }\r\n\r\n  showMessage(messaggio: string){\r\n    this.toastController.create({\r\n      message: messaggio,\r\n      duration: 3000\r\n    })\r\n    .then(elToast => {\r\n      elToast.present();\r\n    })\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n","<ion-header>\r\n  <ion-toolbar color=\"primary\">\r\n    <ion-buttons slot=\"start\">\r\n      <ion-back-button defaultHref=\"/account\"></ion-back-button>\r\n    </ion-buttons>\r\n    <ion-title>Le tue ricevute</ion-title>\r\n  </ion-toolbar>\r\n  <ion-item lines=\"none\" color=\"\" >\r\n    <!-- <ion-icon slot=\"start\" name=\"calendar\" color=\"primary\"></ion-icon> -->\r\n    <ion-label>Periodo</ion-label>\r\n    <ion-datetime \r\n      displayFormat=\"YYYY\" \r\n      [(ngModel)]=\"selectedYear\" \r\n      (ngModelChange)=\"requestRicevute()\"\r\n      placeholder=\"Periodo attuale\"\r\n      min=\"2000\"\r\n    >\r\n  </ion-datetime>\r\n  <ion-icon name=\"chevron-down-outline\" color=\"primary\" slot=\"end\"></ion-icon>\r\n  </ion-item>\r\n</ion-header>\r\n\r\n<ion-content>\r\n\r\n  <!-- REFRESHER -->\r\n  <ion-refresher slot=\"fixed\" (ionRefresh)=\"requestRicevute($event)\">\r\n    <ion-refresher-content></ion-refresher-content>\r\n  </ion-refresher>\r\n\r\n  <!-- NESSUN DOCUMENTO PRESENTE -->\r\n  <div *ngIf=\"listRicevute.length === 0\" class=\"nofind-cnt\">\r\n    <ion-label>Nessuna ricevuta</ion-label>\r\n    <ion-label>disponibile</ion-label>\r\n  </div>\r\n\r\n  <!-- DOCUMENTI PRESENTI  -->\r\n  <div *ngIf=\"listRicevute.length > 0\">\r\n    <ion-list>\r\n      <ion-item *ngFor=\"let ricevuta of listRicevute\" button (click)=\"onClickElement(ricevuta)\">\r\n        <ion-icon slot=\"start\" class=\"icon-left\" color =\"\" name=\"document-text-outline\"></ion-icon>\r\n        <ion-label>\r\n          <h3>{{ricevuta.TIPOLOGIA | tipomasterdocumento}} num. {{ricevuta.NUMEROSTAMPA}}</h3>\r\n          <p>Emessa il: {{ricevuta.DATADOCUMENTO | date : 'dd/LL/yyyy' }}</p>\r\n          <p *ngIf=\"ricevuta.NOTESSTAMPA && ricevuta.NOTESSTAMPA.length !== 0\">{{ricevuta.NOTESSTAMPA}}</p>\r\n        </ion-label>\r\n        <ion-chip color=\"primary\" slot=\"end\">{{ricevuta.TOTDOCUMENTO | currency: 'EUR'}}</ion-chip>\r\n        <!-- <ion-badge color=\"light\" slot=\"end\">{{ricevuta.TOTDOCUMENTO | currency: 'EUR'}}</ion-badge> -->\r\n        \r\n      </ion-item>\r\n    </ion-list>\r\n  </div>\r\n\r\n\r\n</ion-content>\r\n","import { NgModule } from '@angular/core';\r\nimport { LabelGiornoPipe } from './label-giorno.pipe';\r\nimport { StrutturaCampoPipe } from './struttura-campo.pipe';\r\nimport { TipoCampoPipe } from './tipo-campo.pipe';\r\nimport { SettoreAttivitaPipe } from './settore-attivita.pipe';\r\nimport { TipoCorsoPipe } from './tipo-corso.pipe';\r\nimport { TargetSessoPipe } from './target-sesso.pipe';\r\nimport { StatoSlotPipe } from './stato-slot.pipe';\r\nimport { StatoPrenotazionePipe } from './stato-prenotazione.pipe';\r\nimport { AmbitoNewsPipe } from './ambito-news.pipe';\r\nimport { GiorniPrevistiPipe } from './giorni-previsti.pipe';\r\nimport { ClasseDocumentoPipe } from './classe-documento.pipe';\r\nimport { TipomasterdocumentoPipe } from './tipomasterdocumento.pipe';\r\n\r\n@NgModule({\r\n    declarations: [LabelGiornoPipe, \r\n                   StrutturaCampoPipe, \r\n                   TipoCampoPipe, \r\n                   SettoreAttivitaPipe, \r\n                   TipoCorsoPipe, \r\n                   TargetSessoPipe, \r\n                   StatoSlotPipe, \r\n                   StatoPrenotazionePipe, \r\n                   AmbitoNewsPipe, \r\n                   GiorniPrevistiPipe, \r\n                   ClasseDocumentoPipe, \r\n                   TipomasterdocumentoPipe],\r\n    imports: [],\r\n    exports: [LabelGiornoPipe, \r\n              StrutturaCampoPipe, \r\n              TipoCampoPipe, \r\n              SettoreAttivitaPipe, \r\n              TipoCorsoPipe,\r\n              TargetSessoPipe,\r\n              StatoSlotPipe,\r\n              StatoPrenotazionePipe, \r\n              AmbitoNewsPipe,\r\n              GiorniPrevistiPipe,\r\n              ClasseDocumentoPipe, \r\n              TipomasterdocumentoPipe]\r\n})\r\nexport class PipesModule{}\r\n\r\n/**\r\n * Questo Modulo serve a includere tutti i Pipes definiti\r\n * Quindi per ogni nuovo pipe è necessario importarlo qui \r\n * e specificarlo in declarations ed exports\r\n * \r\n * NON INCLUDERE NESSUN MODULO IN app.module.ts\r\n * \r\n * Quando serve un pipe usare la \r\n * page.module.ts (Il file modulo della pagina dove bisogna usare il pipe)\r\n * importare il modulo Pipes.Module.ts e aggiungere in ngModel imports PipesModule\r\n * \r\n * Non serve fare riferimento diretto al pipe che si vuole usare\r\n */","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { ValueList, TipoCampo } from 'src/app/models/valuelist.model';\r\n\r\n@Pipe({\r\n  name: 'tipoCampo'\r\n})\r\nexport class TipoCampoPipe implements PipeTransform {\r\n\r\n  transform(value: number): string {\r\n    let label = '';\r\n\r\n    label = ValueList.decode(TipoCampo, value);\r\n    \r\n    return label;\r\n  }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { ValueList, TipoCorso } from '../../models/valuelist.model';\r\n\r\n\r\n@Pipe({\r\n  name: 'tipoCorso'\r\n})\r\nexport class TipoCorsoPipe implements PipeTransform {\r\n\r\n  transform(value: number): string {   \r\n    let label = '';\r\n\r\n    label = ValueList.decode(TipoCorso, value);\r\n    return label;\r\n  }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { ValueList, StrutturaCampo } from '../../models/valuelist.model';\r\n\r\n@Pipe({\r\n  name: 'strutturaCampo'\r\n})\r\nexport class StrutturaCampoPipe implements PipeTransform {\r\n\r\n  transform(value: number): string {\r\n    let label = '';\r\n\r\n    label = ValueList.decode(StrutturaCampo, value);\r\n    return label;\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { InvoicesPage } from './invoices.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: InvoicesPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class InvoicesPageRoutingModule {}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'labelGiorno'\r\n})\r\nexport class LabelGiornoPipe implements PipeTransform {\r\n\r\n  transform(value: number): string {\r\n    let label = '';\r\n    switch (value) {\r\n      case 1:\r\n        label = 'domenica';\r\n        break;\r\n      case 2:\r\n        label = 'lunedi\\'';\r\n        break;\r\n      case 3:\r\n        label = 'martedi\\'';\r\n        break;\r\n      case 4:\r\n        label = 'mercoledi\\'';\r\n        break;\r\n      case 5:\r\n        label = 'giovedi\\'';\r\n        break;        \r\n      case 6:\r\n        label = 'venerdi\\'';\r\n        break;        \r\n      case 7:\r\n        label = 'sabato';\r\n        break;                \r\n    }\r\n    \r\n    \r\n    return label;\r\n  }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { ValueList, AmbitoNews } from '../../models/valuelist.model';\r\n\r\n@Pipe({\r\n  name: 'ambitoNews'\r\n})\r\nexport class AmbitoNewsPipe implements PipeTransform {\r\n\r\n  transform(value: number): string {\r\n    let label = '';\r\n\r\n    label = ValueList.decode(AmbitoNews, value);\r\n\r\n    return label;\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { InvoicesPageRoutingModule } from './invoices-routing.module';\r\n\r\nimport { InvoicesPage } from './invoices.page';\r\n\r\nimport { File } from '@ionic-native/file/ngx';\r\nimport { FileOpener } from '@ionic-native/file-opener/ngx';\r\nimport { PipesModule } from 'src/app/shared/pipes/pipes.module';\r\n\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    InvoicesPageRoutingModule,\r\n    PipesModule\r\n  ],\r\n  declarations: [InvoicesPage],\r\n  providers: [File, FileOpener],\r\n\r\n})\r\nexport class InvoicesPageModule {}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { ClasseDocumento } from 'src/app/models/tipodocumentazione.model';\r\nimport { ValueList } from '../../models/valuelist.model';\r\n\r\n@Pipe({\r\n  name: 'classeDocumento'\r\n})\r\nexport class ClasseDocumentoPipe implements PipeTransform {\r\n\r\n  transform(value: number): string {   \r\n    let label = '';\r\n\r\n    label = ValueList.decode(ClasseDocumento, value);\r\n    return label;\r\n  }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { ValueList, StatoPrenotazione } from '../../models/valuelist.model';\r\n\r\n@Pipe({\r\n  name: 'statoPrenotazione'\r\n})\r\nexport class StatoPrenotazionePipe implements PipeTransform {\r\n\r\n  transform(value: number): string {\r\n    let label = '';\r\n\r\n    label = ValueList.decode(StatoPrenotazione, value);\r\n\r\n    return label;\r\n  }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { ValueList, SettoreAttivita } from '../../models/valuelist.model';\r\n\r\n@Pipe({\r\n  name: 'settoreAttivita'\r\n})\r\nexport class SettoreAttivitaPipe implements PipeTransform {\r\n\r\n  transform(value: number): string {\r\n    let label = '';\r\n\r\n    label = ValueList.decode(SettoreAttivita, value);\r\n\r\n    return label;\r\n  }\r\n\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { ValueList, StatoSlot} from '../../models/valuelist.model';\r\n\r\n@Pipe({\r\n  name: 'statoSlot'\r\n})\r\nexport class StatoSlotPipe implements PipeTransform {\r\n\r\n  transform(value: number): string {   \r\n    let label = '';\r\n\r\n    label = ValueList.decode(StatoSlot, value);\r\n    return label;\r\n  }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { ValueList, TargetSesso } from '../../models/valuelist.model';\r\n\r\n@Pipe({\r\n  name: 'targetSesso'\r\n})\r\nexport class TargetSessoPipe implements PipeTransform {\r\n\r\n  transform(value: number): string {   \r\n    let label = '';\r\n\r\n    label = ValueList.decode(TargetSesso, value);\r\n    return label;\r\n  }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { Language } from 'src/app/models/valuelist.model';\r\nimport { Settimana } from 'src/app/models/settimana.model';\r\n\r\n@Pipe({\r\n  name: 'giorniPrevisti'\r\n})\r\nexport class GiorniPrevistiPipe implements PipeTransform {\r\n\r\n  //Il Pipe serve a trasformare una sequenza di numeri che rappresentano giorni\r\n  //ad esempio 2;3;4 nel rispettivo stringa Martedi, Mercoledi, Giovedi\r\n  //I giorni previsti sono in versione C# 1 = Dom, 2 Lun, etc\r\n  //Qui li passo in versione JS che sono zero-base\r\n\r\n  transform(value: string, language: Language, ...args: any[]): string {\r\n    let strDay = '';\r\n    let arGiorni = [];\r\n    let valueReturn = '';\r\n    let smallVersion = false;\r\n    let indexDay = 0;\r\n\r\n    if (value !== undefined) {\r\n      if (value.length !== 0) {\r\n        arGiorni = value.split(';');\r\n      }\r\n    }\r\n\r\n    if (arGiorni.length !== 0) {\r\n\r\n      //Se ho più di 3 giorni chiedo la versione short\r\n      if (arGiorni.length > 3) {\r\n        smallVersion = true;\r\n      }\r\n\r\n      //Ciclo sui giorni e li decodifico\r\n      arGiorni.forEach(element => {\r\n        try {\r\n            indexDay = parseInt(element);\r\n            indexDay--;\r\n\r\n            if (smallVersion) {\r\n              strDay = Settimana.getsmallLabel(indexDay, language);\r\n            }\r\n            else {\r\n              strDay = Settimana.getLabel(indexDay, language);\r\n            }\r\n    \r\n            \r\n            if (valueReturn.length !== 0)  {\r\n              valueReturn += ', ';\r\n            }\r\n\r\n            valueReturn += strDay;\r\n\r\n        } catch (error) {\r\n          console.log('Error Parse');\r\n        }\r\n        \r\n      \r\n      });\r\n    }\r\n\r\n    return valueReturn;\r\n  }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { ValueList, TipoMasterDocumento } from 'src/app/models/valuelist.model';\r\n\r\n@Pipe({\r\n  name: 'tipomasterdocumento'\r\n})\r\nexport class TipomasterdocumentoPipe implements PipeTransform {\r\n\r\n  transform(value: number): string {   \r\n    let label = '';\r\n\r\n    label = ValueList.decode(TipoMasterDocumento, value);\r\n\r\n    return label;\r\n  }\r\n\r\n}\r\n"]}