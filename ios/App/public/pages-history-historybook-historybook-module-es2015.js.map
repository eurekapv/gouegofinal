{"version":3,"sources":["./src/app/pages/history/historybook/historybook.module.ts","./src/app/pages/history/historybook/historybook-routing.module.ts","./src/app/pages/history/historybook/historybook.page.ts","./src/app/pages/history/historybook/historybook.page.html"],"names":[],"mappings":"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","file":"pages-history-historybook-historybook-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { HistorybookPageRoutingModule } from './historybook-routing.module';\r\n\r\nimport { HistorybookPage } from './historybook.page';\r\n\r\nimport { QRCodeModule } from 'angularx-qrcode'\r\n\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    HistorybookPageRoutingModule,\r\n    \r\n    QRCodeModule\r\n      \r\n  ],\r\n  declarations: [HistorybookPage]\r\n})\r\nexport class HistorybookPageModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { HistorybookPage } from './historybook.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: HistorybookPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class HistorybookPageRoutingModule {}\r\n","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { Prenotazione } from 'src/app/models/prenotazione.model';\r\nimport { Subscription } from 'rxjs';\r\nimport { PrenotazionePianificazione } from 'src/app/models/prenotazionepianificazione.model';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { StartService } from 'src/app/services/start.service';\r\nimport { NavController, ToastController, LoadingController, AlertController} from '@ionic/angular';\r\n\r\n//per lo share mobile con immagini\r\nimport { SocialSharing } from '@ionic-native/social-sharing/ngx';\r\n//per lo share via browser\r\nimport { Plugins } from '@capacitor/core';\r\nconst { Share } = Plugins;\r\n\r\nimport { DocstructureService } from 'src/app/library/services/docstructure.service'\r\n\r\nimport { StartConfiguration } from 'src/app/models/start-configuration.model';\r\nimport { Area } from 'src/app/models/area.model';\r\nimport { PageType } from 'src/app/models/valuelist.model'\r\nimport { RequestParams } from 'src/app/library/models/requestParams.model';\r\nimport { AreaPaymentSetting } from 'src/app/models/areapaymentsetting.model';\r\n\r\n\r\n@Component({\r\n  selector: 'app-historybook',\r\n  templateUrl: './historybook.page.html',\r\n  styleUrls: ['./historybook.page.scss'],\r\n})\r\nexport class HistorybookPage implements OnInit, OnDestroy {\r\n\r\n  myPrenotazione: Prenotazione= new Prenotazione;\r\n\r\n  startConfig:StartConfiguration;\r\n  subStartConfig:Subscription;\r\n  \r\n  idPrenotazione: string;\r\n  idPianificazione: string;\r\n  historyId: string;\r\n  myArea:Area;\r\n\r\n\r\n\r\n  //i metodi di pagamento possibili\r\n  arPayments : AreaPaymentSetting[] = [];\r\n\r\n  sliderOpts={\r\n    slidesPerView: 1,\r\n    spaceBetween: 0,\r\n    initialSlide: 0 \r\n  }\r\n\r\n\r\n  constructor(private router: ActivatedRoute,\r\n              private navCtr: NavController,\r\n              private startService: StartService,\r\n              private toastCtr: ToastController,\r\n              private socialSharing: SocialSharing,\r\n              private docStructureService: DocstructureService,\r\n              private loadingController: LoadingController,\r\n              private docstructrureService: DocstructureService,\r\n              private alertController: AlertController\r\n              ) { }\r\n\r\n  //In paramMap leggo IDPrenotazione\r\n  ngOnInit() {\r\n\r\n\r\n    let result=true; \r\n    this.loadingController.create({\r\n      spinner:'circular',\r\n      message:'Caricamento',\r\n      backdropDismiss:true\r\n    }).then(loading=>{\r\n      loading.present();\r\n      this.subStartConfig=this.startService.startConfig.subscribe(config=>{\r\n        this.startConfig=config;\r\n      })\r\n      this.router.paramMap.subscribe(param => {\r\n        if (param.has('historyId')) {\r\n  \r\n          //HistoryID è formato da IDPrenotazione + '-' + IDPianificazione\r\n          this.historyId = param.get('historyId');\r\n  \r\n          if (this.historyId.length !== 0) {\r\n            result = this.requestByHistoryId(this.historyId);\r\n          }\r\n          else {\r\n            result = false;\r\n          }\r\n        }\r\n        else {\r\n          result = false;\r\n        }\r\n  \r\n        if (!result) {\r\n          this.loadingController.dismiss();\r\n          this.goBack();\r\n        }\r\n      });\r\n    })\r\n\r\n  }\r\n\r\n  /**\r\n   * Richiedo le informazioni con historyID\r\n   * @param historyId HistoryId\r\n   */\r\n  requestByHistoryId(historyId: string) {\r\n    let result = true;\r\n    let idPren = '';\r\n    let idPian = '';\r\n\r\n    \r\n\r\n    if (historyId.length !== 0) {\r\n      idPren = historyId.substr(0,36);\r\n      idPian = historyId.substr(37,36);\r\n\r\n      \r\n\r\n      if (idPren.length !== 36 || idPian.length !== 36) {\r\n        result = false;\r\n      }\r\n      else {\r\n        this.idPrenotazione = idPren;\r\n        this.idPianificazione = idPian;\r\n\r\n        //creo il filtro e richiedo la prenotazione\r\n        let filterPrenotazione : Prenotazione=new Prenotazione(true);\r\n        filterPrenotazione.ID=idPren;\r\n        //Parametri richiesta\r\n        let reqParams = new RequestParams();\r\n        reqParams.child_level = 2;\r\n\r\n        //Lancio la richiesta per la Prenotazione\r\n        this.docStructureService.requestNew(filterPrenotazione,reqParams)\r\n        .then(data =>{\r\n            //Recupero la Prenotazione\r\n            this.myPrenotazione = data[0];\r\n\r\n            //Voglio decodificare una collection di PRENOTAZIONEPIANIFICAZIONE e recuperare il doc Area\r\n\r\n            \r\n            \r\n            if (this.myPrenotazione.PRENOTAZIONEPIANIFICAZIONE && this.myPrenotazione.PRENOTAZIONEPIANIFICAZIONE.length !== 0 ) {\r\n              \r\n              //Mi faccio tornare i campi di foreing key e di describe che mi servono ora\r\n              let reqForeign = PrenotazionePianificazione.getReqForeignKeys();\r\n\r\n              //Chiedo la decodifica della collection e successivamente chiedo il documento Area\r\n              this.docStructureService.decodeCollection(this.myPrenotazione.PRENOTAZIONEPIANIFICAZIONE, reqForeign)\r\n                                      .then(() => {\r\n\r\n                                        //CHIEDO L'AREA\r\n                                        //Chiedo il recupero del documento Area\r\n                                        this.docstructrureService.getRelDoc(this.myPrenotazione, ['IDAREAOPERATIVA'])\r\n                                                                  .then(docArea => {\r\n                                                                      this.myArea = docArea;\r\n\r\n                                                                      //Imposto i dati per i pagamenti\r\n                                                                      this.setPaymentFromArea();\r\n\r\n                                                                      \r\n                                                                      //Qui è arrivato tutto esattamente\r\n                                                                      this.loadingController.dismiss();\r\n                                                                  })\r\n                                                                  .catch(err => {\r\n\r\n                                                                        //Dismetto il loading\r\n                                                                        this.loadingController.dismiss();\r\n                                                                        this.showMessage('Errore nel caricamento Area');\r\n                                                                        console.log(err);                                                                    \r\n                                                                  });\r\n\r\n                                      })\r\n                                      .catch(err => {\r\n                                        //Dismetto il loading\r\n                                        this.loadingController.dismiss();\r\n\r\n                                        this.showMessage('Errore nel caricamento Elenco');\r\n                                        console.log(err);\r\n                                      });\r\n            }\r\n            else {\r\n\r\n                //SE NON PRENOTAZIONI PIANIFICAZIONE\r\n                //CHIEDO L'AREA\r\n                //Chiedo il recupero del documento Area\r\n                this.docstructrureService.getRelDoc(this.myPrenotazione, ['IDAREAOPERATIVA'], 3)\r\n                                          .then(docArea => {\r\n\r\n                                              this.myArea = docArea;\r\n                                              this.setPaymentFromArea();\r\n\r\n                                              //Qui è arrivato tutto esattamente\r\n                                              this.loadingController.dismiss();\r\n                                          })\r\n                                          .catch(err => {\r\n                                                //Dismetto il loading\r\n                                                this.loadingController.dismiss();\r\n                                                this.showMessage('Errore nel caricamento Area');\r\n                                                console.log(err);                                                                    \r\n                                          });\r\n\r\n            }\r\n\r\n\r\n        }).catch(error=>{\r\n          this.loadingController.dismiss();\r\n          this.showMessage('Errore nel caricamento Prenotazione');\r\n          console.log(error);\r\n        })\r\n      \r\n      }\r\n    }\r\n    else {\r\n      result = false;\r\n    }\r\n\r\n\r\n    return result;\r\n\r\n  }\r\n\r\n  /**\r\n   * Imposta i pagamenti a seconda dell'area\r\n   */\r\n  setPaymentFromArea() {\r\n    //TODO: Per impostare l'array dei pagamenti bisogna scaricare \r\n    //dal server l'Area perchè potrebbe essere diversa dall'attuale\r\n  }\r\n  \r\n\r\n  ngOnDestroy() {\r\n    \r\n  }\r\n\r\n\r\n  goBack() {\r\n    this.showMessage('Informazioni prenotazioni errate');\r\n    this.navCtr.navigateBack(['/','historylist']);\r\n  }\r\n\r\n\r\n   /**\r\n   * Visualizza un messaggio come Toast\r\n   * @param message Messaggio da mostrare\r\n   */\r\n  showMessage(message: string) {\r\n\r\n    //Creo un messaggio\r\n    this.toastCtr.create({\r\n      message: message,\r\n      duration: 3000\r\n    })\r\n    .then(tstMsg => {\r\n      tstMsg.present();\r\n    });\r\n\r\n  }\r\n\r\n  getIcon (idSport){\r\n    return this.startService.getSportIcon(idSport);\r\n  }\r\n\r\n  onShare(docPianificazione:PrenotazionePianificazione){\r\n    let url:string;\r\n    let messaggio:string;\r\n    let logo: string;\r\n    let oggetto: string;\r\n    \r\n    \r\n\r\n    if (this.myPrenotazione && docPianificazione){\r\n\r\n      for (const iterator of this.myArea.AREALINKS) {\r\n        if (iterator.TIPOURL==PageType.home){\r\n          url=iterator.REFERURL;\r\n          break;\r\n        }      \r\n      }\r\n      if(!url){\r\n        url='';\r\n      }\r\n      logo=this.startConfig.getUrlLogo();\r\n      messaggio=this.myPrenotazione.NOMINATIVO+' ha prenotato il '+docPianificazione.DATAORAINIZIO.toLocaleDateString()+' alle '+docPianificazione.DATAORAINIZIO.toLocaleTimeString();\r\n      \r\n      if (this.startConfig.companyName){\r\n        messaggio += ' presso '+this.startConfig.companyName;\r\n      }\r\n  \r\n      if (docPianificazione['_INDIRIZZO_Location']){\r\n        messaggio += ' '+docPianificazione['_INDIRIZZO_Location'];\r\n      }\r\n  \r\n      if (docPianificazione['_DENOMINAZIONE_Campo']){\r\n        messaggio += ' (Campo: '+docPianificazione['_DENOMINAZIONE_Campo'];\r\n      }\r\n  \r\n      if (docPianificazione['_DENOMINAZIONE_Sport']){\r\n        messaggio += ', Attività: '+docPianificazione['_DENOMINAZIONE_Sport']+')';\r\n      }\r\n  \r\n  \r\n      oggetto='Prenotazione '+docPianificazione.PROGRESSIVO;\r\n  \r\n      if(this.startService.isDesktop){\r\n        //share via mail su desktop\r\n        window.open('mailto:?subject='+oggetto+'&body='+messaggio);\r\n      }\r\n      else{\r\n        //share su mobile\r\n        this.socialSharing.share(messaggio,'',logo,url);\r\n      }\r\n    }\r\n\r\n    else{\r\n      this.showMessage('Errore nella condivisione');\r\n    }\r\n\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * Richiesta cancellazione prenotazione al server\r\n   * @param idPianificazione Prenotazione Pianificazione\r\n   */\r\n  onClickTrash(idPianificazione: string) {\r\n    this.alertController.create({\r\n      header:\"Sei sicuro?\",\r\n      message:\"Continuando, cancellerai questa prenotazione\",\r\n      buttons: [\r\n        {\r\n          text: 'Conferma',\r\n          handler: () => {this.deletePianificazione(idPianificazione)}\r\n        },\r\n        {\r\n          text: 'Annulla',\r\n          role: 'cancel'\r\n        }\r\n      ]\r\n\r\n    })\r\n    .then(alert => {\r\n      alert.present();\r\n    })\r\n  }\r\n\r\n\r\n  deletePianificazione(idPianificazione: string){\r\n\r\n    this.loadingController.create({\r\n      message: 'Cancellazione...',\r\n      spinner: 'circular',\r\n      backdropDismiss: true\r\n    })\r\n    .then(loading => {\r\n      return loading.present();\r\n    })\r\n    .then(() => {\r\n      //faccio richiesta cancellazione \r\n      return this.startService.requestDeletePianificazione(idPianificazione)\r\n    })\r\n    .then(resp => {\r\n      //Chiudo il Loading Controller\r\n      this.loadingController.dismiss();\r\n      \r\n      //Visualizzo il messaggio\r\n      this.showMessage(resp.message);\r\n\r\n      //Se è andato tutto bene\r\n      if(resp.result) {\r\n        \r\n        //è andato tutto bene\r\n        this.navCtr.navigateBack('/historylist');\r\n      }\r\n\r\n    })\r\n    .catch(resp => {\r\n      this.loadingController.dismiss();\r\n      this.showMessage(resp.message);\r\n    })\r\n    \r\n\r\n\r\n\r\n\r\n    // this.alertController.create({\r\n    //   header: 'Cancellazione',\r\n    //   message: 'Contattaci direttamente per cancellare questa prenotazione',\r\n    //   backdropDismiss: true,\r\n    //   buttons: [\r\n    //     {\r\n    //       text: 'Ok',\r\n    //       handler: ()=>{this.alertController.dismiss()}\r\n    //     }\r\n    //   ]\r\n      \r\n    // })\r\n    // .then(elAlert => {\r\n    //   elAlert.present();\r\n    // })\r\n  }\r\n\r\n}\r\n","<ion-header>\r\n  <ion-toolbar color=\"primary\">\r\n    <ion-buttons slot=\"start\">\r\n      <ion-back-button defaultHref=\"/historylist\">    </ion-back-button>\r\n    </ion-buttons>\r\n    <ion-title>Prenotazione </ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content>\r\n  <!-- IN ATTESA DATI  -->\r\n  <!-- DATI  NON RICEVUTI -->\r\n  <!-- <div *ngIf=\"showSpinner\" id=\"crs-spinner\">\r\n    <ion-progress-bar type=\"indeterminate\"></ion-progress-bar>\r\n  </div> -->\r\n\r\n<!-- <div *ngIf=\"!showSpinner\"> -->\r\n<div>\r\n  <ion-slides [options]=\"sliderOpts\">\r\n    <ion-slide *ngFor=\"let docPianificazione of myPrenotazione.PRENOTAZIONEPIANIFICAZIONE; index as i\">\r\n      <div style=\"width: 100%;\" >\r\n        <div class=\"ion-text-center div-qr\" mode=\"md\">\r\n            <h6>ID: {{docPianificazione.PROGRESSIVO}}</h6>\r\n            <qrcode [qrdata]=\"docPianificazione.ID\"></qrcode>\r\n            <p>\r\n              <ion-icon name=\"information-circle-outline\" color=\"primary\"></ion-icon>\r\n              Presenta il Qr-code o l'ID prenotazione all'ingresso\r\n            </p>\r\n        </div>\r\n    \r\n        <div class=\"ion-text-center div-btns\">\r\n          <ion-button layout=\"icon-top\" fill=\"clear\" size=\"large\" (click)=\"onClickTrash(docPianificazione.ID)\">\r\n            <ion-icon name=\"trash-outline\"></ion-icon>\r\n          </ion-button>\r\n          <ion-button *ngIf=\"docPianificazione && docPianificazione['_EMAIL_Location']\" fill=\"clear\" size=\"large\" href=\"{{'mailto:'+docPianificazione['_EMAIL_Location']+'?subject=Prenotazione numero '+docPianificazione.PROGRESSIVO}}\">\r\n            <ion-icon name=\"mail-outline\"></ion-icon>\r\n          </ion-button>\r\n          <ion-button  fill=\"clear\" size=\"large\" (click)=\"onShare(docPianificazione)\">\r\n            <ion-icon name=\"share-social-outline\"></ion-icon>\r\n          </ion-button>\r\n        </div>\r\n    \r\n        <ion-list lines=\"none\">\r\n          <ion-item lines=\"full\" *ngIf=\"myPrenotazione.PRENOTAZIONEPIANIFICAZIONE.length>1\">\r\n            <ion-icon *ngIf=\"i!=0\" color=\"primary\" class=\"no-margin-vertical\" slot=\"start\" name=\"chevron-back\"></ion-icon>\r\n            <ion-label class=\"no-margin-vertical\">DATA {{i+1}} DI {{myPrenotazione.PRENOTAZIONEPIANIFICAZIONE.length}}</ion-label>\r\n            <ion-icon *ngIf=\"i<myPrenotazione.PRENOTAZIONEPIANIFICAZIONE.length-1\" color=\"primary\" class=\"no-margin-vertical\" slot=\"end\" name=\"chevron-forward\"></ion-icon>\r\n          </ion-item>\r\n          <ion-item>\r\n            <ion-label>\r\n              <h2>{{docPianificazione['_DENOMINAZIONE_Sport']}}</h2>\r\n            </ion-label>\r\n            <ion-chip color=\"primary\">\r\n              <i class=\"icon-sport\"><span [innerHTML]=\"getIcon(docPianificazione.IDSPORT)\"></span></i> \r\n            </ion-chip>\r\n          </ion-item>\r\n          <ion-item>\r\n            <ion-label>\r\n              <h2>{{docPianificazione.DATAORAINIZIO| date : 'EEEE dd/LL/yyyy'|titlecase}}</h2>\r\n              <p>dalle {{docPianificazione.DATAORAINIZIO | date : 'HH:mm'}} alle {{docPianificazione.DATAORAFINE | date : 'HH:mm'}} </p>\r\n            </ion-label>\r\n            <ion-chip color=\"primary\">\r\n              {{docPianificazione.DURATAORE}} {{docPianificazione.DURATAORE==1? 'Ora':'Ore'}} \r\n            </ion-chip>\r\n          </ion-item>\r\n          <ion-item>\r\n            <ion-label>\r\n              <h2>{{docPianificazione['_DENOMINAZIONE_Campo']}}</h2>\r\n              <p>{{docPianificazione['_COMUNE_Location']|titlecase}}</p>\r\n              <p>{{docPianificazione['_INDIRIZZO_Location']|titlecase}}</p>\r\n            </ion-label>\r\n            <ion-chip color=\"primary\">\r\n              {{docPianificazione.NUMPARTECIPANTI}}\r\n              <ion-icon name=\"person\"></ion-icon>\r\n            </ion-chip>\r\n          </ion-item>\r\n        </ion-list>\r\n      </div>\r\n    </ion-slide>\r\n  </ion-slides>\r\n    <ion-item color=\"light\">\r\n      PAGAMENTO\r\n    </ion-item>\r\n    <ion-item lines=\"full\">\r\n      <ion-label slot=\"start\">\r\n        Importo\r\n      </ion-label>\r\n      <ion-label style=\"text-align: right;\">\r\n        {{myPrenotazione.TOTALE | currency : 'EUR'}}\r\n      </ion-label>\r\n    </ion-item>\r\n    <ion-item lines=\"full\"  *ngIf=\"myPrenotazione.TOTALE!=myPrenotazione.INCASSATO\">\r\n      <ion-label slot=\"start\">\r\n        Pagato\r\n      </ion-label>\r\n      <ion-label style=\"text-align: right;\">\r\n        {{myPrenotazione.INCASSATO | currency : 'EUR'}}\r\n      </ion-label>\r\n    </ion-item>\r\n    <ion-item lines=\"full\">\r\n      <ion-label slot=\"start\">\r\n        Residuo\r\n      </ion-label>\r\n      <ion-label style=\"text-align: right;\">\r\n        {{myPrenotazione.RESIDUO | currency : 'EUR'}}\r\n      </ion-label>\r\n    </ion-item>\r\n  </div>\r\n</ion-content>\r\n\r\n<ion-footer>\r\n  <ion-button expand=\"block\" [disabled]=\"true\" color=\"tertiary\">\r\n    {{myPrenotazione.getCaptionStatePayment(false)}}\r\n  </ion-button>\r\n</ion-footer>"],"sourceRoot":"webpack:///"}