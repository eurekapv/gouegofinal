{"version":3,"sources":["./src/app/pages/history/historycourse/historycourse.module.ts","./src/app/pages/history/historycourse/historycourse.page.ts","./src/app/pages/history/historycourse/historycourse.page.html","./src/app/pages/history/historycourse/historycourse-routing.module.ts"],"names":[],"mappings":"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","file":"pages-history-historycourse-historycourse-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { HistorycoursePageRoutingModule } from './historycourse-routing.module';\r\n\r\nimport { HistorycoursePage } from './historycourse.page';\r\nimport { PipesModule } from 'src/app/shared/pipes/pipes.module';\r\nimport { CalendarPage } from 'src/app/pages/location/course/detailcourse/calendar/calendar.page';\r\nimport { CalendarPageModule } from 'src/app/pages/location/course/detailcourse/calendar/calendar.module';\r\nimport { AllegatilistPageModule } from 'src/app/pages/history/historycourse/allegatilist/allegatilist.module';\r\nimport { AllegatilistPage } from './allegatilist/allegatilist.page';\r\nimport { SharedComponentsModule } from 'src/app/shared/components/shared-components.module';\r\nimport { QRCodeModule } from 'angularx-qrcode';\r\n\r\n\r\n\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    IonicModule,\r\n    HistorycoursePageRoutingModule,\r\n    \r\n    PipesModule,\r\n    CalendarPageModule,\r\n    AllegatilistPageModule,\r\n    FormsModule,\r\n    SharedComponentsModule,\r\n    QRCodeModule\r\n  ],\r\n  entryComponents:[CalendarPage, AllegatilistPage],\r\n  declarations: [HistorycoursePage]\r\n})\r\nexport class HistorycoursePageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport {  ActivatedRoute } from '@angular/router';\r\nimport {  LoadingController, ToastController, ModalController, NavController } from '@ionic/angular';\r\nimport { Corso } from 'src/app/models/corso.model';\r\nimport { Subscription } from 'rxjs';\r\nimport { StartService } from 'src/app/services/start.service';\r\nimport { Location } from 'src/app/models/location.model';\r\nimport { UtenteIscrizione } from 'src/app/models/utenteiscrizione.model';\r\nimport { Utente } from 'src/app/models/utente.model';\r\nimport { StatoIscrizione, StatoPagamento } from 'src/app/models/valuelist.model'\r\nimport { CalendarPage } from 'src/app/pages/location/course/detailcourse/calendar/calendar.page';\r\n\r\nimport { AllegatilistPage } from './allegatilist/allegatilist.page';\r\nimport { DocstructureService } from 'src/app/library/services/docstructure.service';\r\nimport { AreaPaymentSetting } from 'src/app/models/areapaymentsetting.model';\r\n\r\n@Component({\r\n  selector: 'app-historycourse',\r\n  templateUrl: './historycourse.page.html',\r\n  styleUrls: ['./historycourse.page.scss'],\r\n})\r\nexport class HistorycoursePage implements OnInit {\r\n\r\n  StatoPagamento : typeof StatoPagamento=StatoPagamento\r\n  docUtente: Utente;\r\n  subDocUtente: Subscription;\r\n\r\n  myIscrizione: UtenteIscrizione = new  UtenteIscrizione(); //il documento iscrizione NON OBSERVABLE\r\n\r\n  myCorso:Corso= new Corso();\r\n\r\n  myLocation: Location= new Location();\r\n\r\n  selectedLocation: Location = new Location(); //il documento location NON OBSERVABLE \r\n\r\n  arPayments: AreaPaymentSetting[] = [];\r\n\r\n  isDesktop: boolean;\r\n\r\n  //La Label contenente il programma po' essere ristretta o allargata\r\n  expandProgramma: boolean = false;\r\n\r\n  constructor(private activatedRoute: ActivatedRoute,\r\n              private startService: StartService,\r\n              private loadingController: LoadingController,\r\n              private toastController: ToastController,\r\n              private navCtr: NavController,\r\n              private modalController: ModalController,\r\n              private docstructrureService: DocstructureService) {              }\r\n\r\n  ngOnInit() {\r\n    \r\n    this.isDesktop = this.startService.isDesktop;\r\n\r\n    //creo lo spinner e lo presento\r\n    this.loadingController.create({\r\n      message: 'Caricamento',\r\n      spinner: 'circular',\r\n      backdropDismiss: true\r\n    }).then(loading=>{\r\n      //Mostro il loading\r\n      loading.present();\r\n\r\n      //recupero l'id dell'iscrizione\r\n      this.activatedRoute.paramMap.subscribe(route=>{\r\n        if(route.has('historyId')) {\r\n          //se ho l'id dell'iscrizione, faccio la richiesta al server\r\n          let idIscrizione = route.get('historyId');\r\n          \r\n          //Chiedo il documento della Iscrizione\r\n          this.requestIscrizione(idIscrizione)\r\n          .then(docIscrizione => {\r\n                //quando arriva la risposta, valorizzo la proprietà\r\n                this.myIscrizione = docIscrizione;\r\n                //Chiedo lo scaricamento del documento corso e location\r\n                if (this.myIscrizione) {\r\n                  \r\n                  //Richiedo la Location (senza controllare se arriva)\r\n                  this.requestLocation(this.myIscrizione);\r\n\r\n                  //Richiedo anche Corso e Corso Programma verificando l'arrivo\r\n                  this.requestCorso(this.myIscrizione)\r\n                    .then(docCorso => {\r\n                        //Chiudo il loading Controller\r\n                        this.loadingController.dismiss();\r\n                        //Corso caricato\r\n                        if (docCorso) {\r\n                          //Corso caricato con la collction CORSOPROGRAMMA\r\n                          this.myCorso = docCorso;\r\n                        }\r\n                        else {\r\n                          //Corso nullo\r\n                          this.showAlert('Corso non trovato');\r\n                          this.goBack();\r\n                        }\r\n                    })\r\n                    .catch(error => {\r\n                      //Corso non recuperato\r\n                      this.showAlert(error);\r\n                      this.goBack();\r\n                    });\r\n                }\r\n                else {\r\n                  //Documento Iscrizione non recuperato\r\n                  //Chiudo il loading\r\n                  this.loadingController.dismiss();\r\n                  //Documento nullo\r\n                  this.showAlert('Iscrizione non trovata');\r\n                  //Torno alla pagina di Lista\r\n                  this.goBack();\r\n                }\r\n          })\r\n          .catch(error => {\r\n            //Errore recupero Iscrizione\r\n            //Chiudo il loading\r\n            this.loadingController.dismiss();\r\n            this.showAlert(error);\r\n            //Torno alla pagina di Lista\r\n            this.goBack();\r\n          });\r\n\r\n        }\r\n        else {\r\n          //Non trovo idIscrizione\r\n\r\n          //Chiudo il loading\r\n          loading.dismiss();\r\n          //Mostro un messaggio\r\n          this.showAlert('Nessuna Iscrizione trovata');\r\n          //Torno alla lista\r\n          this.goBack();\r\n        }\r\n      })\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Richiede al server una Iscrizione per ID\r\n   * @param myIdIscrizione idIscrizione richiesta\r\n   * @returns Promise<UtenteIscrizione>\r\n   */\r\n  requestIscrizione(myIdIscrizione:string): Promise<UtenteIscrizione> {\r\n\r\n    return new Promise<UtenteIscrizione>((resolve, reject) => {\r\n      if (myIdIscrizione && myIdIscrizione.length != 0) {\r\n        this.startService.requestIscrizioneById(myIdIscrizione)\r\n          .then(docIscrizione => {\r\n            resolve(docIscrizione);\r\n          })\r\n          .catch(error => {\r\n            reject(error);\r\n          });\r\n      }\r\n      else {\r\n        reject('Iscrizione non trovata');\r\n      }\r\n\r\n    });\r\n\r\n  }\r\n\r\n  /**\r\n   * Richiede un documento correlato del Corso e la collection CORSOPROGRAMMA\r\n   * @param docIscrizione documento della Iscrizione Corso\r\n   */\r\n  requestCorso(docIscrizione: UtenteIscrizione): Promise<Corso> {\r\n    return new Promise<Corso>((resolve, reject) => {\r\n    this.docstructrureService.getRelDoc(docIscrizione, ['IDCORSO'],1)\r\n      .then(docCorso => {\r\n      \r\n\r\n        if (docCorso) {\r\n          //Scarico la collection CORSO PROGRAMMA\r\n          this.docstructrureService.loadCollection(docCorso, 'CORSOPROGRAMMA')\r\n                  .then(() => {\r\n                    resolve( docCorso );\r\n                  })\r\n                  .catch(error => {\r\n                    reject(error);\r\n                  });\r\n        }\r\n        else {\r\n          reject('Corso non trovato');\r\n        }\r\n\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n      });\r\n    });\r\n\r\n  }\r\n\r\n  /**\r\n   * Richiede un documento correlato della Location ed imposto this.myLocation\r\n   * @param docIscrizione documento della Iscrizione Corso\r\n   */\r\n  requestLocation(docIscrizione: UtenteIscrizione): void {\r\n    this.docstructrureService.getRelDoc(docIscrizione, ['IDLOCATION'],1)\r\n      .then(docLocation => {\r\n        this.myLocation = docLocation;\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n\r\n  /**\r\n   * chiama il servizio passandogli l'id dell'oggetto corso, e restituisce la stringa dell'icona\r\n   * @param corso l'oggetto corso per cui si richiede l'icona\r\n   */\r\n  getIcon(corso:Corso)\r\n  {\r\n    let myIdSport = '';\r\n    if (corso) {\r\n      myIdSport = corso.IDSPORT;\r\n    }\r\n    return this.startService.getSportIcon(myIdSport);\r\n  }\r\n\r\n  getClassLabelProgramma(): string {\r\n    let myClass = '';\r\n    if (this.expandProgramma) {\r\n      myClass = 'ion-text-wrap';\r\n    }\r\n\r\n    return myClass;\r\n  }\r\n\r\n  /**\r\n   * Ritorna alla pagina della lista\r\n   */\r\n  goBack() {\r\n    \r\n    this.navCtr.navigateBack(['/','historylist']);\r\n  }\r\n\r\n  /**\r\n   * Apertura del Calendario Corso in Modale\r\n   */\r\n  onClickCalendar() {\r\n    /* Apro in modale il calendario */\r\n    this.modalController\r\n    .create({\r\n      component: CalendarPage,\r\n      componentProps: {\r\n        'myCorso': this.myCorso\r\n      }\r\n    })\r\n    .then(formModal => {\r\n      formModal.present();\r\n    });\r\n\r\n  }\r\n\r\n  onClickAllegati(){\r\n    this.modalController.create({\r\n      component: AllegatilistPage,\r\n      componentProps:{\r\n        'myCorso' : this.myCorso\r\n      }\r\n    })\r\n    .then(elModal => {\r\n      elModal.present();\r\n    })\r\n  }\r\n\r\n\r\n  /**\r\n   * Click sull'item contenente il Programma di corso\r\n   */\r\n  onClickExpandCorsoProgramma() {\r\n    this.expandProgramma = !this.expandProgramma;\r\n  }\r\n\r\n  /**\r\n   * Visualizza un Toast con il mssaggio\r\n   * @param messaggio Messaggio\r\n   */\r\n  showAlert(messaggio: string)\r\n  {\r\n    this.toastController.create({\r\n      message:messaggio,\r\n      duration:2000\r\n    }).then(loading=>{\r\n      loading.present();\r\n    })\r\n  }\r\n\r\n  iscrizioneConfermata(){\r\n    return this.myIscrizione.STATOISCRIZIONE==StatoIscrizione.confermata? true: false;\r\n  }\r\n\r\n\r\n\r\n  onClickPaga()\r\n  {\r\n\r\n  }\r\n\r\n\r\n\r\n  //funzione che recupera i metodi di pagamento e li inserisce in un array\r\n  setPaymentFromArea() {\r\n    //TODO: Per impostare l'array dei pagamenti bisogna scaricare \r\n    //dal server l'Area perchè potrebbe essere diversa dall'attuale\r\n  }\r\n\r\n\r\n}\r\n\r\n\r\n","<ion-header class=\"ion-no-border\">\r\n  <ion-toolbar color=\"primary\">\r\n    <ion-buttons slot=\"start\">\r\n      <ion-back-button defaultHref=\"/historylist\"></ion-back-button>\r\n    </ion-buttons>\r\n    <ion-title>{{ myCorso.TIPO | tipoCorso }}</ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n<ion-content>\r\n\r\n<div *ngIf=\"!myIscrizione || !myCorso\" id=\"crs-spinner\">\r\n  <ion-progress-bar type=\"indeterminate\"></ion-progress-bar>\r\n</div>\r\n\r\n<div *ngIf=\"myIscrizione && myCorso\">\r\n  <div style=\"width: 100%;\" >\r\n\r\n    <!-- PORZIONE INFO QRCODE-->\r\n    <div class=\"ion-text-center div-qr\" mode=\"md\" *ngIf=\"myIscrizione.CODICEALFA\">\r\n      <h6>ID: {{myIscrizione.CODICEALFA}}</h6>\r\n      <qrcode [qrdata]=\"myIscrizione.CODICEALFA\" [allowEmptyString]=\"true\"></qrcode>\r\n      <p>\r\n        <ion-icon name=\"information-circle-outline\" color=\"primary\"></ion-icon>\r\n        Presenta il Qr-code o l'ID iscrizione all'ingresso\r\n      </p>\r\n    </div>    \r\n\r\n    <!-- PORZIONE BOTTONI CALENDARIO / ALLEGATI -->\r\n    <div class=\"ion-text-center div-btns\">\r\n      <ion-button \r\n              layout=\"icon-top\" \r\n              fill=\"clear\" \r\n              \r\n              (click)=\"onClickCalendar()\">\r\n        <ion-icon slot=\"start\" name=\"calendar-outline\"></ion-icon>\r\n        <ion-label>Calendario</ion-label>\r\n      </ion-button>\r\n\r\n\r\n      <ion-button  fill=\"clear\"  (click)=\"onClickAllegati()\">\r\n        <ion-icon slot=\"start\"name=\"document-attach-outline\"></ion-icon>\r\n        <ion-label>Allegati</ion-label>\r\n      </ion-button>\r\n\r\n    </div>\r\n\r\n    <!-- TESTI INFORMATIVI -->\r\n    <ion-list lines=\"none\">\r\n\r\n      <!-- NOME CORSO -->\r\n      <ion-item>\r\n        <ion-label class=\"ion-text-wrap\">\r\n          <h2>{{myCorso.DENOMINAZIONE}}</h2>\r\n          <p>{{myCorso['_DENOMINAZIONE_Sport']}}</p>\r\n        </ion-label>\r\n        <ion-chip color=\"primary\">\r\n          <i class=\"icon-sport\"><span [innerHTML]=\"getIcon(myCorso)\"></span></i> \r\n        </ion-chip>\r\n      </ion-item>\r\n\r\n      <!-- PROGRAMMA DEL CORSO -->\r\n      <ion-item \r\n          (click)=\"onClickExpandCorsoProgramma()\"\r\n          *ngIf=\"myCorso?.existProgrammaCorso()\">\r\n\r\n        <ion-label \r\n            [ngClass]=\"getClassLabelProgramma()\">\r\n          <span style=\"font-size:small;\" [innerHTML]=\"myCorso.getFullProgrammaHTML()\"></span>\r\n        </ion-label>\r\n\r\n      </ion-item>\r\n\r\n        <!-- GIORNATA SETTIMANA -->\r\n        <app-settimana-block\r\n          [listDays]=\"myCorso._SETTIMANA\">\r\n        </app-settimana-block>      \r\n\r\n        <!-- DATA INIZIO -->\r\n      <ion-item>\r\n        <ion-label class=\"ion-text-wrap\">\r\n          <h2>{{myCorso.DATAINIZIO| date : 'EEEE dd/LL/yyyy'|titlecase}}</h2>\r\n          <p>alle {{myCorso.ORAINIZIO | date : 'HH:mm'}} per {{myCorso.ORELEZIONE}} {{myCorso.ORELEZIONE > 1 ?'Ore':'Ora'}} </p>\r\n          <p>inizio corso</p>\r\n        </ion-label>\r\n        <ion-chip color=\"primary\">\r\n          <span>{{myCorso.NUMEROLEZIONI}}&nbsp;{{myCorso.NUMEROLEZIONI > 1 ? 'Incontri ':'Incontro '}}</span>\r\n        </ion-chip>\r\n      </ion-item>\r\n\r\n      \r\n      <!-- DATA FINE -->\r\n      <ion-item>\r\n        <ion-label class=\"ion-text-wrap\">\r\n          <h2>{{myCorso.DATAFINE| date : 'EEEE dd/LL/yyyy'|titlecase}}</h2>\r\n          <p>fine corso</p>\r\n        </ion-label>\r\n      </ion-item>      \r\n\r\n      <!-- LOCATION -->\r\n      <ion-item>\r\n        <ion-label class=\"ion-text-wrap\">\r\n          <h2>{{myLocation.DENOMINAZIONE | uppercase}}</h2>\r\n          <p>{{myLocation?.COMUNE|titlecase}}</p>\r\n          <p>{{myLocation?.INDIRIZZO|titlecase}}</p>\r\n        </ion-label>\r\n        <ion-chip color=\"primary\" *ngIf=\"myLocation.TELEFONO\">\r\n          {{myLocation.TELEFONO}}\r\n          <ion-icon name=\"call-outline\"></ion-icon>\r\n        </ion-chip>\r\n      </ion-item>\r\n\r\n      <!-- ADATTO A -->\r\n      <ion-item-group *ngIf=\"myCorso\">\r\n\r\n        <ion-item-divider color=\"light\">\r\n          <ion-label>\r\n            <h2>Rivolto a</h2>\r\n          </ion-label>\r\n        </ion-item-divider>\r\n\r\n        <ion-item>\r\n          <ion-icon \r\n              name=\"stats-chart-outline\"\r\n              slot=\"end\" \r\n              color=\"primary\"></ion-icon>\r\n        <ion-label class=\"ion-text-wrap\">{{myCorso._DESCRLIVELLOENTRATA?myCorso._DESCRLIVELLOENTRATA:'Tutti i Livelli'}}</ion-label>\r\n        </ion-item>\r\n\r\n        <ion-item>\r\n          <ion-icon \r\n              name=\"bookmark-outline\" \r\n              slot=\"end\" \r\n              color=\"primary\"></ion-icon>\r\n          <ion-label class=\"ion-text-wrap\">{{myCorso._DESCRCATEGORIEETA?myCorso._DESCRCATEGORIEETA:'Per tutte le età'}}</ion-label>\r\n        </ion-item>\r\n\r\n        <ion-item lines=\"none\">\r\n          <ion-icon \r\n            name=\"transgender-outline\" \r\n            slot=\"end\" \r\n            color=\"primary\"></ion-icon>\r\n          <ion-label class=\"ion-text-wrap\">{{myCorso.TARGETSESSO | targetSesso}}</ion-label>\r\n        </ion-item>\r\n\r\n        </ion-item-group>\r\n\r\n    </ion-list>\r\n\r\n  </div>\r\n</div>\r\n\r\n</ion-content>\r\n\r\n<!-- FOOTER CON INFO ISCRIZIONE -->\r\n\r\n<ion-footer>\r\n  <!-- <ion-button *ngIf=\"iscrizioneConfermata()\" color=\"primary\" fill=\"outline\" expand=\"block\" slot=\"icon-end\">\r\n    Iscrizione confermata dal {{myIscrizione.DATAISCRIZIONE|date:'dd/MM/yy' }}\r\n    <ion-icon name=\"thumbs-up-outline\"></ion-icon>\r\n  </ion-button>\r\n  <ion-button *ngIf=\"iscrizioneConfermata()\" color=\"primary\" fill=\"outline\" expand=\"block\" slot=\"icon-end\">\r\n    Iscrizione in prova il {{ myIscrizione.DATAISCRIZIONE|date }}\r\n    <ion-icon name=\"help-outline\"></ion-icon>\r\n  </ion-button> -->\r\n\r\n  <!-- PARTE ISCRIZIONE -->\r\n    <ion-item lines=\"full\" *ngIf=\"iscrizioneConfermata()\">\r\n      <ion-icon slot=\"start\" name=\"clipboard-outline\" color=\"primary\"></ion-icon>\r\n      <ion-label>\r\n        Iscrizione il {{myIscrizione.DATAISCRIZIONE|date:'dd/MM/yy' }}\r\n      </ion-label>\r\n      <ion-badge slot=\"end\" color=\"primary\">\r\n        Confermata\r\n        <ion-icon name=\"thumbs-up\"></ion-icon>\r\n      </ion-badge>\r\n    </ion-item>\r\n\r\n    <ion-item lines=\"full\" *ngIf=\"!iscrizioneConfermata()\">\r\n      <ion-icon slot=\"start\" name=\"clipboard-outline\" color=\"primary\"></ion-icon>\r\n      <ion-label>\r\n        Iscrizione il {{myIscrizione.DATAISCRIZIONE|date:'dd/MM/yy' }}\r\n      </ion-label>\r\n      <ion-badge slot=\"end\" color=\"light\">\r\n        In prova\r\n        <ion-icon name=\"help\"></ion-icon>\r\n      </ion-badge>\r\n    </ion-item>\r\n\r\n    <!-- PARTE PAGAMENTO -->\r\n\r\n  <ion-button  [disabled]=\"true\" color=\"primary\"  expand=\"block\">\r\n    {{myIscrizione.getCaptionStatePayment()}}\r\n  </ion-button>\r\n    \r\n</ion-footer>\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { HistorycoursePage } from './historycourse.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: HistorycoursePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class HistorycoursePageRoutingModule {}\r\n"],"sourceRoot":"webpack:///"}