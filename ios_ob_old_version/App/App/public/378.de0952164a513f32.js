"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[378,3951],{3951:(T,m,s)=>{s.d(m,{A:()=>n});const n=(0,s(7423).fo)("Browser",{web:()=>s.e(6874).then(s.bind(s,6874)).then(p=>new p.BrowserWeb)})},378:(T,m,s)=>{s.r(m),s.d(m,{VerifyPageModule:()=>i});var h=s(9808),n=s(4182),p=s(5362),I=s(2028),C=s(1799),c=s(2096);const _=[{path:"",component:C.I}];let A=(()=>{class r{}return r.\u0275fac=function(g){return new(g||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[[I.Bz.forChild(_)],I.Bz]}),r})(),i=(()=>{class r{}return r.\u0275fac=function(g){return new(g||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[[h.ez,n.u5,p.Pc,A,n.UX]]}),r})()},1799:(T,m,s)=>{s.d(m,{I:()=>$});var h=s(655),n=s(4182),p=s(1247),I=s(5351),C=s(3951),c=s(4021),_=s(2271),A=s(7181),i=s(2096),r=s(5362),v=s(7652),g=s(9808);const R=["c1"],N=["c2"],E=["c3"],O=["c4"],Z=["c5"],y=["c6"],x=["c7"],V=["c8"],P=["c9"],U=["c10"];function M(a,l){if(1&a){const e=i.EpF();i.TgZ(0,"ion-buttons",13)(1,"ion-button",4),i.NdJ("click",function(){return i.CHM(e),i.oxw().backStepRegistration()}),i._UZ(2,"ion-icon",14),i.qZA()()}}function S(a,l){1&a&&(i.TgZ(0,"ion-title"),i._uU(1,"Verifica informazioni"),i.qZA())}function k(a,l){1&a&&(i.TgZ(0,"ion-title"),i._uU(1,"Aggiorna i tuoi dati"),i.qZA())}function b(a,l){1&a&&(i.TgZ(0,"ion-item"),i._UZ(1,"ion-icon",19)(2,"ion-input",20),i.qZA())}function q(a,l){1&a&&(i.TgZ(0,"ion-item"),i._UZ(1,"ion-icon",21)(2,"ion-input",22),i.qZA())}function w(a,l){if(1&a){const e=i.EpF();i.TgZ(0,"ion-button",23),i.NdJ("click",function(){return i.CHM(e),i.oxw(2).openPolicyLink()}),i._uU(1," condizioni di trattamento dei dati "),i.qZA()}}function D(a,l){1&a&&(i.TgZ(0,"div",24)(1,"p")(2,"ion-text",0),i._UZ(3,"ion-icon",25),i.qZA(),i._uU(4," Indica una email valida dove sar\xe0 possibile inviarti le ricevute di prenotazioni, attestati dei corsi ed altri documenti fiscali. "),i.qZA(),i.TgZ(5,"h6"),i._uU(6," Per effettuare la verifica ti inviamo una email contenente un pincode da inserire nei passaggi succesivi di registrazione "),i.qZA(),i.TgZ(7,"p")(8,"ion-text",0)(9,"h6")(10,"i"),i._uU(11,"(in seguito potrai abilitare l'email anche per la ricezione di altro materiale informativo)"),i.qZA()()()()())}function L(a,l){1&a&&(i.TgZ(0,"div",24)(1,"p")(2,"ion-text",0),i._UZ(3,"ion-icon",25),i.qZA(),i._uU(4," Indica una email valida dove sar\xe0 possibile inviarti i documenti fiscali ed un numero di cellulare per contattarti in caso di problemi. "),i.qZA(),i.TgZ(5,"p")(6,"ion-text",0)(7,"h6")(8,"i"),i._uU(9,"Per effettuare la verifica ti inviamo 2 pincode (email/SMS) da inserire nei passaggi succesivi di registrazione"),i.qZA()()()()())}function F(a,l){1&a&&(i.TgZ(0,"div",24)(1,"p")(2,"ion-text",0),i._UZ(3,"ion-icon",25),i.qZA(),i._uU(4," Indica un numero di cellulare dove contattarti in caso di problematiche legate alle prenotazioni della struttura. "),i.qZA(),i.TgZ(5,"p"),i._uU(6," Per effettuare la verifica ti inviamo un SMS con un pincode da inserire nei passaggi succesivi di registrazione "),i.qZA(),i.TgZ(7,"p")(8,"ion-text",0)(9,"h6")(10,"i"),i._uU(11,"(non sarai mai contattato per promozioni o marketing)"),i.qZA()()()()())}function J(a,l){if(1&a&&(i.TgZ(0,"div",15)(1,"form",16)(2,"ion-list"),i.YNc(3,b,3,0,"ion-item",2),i.YNc(4,q,3,0,"ion-item",2),i.qZA(),i.YNc(5,w,2,0,"ion-button",17),i.YNc(6,D,12,0,"div",18),i.YNc(7,L,10,0,"div",18),i.YNc(8,F,12,0,"div",18),i.qZA()()),2&a){const e=i.oxw();i.xp6(1),i.Q6J("formGroup",e.formContact),i.xp6(2),i.Q6J("ngIf",e.emailVerifyNeeded),i.xp6(1),i.Q6J("ngIf",e.smsVerifyNeeded),i.xp6(1),i.Q6J("ngIf",e.isPolicyLink()),i.xp6(1),i.Q6J("ngIf",e.emailVerifyNeeded&&!e.smsVerifyNeeded),i.xp6(1),i.Q6J("ngIf",e.emailVerifyNeeded&&e.smsVerifyNeeded),i.xp6(1),i.Q6J("ngIf",e.smsVerifyNeeded&&!e.emailVerifyNeeded)}}function G(a,l){if(1&a){const e=i.EpF();i.TgZ(0,"div",24)(1,"ion-item",26)(2,"ion-button",27),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return o.onClickReinviaCodice(o.tipoVerifica.verificaemail)}),i._UZ(3,"ion-icon",28),i.qZA(),i.TgZ(4,"ion-label",29),i._uU(5,"Inserisci il pincode ricevuto tramite email"),i.qZA()(),i.TgZ(6,"form",16)(7,"div",7)(8,"ion-segment")(9,"ion-input",30,31),i.NdJ("ionInput",function(o){return i.CHM(e),i.oxw(2).changeFocus(o)}),i.qZA(),i.TgZ(11,"ion-input",32,33),i.NdJ("ionInput",function(o){return i.CHM(e),i.oxw(2).changeFocus(o)}),i.qZA(),i.TgZ(13,"ion-input",34,35),i.NdJ("ionInput",function(o){return i.CHM(e),i.oxw(2).changeFocus(o)}),i.qZA(),i.TgZ(15,"ion-input",36,37),i.NdJ("ionInput",function(o){return i.CHM(e),i.oxw(2).changeFocus(o)}),i.qZA(),i.TgZ(17,"ion-input",38,39),i.NdJ("ionInput",function(o){return i.CHM(e),i.oxw(2).changeFocus(o)}),i.qZA()()()()()}if(2&a){const e=i.oxw(2);i.xp6(6),i.Q6J("formGroup",e.formVerifyMail),i.xp6(1),i.Q6J("ngClass",e.isDesktop?"form-verifica desktop":"form-verifica")}}function Q(a,l){if(1&a){const e=i.EpF();i.TgZ(0,"div",24)(1,"ion-item",26)(2,"ion-button",27),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return o.onClickReinviaCodice(o.tipoVerifica.verificasms)}),i._UZ(3,"ion-icon",28),i.qZA(),i.TgZ(4,"ion-label",29),i._uU(5," Inserisci il pincode ricevuto tramite SMS"),i.qZA()(),i.TgZ(6,"form",16)(7,"div",7)(8,"ion-segment")(9,"ion-input",40,41),i.NdJ("ionInput",function(o){return i.CHM(e),i.oxw(2).changeFocus(o)}),i.qZA(),i.TgZ(11,"ion-input",42,43),i.NdJ("ionInput",function(o){return i.CHM(e),i.oxw(2).changeFocus(o)}),i.qZA(),i.TgZ(13,"ion-input",44,45),i.NdJ("ionInput",function(o){return i.CHM(e),i.oxw(2).changeFocus(o)}),i.qZA(),i.TgZ(15,"ion-input",46,47),i.NdJ("ionInput",function(o){return i.CHM(e),i.oxw(2).changeFocus(o)}),i.qZA(),i.TgZ(17,"ion-input",48,49),i.NdJ("ionInput",function(o){return i.CHM(e),i.oxw(2).changeFocus(o)}),i.qZA()()()()()}if(2&a){const e=i.oxw(2);i.xp6(6),i.Q6J("formGroup",e.formVerifyTel),i.xp6(1),i.Q6J("ngClass",e.isDesktop?"form-verifica desktop":"form-verifica")}}function z(a,l){if(1&a&&(i.TgZ(0,"div"),i.YNc(1,G,19,2,"div",18),i.YNc(2,Q,19,2,"div",18),i.qZA()),2&a){const e=i.oxw();i.xp6(1),i.Q6J("ngIf",e.emailVerifyNeeded),i.xp6(1),i.Q6J("ngIf",e.smsVerifyNeeded)}}function Y(a,l){if(1&a&&(i.TgZ(0,"ion-select-option",69),i._uU(1),i.qZA()),2&a){const e=l.$implicit;i.Q6J("value",e.value),i.xp6(1),i.hij(" ",e.description," ")}}function H(a,l){1&a&&(i.TgZ(0,"ion-item")(1,"ion-label",52),i._uU(2,"Cap"),i.qZA(),i._UZ(3,"ion-input",70),i.qZA())}function B(a,l){if(1&a){const e=i.EpF();i.TgZ(0,"div")(1,"form",16)(2,"ion-list")(3,"ion-item-group")(4,"ion-item-divider",50),i._UZ(5,"ion-icon",51),i.TgZ(6,"ion-label"),i._uU(7,"Come ti chiami ?"),i.qZA()(),i.TgZ(8,"ion-item")(9,"ion-label",52),i._uU(10,"Nome"),i.qZA(),i._UZ(11,"ion-input",53),i.qZA(),i.TgZ(12,"ion-item")(13,"ion-label",52),i._uU(14,"Cognome"),i.qZA(),i._UZ(15,"ion-input",54),i.qZA(),i.TgZ(16,"ion-item")(17,"ion-label",52),i._uU(18,"Sesso"),i.qZA(),i.TgZ(19,"ion-select",55),i.YNc(20,Y,2,2,"ion-select-option",56),i.qZA()(),i.TgZ(21,"ion-item")(22,"ion-label",52),i._uU(23,"Codice fiscale"),i.qZA(),i.TgZ(24,"ion-input",57),i.NdJ("ionBlur",function(){return i.CHM(e),i.oxw().onCfChange()}),i.qZA()()(),i.TgZ(25,"ion-item-group")(26,"ion-item-divider",50),i._UZ(27,"ion-icon",58),i.TgZ(28,"ion-label"),i._uU(29,"Dove vivi ?"),i.qZA()(),i.TgZ(30,"ion-item")(31,"ion-label",52),i._uU(32,"Indirizzo"),i.qZA(),i._UZ(33,"ion-input",59),i.qZA(),i.TgZ(34,"ion-item")(35,"ion-label",52),i._uU(36,"Comune"),i.qZA(),i._UZ(37,"ion-input",60),i.qZA(),i.TgZ(38,"ion-item")(39,"ion-label",52),i._uU(40,"Cap"),i.qZA(),i._UZ(41,"ion-input",61),i.qZA(),i.TgZ(42,"ion-item")(43,"ion-label",52),i._uU(44,"Provincia"),i.qZA(),i._UZ(45,"ion-input",62),i.qZA(),i.TgZ(46,"ion-item")(47,"ion-label",52),i._uU(48,"Stato"),i.qZA(),i._UZ(49,"ion-input",63),i.qZA()(),i.TgZ(50,"ion-item-group")(51,"ion-item-divider",50),i._UZ(52,"ion-icon",64),i.TgZ(53,"ion-label"),i._uU(54,"Quando sei nato ?"),i.qZA()(),i.TgZ(55,"ion-item")(56,"ion-label",52),i._uU(57,"Data"),i.qZA(),i._UZ(58,"ion-datetime",65),i.qZA(),i.TgZ(59,"ion-item")(60,"ion-label",52),i._uU(61,"Comune"),i.qZA(),i._UZ(62,"ion-input",66),i.qZA(),i.YNc(63,H,4,0,"ion-item",2),i.TgZ(64,"ion-item")(65,"ion-label",52),i._uU(66,"Provincia"),i.qZA(),i._UZ(67,"ion-input",67),i.qZA(),i.TgZ(68,"ion-item")(69,"ion-label",52),i._uU(70,"Stato"),i.qZA(),i._UZ(71,"ion-input",68),i.qZA()()()(),i.TgZ(72,"div",24)(73,"p")(74,"ion-text",0),i._UZ(75,"ion-icon",25),i.qZA(),i._uU(76," Dobbiamo richiederti alcune informazioni personali per l'eventuale "),i.qZA(),i.TgZ(77,"p"),i._uU(78," emissione di documenti fiscali "),i.qZA(),i.TgZ(79,"p")(80,"ion-text",0)(81,"h6")(82,"i"),i._uU(83,"(ad esempio in caso di iscrizioni a corsi o prenotazioni della struttura)"),i.qZA()()()()()()}if(2&a){const e=i.oxw();i.xp6(1),i.Q6J("formGroup",e.formRegister),i.xp6(19),i.Q6J("ngForOf",e.listSesso),i.xp6(38),i.Q6J("max",e.today),i.xp6(5),i.Q6J("ngIf",e.showInputCapNascita)}}function X(a,l){if(1&a){const e=i.EpF();i.TgZ(0,"div",71)(1,"ion-button",72),i.NdJ("click",function(){return i.CHM(e),i.oxw().onClickFooterAvanti()}),i._uU(2,"Avanti"),i.qZA()()}if(2&a){const e=i.oxw();i.xp6(1),i.Q6J("disabled",!e.formContact.valid)}}function W(a,l){if(1&a){const e=i.EpF();i.TgZ(0,"div",73)(1,"ion-button",72),i.NdJ("click",function(){return i.CHM(e),i.oxw().onClickFooterAvanti()}),i._uU(2," Verifica "),i.qZA()()}if(2&a){const e=i.oxw();i.xp6(1),i.Q6J("disabled",!e.isEnableAvantiOnVerify())}}function K(a,l){if(1&a){const e=i.EpF();i.TgZ(0,"div",74)(1,"ion-button",72),i.NdJ("click",function(){return i.CHM(e),i.oxw().onClickFooterAvanti()}),i._uU(2," Aggiorna "),i.qZA()()}if(2&a){const e=i.oxw();i.xp6(1),i.Q6J("disabled",!e.formRegister.valid)}}let $=(()=>{class a{constructor(e,t,o,d,f,j,ii){this.modalCtrl=e,this.startService=t,this.loadingController=o,this.toastCtrl=d,this.alertCtrl=f,this.cryptoService=j,this.navParams=ii,this.showInputCapNascita=!1,this.params=new I.BL,this.pageState=u,this.tipoVerifica=c.Xo,this.stepRegistration=[],this.indexStepRegistration=0,this.docRichiestaCodici=new _.lA,this.listSesso=[],this.emailVerifyNeeded=!1,this.smsVerifyNeeded=!1,this.indexStepRegistration=0,this.actualStatePage=u.REGISTRATION,this.startConfig=t.actualStartConfig,this.startConfig&&this.startConfig.gruppo&&(this.docGruppo=this.startConfig.gruppo),this.docArea=this.startService.areaSelectedValue,this.docUtente=this.startService.actualUtente,this.params=this.navParams.get("params"),(null==this.params||null==this.params)&&(this.showMessage("Errore"),this.closeModal()),this.listSesso=c.Gs.getArray(c._z),this.today=this.today=A.G.formatDateISO(new Date)}ngOnInit(){this.createArrayStepRegistration(this.docGruppo),this.createRegisterForm(),this.createVerifyForm(),this.createContactForm(),this.isDesktop=this.startService.isDesktop}createArrayStepRegistration(e){switch(this.stepRegistration=[],this.params.tipoVerifica){case c.Xo.verificaemail:this.emailVerifyNeeded=!0,this.smsVerifyNeeded=!1;break;case c.Xo.verificasms:this.emailVerifyNeeded=!1,this.smsVerifyNeeded=!0;break;case c.Xo.verificaemailsms:this.emailVerifyNeeded=!0,this.smsVerifyNeeded=!0;break;default:this.smsVerifyNeeded=!1,this.emailVerifyNeeded=!1}(this.emailVerifyNeeded||this.smsVerifyNeeded)&&(this.stepRegistration.push(u.CONTACT),this.stepRegistration.push(u.VERIFY)),this.params.updateDocUtente&&this.stepRegistration.push(this.pageState.REGISTRATION),this.stepRegistration[0]&&(this.actualStatePage=this.stepRegistration[0])}nextStepRegistration(){this.indexStepRegistration+1<this.stepRegistration.length?(this.indexStepRegistration++,this.actualStatePage=this.stepRegistration[this.indexStepRegistration]):this.closeModal()}backStepRegistration(){this.indexStepRegistration-1>=0&&(this.indexStepRegistration--,this.actualStatePage=this.stepRegistration[this.indexStepRegistration])}closeModal(){this.modalCtrl.dismiss()}onClickFooterAvanti(){switch(this.actualStatePage){case u.CONTACT:this.onClickAvantiContact();break;case u.VERIFY:this.onClickAvantiVerifica();break;case u.REGISTRATION:this.onClickAggiornaDati()}}onClickAvantiContact(){this.formContact.valid&&(this.docRichiestaCodici=new _.lA,this.docRichiestaCodici.REQUESTEMAILCODE=!1,this.docRichiestaCodici.REQUESTSMSCODE=!1,this.docRichiestaCodici.IDAREA=this.docArea.ID,this.docRichiestaCodici.USE=c.I4.forValidation,this.emailVerifyNeeded&&(this.docRichiestaCodici.REQUESTEMAILCODE=!0,this.docRichiestaCodici.EMAIL=this.formContact.value.email),this.smsVerifyNeeded&&(this.docRichiestaCodici.REQUESTSMSCODE=!0,this.docRichiestaCodici.TELEPHONE=this.formContact.value.telephone),this.sendServerRichiestaCodici(!0))}sendServerRichiestaCodici(e=!0,t="Codice inviato con successo!",o="Errore nell'invio del codice, riprova"){this.loadingController.create({message:"Invio Codici in corso..."}).then(d=>{d.present(),this.startService.validationSendCodici(this.docRichiestaCodici,this.docUtente).then(f=>{d.dismiss(),f.result?(this.docRichiestaCodici.IDREFER=f.idRefer,this.docRichiestaCodici.REQUESTSMSCODE=!1,this.docRichiestaCodici.REQUESTEMAILCODE=!1,this.showMessage(t),e&&(this.clearInputPinCode(),this.nextStepRegistration())):this.showMessage(o)}).catch(f=>{d.dismiss(),console.log(f),this.showMessage("Errore di connessione")})})}onClickReinviaCodice(e){let t="",o=!1,d=!1;if(this.docRichiestaCodici){switch(t="Verr\xe0 inviato un nuovo codice a ",e){case c.Xo.verificaemail:t+=this.docRichiestaCodici.EMAIL,o=!0;break;case c.Xo.verificasms:t+=this.docRichiestaCodici.TELEPHONE,d=!0}this.alertCtrl.create({header:"Reinvio pincode",message:t,buttons:[{text:"Annulla",role:"cancel"},{text:"Reinvia",handler:()=>{this.docRichiestaCodici.REQUESTEMAILCODE=o,this.docRichiestaCodici.REQUESTSMSCODE=d,this.sendServerRichiestaCodici(!1,"Codice reinviato con successo")}}]}).then(f=>{f.present()})}}onClickAvantiVerifica(){let t,e="";this.isEnableAvantiOnVerify()?this.docRichiestaCodici&&this.docRichiestaCodici.IDREFER&&0!==this.docRichiestaCodici.IDREFER.length?(t=new _.Rx,t.IDAREA=this.docRichiestaCodici.IDAREA,t.IDREFER=this.docRichiestaCodici.IDREFER,(this.docGruppo.APPTIPOVERIFICA==c.Xo.verificaemail||this.docGruppo.APPTIPOVERIFICA==c.Xo.verificaemailsms)&&(t.EMAILPINCODE=this.getInputVerifyCode(c.Xo.verificaemail)),(this.docGruppo.APPTIPOVERIFICA==c.Xo.verificasms||this.docGruppo.APPTIPOVERIFICA==c.Xo.verificaemailsms)&&(t.SMSPINCODE=this.getInputVerifyCode(c.Xo.verificasms)),this.sendServerVerificaCodici(t)):e="Errore: Richiedere il reinvio":e="Controllare i dati inseriti",0!=e.length&&this.showMessage(e)}sendServerVerificaCodici(e){e?this.loadingController.create({message:"Verifica Codici..."}).then(t=>{t.present(),this.startService.validationVerifyCodici(e).then(o=>{t.dismiss(),o.result?(this.docRichiestaCodici.REQUESTEMAILCODE&&(this.docUtente.VERIFICATAMAIL=!0,this.docUtente.EMAIL=this.docRichiestaCodici.EMAIL),this.docRichiestaCodici.REQUESTSMSCODE&&(this.docUtente.VERIFICATAMOBILE=!0,this.docUtente.MOBILENUMBER=this.docRichiestaCodici.TELEPHONE),this.showMessage("Verifica completata con successo"),this.nextStepRegistration()):this.showMessage(o.message)}).catch(o=>{t.dismiss(),this.showMessage("Errore di connessione")})}):this.showMessage("Errore, richiedere un nuovo codice")}onClickAggiornaDati(){this.execAggiornaDati()}execAggiornaDati(){this.formRegister.valid&&(this.docUtente.NOMINATIVO="",this.docUtente.NOME=this.formRegister.value.nome,this.docUtente.COGNOME=this.formRegister.value.cognome,this.docUtente.SESSO=this.formRegister.value.sesso,this.docUtente.CODICEFISCALE=this.formRegister.value.cf,this.docUtente.INDIRIZZO=this.formRegister.value.indResidenza,this.docUtente.COMUNE=this.formRegister.value.comResidenza,this.docUtente.CAP=this.formRegister.value.capResidenza,this.docUtente.PROVINCIA=this.formRegister.value.provResidenza,this.docUtente.ISOSTATO=this.formRegister.value.statoResidenza,this.formRegister.value.nascita&&(this.docUtente.NATOIL=new Date(this.formRegister.value.nascita)),this.docUtente.NATOA=this.formRegister.value.comNascita,this.docUtente.NATOCAP=this.formRegister.value.capNascita,this.docUtente.NATOPROV=this.formRegister.value.provNascita,this.docUtente.NATOISOSTATO=this.formRegister.value.statoNascita,this.loadingController.create({message:"Aggiornamento dati...",spinner:"circular"}).then(e=>{e.present(),this.startService.updateUtente(this.docUtente).then(t=>{e.dismiss(),this.showMessage("Info Aggiornate"),this.closeModal()}).catch(t=>{e.dismiss(),this.showMessage(t),console.log(t)})}))}loginAfterRegister(e,t){e&&t&&this.startService.userLogin(e,t).then(o=>{o.result?this.startService.saveStorageUtente(e,t):this.showMessage(o.message)})}changeFocus(e){switch(e.target.id){case"1":this.c2.setFocus();break;case"2":this.c3.setFocus();break;case"3":this.c4.setFocus();break;case"4":this.c5.setFocus();break;case"6":this.c7.setFocus();break;case"7":this.c8.setFocus();break;case"8":this.c9.setFocus();break;case"9":this.c10.setFocus()}}createContactForm(){this.formContact=new n.cw({email:new n.NI(null,{updateOn:"change",validators:[this.emailVerifyNeeded?n.kI.required:n.kI.nullValidator,n.kI.email]}),telephone:new n.NI(null,{updateOn:"change",validators:[this.smsVerifyNeeded?n.kI.required:n.kI.nullValidator,n.kI.pattern("^[+]*[0-9]*")]})})}createRegisterForm(){this.formRegister=new n.cw({nome:new n.NI(this.docUtente.NOME,{updateOn:"change",validators:[n.kI.required]}),cognome:new n.NI(this.docUtente.COGNOME,{updateOn:"change",validators:[n.kI.required]}),sesso:new n.NI(this.docUtente.SESSO,{updateOn:"change",validators:[n.kI.required]}),nascita:new n.NI(this.docUtente.NATOIL?this.docUtente.NATOIL.toISOString():this.docUtente.NATOIL,{updateOn:"change",validators:[n.kI.required]}),provNascita:new n.NI(this.docUtente.NATOPROV,{updateOn:"change",validators:[n.kI.required]}),comNascita:new n.NI(this.docUtente.NATOA,{updateOn:"change",validators:[n.kI.required]}),statoNascita:new n.NI(this.docUtente.NATOISOSTATO,{updateOn:"change",validators:[n.kI.required]}),capNascita:new n.NI(this.docUtente.NATOCAP,{updateOn:"change",validators:[]}),provResidenza:new n.NI(this.docUtente.PROVINCIA,{updateOn:"change",validators:[n.kI.required]}),comResidenza:new n.NI(this.docUtente.COMUNE,{updateOn:"change",validators:[n.kI.required]}),indResidenza:new n.NI(this.docUtente.INDIRIZZO,{updateOn:"change",validators:[n.kI.required]}),capResidenza:new n.NI(this.docUtente.CAP,{updateOn:"change",validators:[n.kI.required]}),statoResidenza:new n.NI(this.docUtente.ISOSTATO,{updateOn:"change",validators:[n.kI.required]}),cf:new n.NI(this.docUtente.CODICEFISCALE,{updateOn:"change",validators:[n.kI.required,n.kI.pattern("^[A-Za-z]{6}[0-9]{2}[A-Za-z]{1}[0-9]{2}[A-Za-z]{1}[0-9]{3}[A-Za-z]{1}")]})})}onCfChange(){let e=this.formRegister.value.cf;null!=e&&null!=e&&0!=e.length&&this.startService.checkCodiceFiscale(e,!0).then(t=>{this.docUtente.NATOISOSTATO="Italia",this.docUtente.NATOA=t.comune,this.docUtente.NATOPROV=t.provincia,this.docUtente.NATOIL=t.dataNascita,this.docUtente.SESSO=t.sesso,this.docUtente.NATOCAP=t.cap,this.formRegister.get("comNascita").setValue(this.docUtente.NATOA),this.formRegister.get("provNascita").setValue(this.docUtente.NATOPROV),this.formRegister.get("nascita").setValue(this.docUtente.NATOIL.toISOString()),this.formRegister.get("sesso").setValue(this.docUtente.SESSO),this.formRegister.get("statoNascita").setValue(this.docUtente.NATOISOSTATO),this.formRegister.get("capNascita").setValue(this.docUtente.NATOCAP),this.formRegister.controls.cf.setErrors(null)}).catch(t=>{this.formRegister.controls.cf.setErrors({incorrect:!0}),console.log(t)})}createVerifyForm(){this.formVerifyMail=new n.cw({c1:new n.NI(null,{updateOn:"change",validators:[n.kI.required,n.kI.maxLength(1),n.kI.minLength(1)]}),c2:new n.NI(null,{updateOn:"change",validators:[n.kI.required,n.kI.maxLength(1),n.kI.minLength(1)]}),c3:new n.NI(null,{updateOn:"change",validators:[n.kI.required,n.kI.maxLength(1),n.kI.minLength(1)]}),c4:new n.NI(null,{updateOn:"change",validators:[n.kI.required,n.kI.maxLength(1),n.kI.minLength(1)]}),c5:new n.NI(null,{updateOn:"change",validators:[n.kI.required,n.kI.maxLength(1),n.kI.minLength(1)]})}),this.formVerifyTel=new n.cw({c6:new n.NI(null,{updateOn:"change",validators:[n.kI.required,n.kI.maxLength(1),n.kI.minLength(1)]}),c7:new n.NI(null,{updateOn:"change",validators:[n.kI.required,n.kI.maxLength(1),n.kI.minLength(1)]}),c8:new n.NI(null,{updateOn:"change",validators:[n.kI.required,n.kI.maxLength(1),n.kI.minLength(1)]}),c9:new n.NI(null,{updateOn:"change",validators:[n.kI.required,n.kI.maxLength(1),n.kI.minLength(1)]}),c10:new n.NI(null,{updateOn:"change",validators:[n.kI.required,n.kI.maxLength(1),n.kI.minLength(1)]})})}clearInputPinCode(){for(let e=1;e<=5;e++)this.formVerifyMail.get("c"+e).setValue("");for(let e=6;e<=10;e++)this.formVerifyTel.get("c"+e).setValue("")}getInputVerifyCode(e){let t="";return e==c.Xo.verificaemail?t=this.formVerifyMail.value.c1+this.formVerifyMail.value.c2+this.formVerifyMail.value.c3+this.formVerifyMail.value.c4+this.formVerifyMail.value.c5:e==c.Xo.verificasms&&(t=this.formVerifyTel.value.c6+this.formVerifyTel.value.c7+this.formVerifyTel.value.c8+this.formVerifyTel.value.c9+this.formVerifyTel.value.c10),t}isEnableAvantiOnVerify(){let e=!0;if(this.docGruppo){if(this.docGruppo.APPTIPOVERIFICA!==c.Xo.noverifica)switch(this.params.tipoVerifica){case c.Xo.verificaemail:e=this.formVerifyMail.valid;break;case c.Xo.verificasms:e=this.formVerifyTel.valid;break;case c.Xo.verificaemailsms:e=this.formVerifyTel.valid&&this.formVerifyMail.valid}}else e=!1;return e}isPolicyLink(){let e,t=!1;return this.docArea&&(e=this.docArea.findAreaLinkByPageType(c.GV.policyPrivacy),e&&e.REFERURL&&(t=!0)),t}openPolicyLink(){let e;this.docArea&&(e=this.docArea.findAreaLinkByPageType(c.GV.policyPrivacy),e&&e.REFERURL&&this.openLink(e.REFERURL))}openLink(e){C.A.open({url:e})}showMessage(e){return(0,h.mG)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:e,duration:3e3})).present()})}}return a.\u0275fac=function(e){return new(e||a)(i.Y36(r.IN),i.Y36(p.D),i.Y36(r.HT),i.Y36(r.yF),i.Y36(r.Br),i.Y36(v.$),i.Y36(r.X1))},a.\u0275cmp=i.Xpm({type:a,selectors:[["app-verify"]],viewQuery:function(e,t){if(1&e&&(i.Gf(R,5),i.Gf(N,5),i.Gf(E,5),i.Gf(O,5),i.Gf(Z,5),i.Gf(y,5),i.Gf(x,5),i.Gf(V,5),i.Gf(P,5),i.Gf(U,5)),2&e){let o;i.iGM(o=i.CRH())&&(t.c1=o.first),i.iGM(o=i.CRH())&&(t.c2=o.first),i.iGM(o=i.CRH())&&(t.c3=o.first),i.iGM(o=i.CRH())&&(t.c4=o.first),i.iGM(o=i.CRH())&&(t.c5=o.first),i.iGM(o=i.CRH())&&(t.c6=o.first),i.iGM(o=i.CRH())&&(t.c7=o.first),i.iGM(o=i.CRH())&&(t.c8=o.first),i.iGM(o=i.CRH())&&(t.c9=o.first),i.iGM(o=i.CRH())&&(t.c10=o.first)}},decls:18,vars:11,consts:[["color","primary"],["slot","start",4,"ngIf"],[4,"ngIf"],["slot","end"],["fill","clear",3,"click"],["name","close"],[1,"ion-padding"],[3,"ngClass"],[3,"src"],["class","ion-padding-horizontal",4,"ngIf"],["id","footer-contact",4,"ngIf"],["id","footer-verify",4,"ngIf"],["id","footer-registration",4,"ngIf"],["slot","start"],["name","arrow-back"],[1,"ion-padding-horizontal"],[3,"formGroup"],["fill","outline","size","small","expand","block",3,"click",4,"ngIf"],["class","ion-no-padding div-message",4,"ngIf"],["name","at-outline","slot","start","color","primary"],["type","email","placeholder","E-Mail","formControlName","email"],["name","call-outline","slot","start","color","primary"],["type","tel","inputmode","tel","placeholder","+39 Cellulare","formControlName","telephone"],["fill","outline","size","small","expand","block",3,"click"],[1,"ion-no-padding","div-message"],["name","information-circle-outline"],["lines","none"],["slot","start","fill","clear","color","danger",3,"click"],["name","refresh-outline"],["color","default"],["clearOnEdit","","type","tel","inputmode","numeric","minlength","1","maxlength","1","formControlName","c1","id","1",1,"ion-no-padding","ion-align-self-center",3,"ionInput"],["c1",""],["clearOnEdit","","type","tel","inputmode","numeric","minlength","1","maxlength","1","formControlName","c2","id","2",1,"ion-no-padding","ion-align-self-center",3,"ionInput"],["c2",""],["clearOnEdit","","type","tel","inputmode","numeric","minlength","1","maxlength","1","formControlName","c3","id","3",1,"ion-no-padding","ion-align-self-center",3,"ionInput"],["c3",""],["clearOnEdit","","type","tel","inputmode","numeric","minlength","1","maxlength","1","formControlName","c4","id","4",1,"ion-no-padding","ion-align-self-center",3,"ionInput"],["c4",""],["clearOnEdit","","type","tel","inputmode","numeric","minlength","1","maxlength","1","formControlName","c5","id","5",1,"ion-no-padding","ion-align-self-center",3,"ionInput"],["c5",""],["clearOnEdit","","type","tel","inputmode","numeric","minlength","1","maxlength","1","formControlName","c6","id","6",1,"ion-no-padding","ion-align-self-center",3,"ionInput"],["c6",""],["clearOnEdit","","type","tel","inputmode","numeric","minlength","1","maxlength","1","formControlName","c7","id","7",1,"ion-no-padding","ion-align-self-center",3,"ionInput"],["c7",""],["clearOnEdit","","type","tel","inputmode","numeric","minlength","1","maxlength","1","formControlName","c8","id","8",1,"ion-no-padding","ion-align-self-center",3,"ionInput"],["c8",""],["clearOnEdit","","type","tel","inputmode","numeric","minlength","1","maxlength","1","formControlName","c9","id","9",1,"ion-no-padding","ion-align-self-center",3,"ionInput"],["c9",""],["clearOnEdit","","type","tel","inputmode","numeric","minlength","1","maxlength","1","formControlName","c10","id","10",1,"ion-no-padding","ion-align-self-center",3,"ionInput"],["c10",""],["color","light"],["name","person-outline","slot","start","color","primary"],["position","floating"],["formControlName","nome"],["formControlName","cognome"],["formControlName","sesso","interface","popover"],[3,"value",4,"ngFor","ngForOf"],["formControlName","cf",3,"ionBlur"],["name","home-outline","slot","start","color","primary"],["formControlName","indResidenza"],["formControlName","comResidenza"],["type","tel","inputmode","tel","maxlength","5","formControlName","capResidenza"],["formControlName","provResidenza"],["formControlName","statoResidenza"],["name","logo-reddit","slot","start","color","primary"],["formControlName","nascita","displayFormat","DD-MM-YYYY","cancelText","Annulla","doneText","Conferma",3,"max"],["formControlName","comNascita"],["formControlName","provNascita"],["formControlName","statoNascita"],[3,"value"],["formControlName","capNascita"],["id","footer-contact"],["color","primary","expand","block",1,"btn-confirm",3,"disabled","click"],["id","footer-verify"],["id","footer-registration"]],template:function(e,t){1&e&&(i.TgZ(0,"ion-header")(1,"ion-toolbar",0),i.YNc(2,M,3,0,"ion-buttons",1),i.YNc(3,S,2,0,"ion-title",2),i.YNc(4,k,2,0,"ion-title",2),i.TgZ(5,"ion-buttons",3)(6,"ion-button",4),i.NdJ("click",function(){return t.closeModal()}),i._UZ(7,"ion-icon",5),i.qZA()()()(),i.TgZ(8,"ion-content",6)(9,"div",7),i._UZ(10,"img",8),i.qZA(),i.YNc(11,J,9,7,"div",9),i.YNc(12,z,3,2,"div",2),i.YNc(13,B,84,4,"div",2),i.qZA(),i.TgZ(14,"ion-footer"),i.YNc(15,X,3,1,"div",10),i.YNc(16,W,3,1,"div",11),i.YNc(17,K,3,1,"div",12),i.qZA()),2&e&&(i.xp6(2),i.Q6J("ngIf",t.actualStatePage==t.pageState.VERIFY),i.xp6(1),i.Q6J("ngIf",t.actualStatePage!=t.pageState.REGISTRATION),i.xp6(1),i.Q6J("ngIf",t.actualStatePage==t.pageState.REGISTRATION),i.xp6(5),i.Q6J("ngClass",t.isDesktop?"ion-text-center div-logo desktop":"ion-text-center div-logo"),i.xp6(1),i.Q6J("src",t.startConfig.getUrlLogo(),i.LSH),i.xp6(1),i.Q6J("ngIf",t.actualStatePage==t.pageState.CONTACT),i.xp6(1),i.Q6J("ngIf",t.actualStatePage==t.pageState.VERIFY),i.xp6(1),i.Q6J("ngIf",t.actualStatePage==t.pageState.REGISTRATION),i.xp6(2),i.Q6J("ngIf",t.actualStatePage==t.pageState.CONTACT),i.xp6(1),i.Q6J("ngIf",t.actualStatePage==t.pageState.VERIFY),i.xp6(1),i.Q6J("ngIf",t.actualStatePage==t.pageState.REGISTRATION))},directives:[r.Gu,r.sr,g.O5,r.Sm,r.YG,r.gu,r.wd,r.W2,g.mk,n._Y,n.JL,n.sg,r.q_,r.Ie,r.pK,r.j9,n.JJ,n.u,r.yW,r.Q$,r.cJ,r.QI,n.wO,n.nD,r.Ub,r.rH,r.t9,g.sg,r.n0,r.x4,r.fr],styles:["div.div-logo[_ngcontent-%COMP%]{background-color:#fff;padding-top:3vh;padding-bottom:3vh;margin-bottom:3vh}div.div-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:15vh}div.content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{background-color:var(--ion-color-medium)}div.div-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}div.div-logo.desktop[_ngcontent-%COMP%]{padding-top:1vh;padding-bottom:0vh;margin-bottom:0vh}div.form-verifica[_ngcontent-%COMP%]{width:320px;margin:auto;margin-bottom:8vh;text-align:center}div.form-verifica[_ngcontent-%COMP%]   ion-segment[_ngcontent-%COMP%]{background:white}div.form-verifica[_ngcontent-%COMP%]   ion-segment[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{display:inline;border-radius:15px;margin:2px;border:3px solid var(--ion-color-primary);text-align:center;font-family:Arial,Helvetica,sans-serif;color:var(--ion-color-primary);font-size:40px}div.form-verifica.desktop[_ngcontent-%COMP%]{margin-bottom:2vh}h6[_ngcontent-%COMP%]{font-size:small}a[_ngcontent-%COMP%], span.link[_ngcontent-%COMP%]{color:var(--ion-color-primary);text-decoration:underline;cursor:pointer}"]}),a})();var u=(()=>{return(a=u||(u={}))[a.CONTACT=210]="CONTACT",a[a.REGISTRATION=220]="REGISTRATION",a[a.VERIFY=230]="VERIFY",a[a.WELCOME=300]="WELCOME",u;var a})()}}]);