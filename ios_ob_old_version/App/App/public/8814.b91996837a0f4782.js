"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8814],{1700:(E,y,r)=>{r.d(y,{E:()=>o});var C=r(9808),A=r(4182),P=r(5362),g=r(2028),n=r(8775),c=r(2096);const h=[{path:"",component:n.Z}];let Z=(()=>{class i{}return i.\u0275fac=function(l){return new(l||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[[g.Bz.forChild(h)],g.Bz]}),i})();var f=r(4586),T=r(933);let o=(()=>{class i{}return i.\u0275fac=function(l){return new(l||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[[C.ez,A.u5,P.Pc,Z,f.D,T.q]]}),i})()},8775:(E,y,r)=>{r.d(y,{Z:()=>w});var C=r(8223),A=r(2015),P=r(6667),g=r(7708),n=r(4021),c=r(8622),h=r(1247),Z=r(3951),f=r(1558),T=r(3858),o=r(2096),i=r(5362),d=r(9808),l=r(4182),m=r(7952),O=r(1626);function I(a,u){if(1&a&&(o.TgZ(0,"ion-text"),o._uU(1),o.qZA()),2&a){const e=o.oxw();o.xp6(1),o.HOy(" \xa0per un totale di\xa0",e.myCorso.NUMEROLEZIONI,"\xa0",e.myCorso.NUMEROLEZIONI>1?"Incontri ":"Incontro "," della durata di\xa0",e.myCorso.ORELEZIONE," ",e.myCorso.ORELEZIONE>1?"Ore":"Ora"," ")}}function M(a,u){if(1&a&&(o.TgZ(0,"ion-item",13)(1,"ion-label",8)(2,"ion-text"),o._uU(3,"Il corso \xe8 pianificato 1 volta a settimana al \xa0"),o.qZA(),o.TgZ(4,"ion-text",19),o._uU(5),o.ALo(6,"titlecase"),o.qZA()()()),2&a){const e=o.oxw();o.xp6(5),o.Oqu(o.lcZ(6,1,e.onlyDaysCorso[0].label))}}function D(a,u){if(1&a&&(o.TgZ(0,"p")(1,"ion-text",19),o._uU(2),o.ALo(3,"titlecase"),o.qZA()()),2&a){const e=u.$implicit;o.xp6(2),o.Oqu(o.lcZ(3,1,e.label))}}function x(a,u){if(1&a&&(o.TgZ(0,"ion-item",13)(1,"ion-label",8)(2,"ion-text"),o._uU(3),o.qZA(),o.YNc(4,D,4,3,"p",20),o.qZA()()),2&a){const e=o.oxw();o.xp6(3),o.hij("Il corso \xe8 pianificato ",null==e.onlyDaysCorso?null:e.onlyDaysCorso.length," volte a settimana"),o.xp6(1),o.Q6J("ngForOf",e.onlyDaysCorso)}}function L(a,u){if(1&a&&(o.TgZ(0,"ion-item",13),o._UZ(1,"ion-icon",21),o.TgZ(2,"ion-label"),o._uU(3),o.ALo(4,"targetSesso"),o.qZA()()),2&a){const e=o.oxw();o.xp6(1),o.Q6J("color",e.iconColor),o.xp6(2),o.Oqu(o.lcZ(4,2,e.myCorso.TARGETSESSO))}}function U(a,u){if(1&a&&(o.TgZ(0,"ion-item"),o._UZ(1,"ion-icon",22),o.TgZ(2,"ion-label"),o._uU(3),o.qZA()()),2&a){const e=o.oxw(2);o.xp6(1),o.Q6J("color",e.iconColor),o.xp6(2),o.Oqu(null==e.myLocation?null:e.myLocation.COMUNE)}}function R(a,u){if(1&a&&(o.TgZ(0,"ion-item"),o._UZ(1,"ion-icon",23),o.TgZ(2,"ion-label"),o._uU(3),o.qZA()()),2&a){const e=o.oxw(2);o.xp6(1),o.Q6J("color",e.iconColor),o.xp6(2),o.hij(" ",null==e.myLocation?null:e.myLocation.INDIRIZZO," ")}}function b(a,u){if(1&a&&(o.TgZ(0,"ion-item"),o._UZ(1,"ion-icon",24),o.TgZ(2,"ion-label"),o._uU(3),o.qZA()()),2&a){const e=o.oxw(2);o.xp6(1),o.Q6J("color",e.iconColor),o.xp6(2),o.Oqu(null==e.myLocation?null:e.myLocation.TELEFONO)}}function N(a,u){if(1&a&&(o.TgZ(0,"ion-card")(1,"ion-card-header")(2,"ion-card-subtitle"),o._uU(3,"Dove"),o.qZA()(),o.TgZ(4,"ion-card-content"),o.YNc(5,U,4,2,"ion-item",15),o.YNc(6,R,4,2,"ion-item",15),o.YNc(7,b,4,2,"ion-item",15),o.qZA()()),2&a){const e=o.oxw();o.xp6(5),o.Q6J("ngIf",null==e.myLocation?null:e.myLocation.COMUNE),o.xp6(1),o.Q6J("ngIf",null==e.myLocation?null:e.myLocation.INDIRIZZO),o.xp6(1),o.Q6J("ngIf",null==e.myLocation?null:e.myLocation.TELEFONO)}}function v(a,u){if(1&a){const e=o.EpF();o.TgZ(0,"app-payment-mode",32),o.NdJ("onPaymentModeChoosed",function(s){return o.CHM(e),o.oxw(2).onPaymentModeSelected(s)}),o.qZA()}if(2&a){const e=o.oxw(2);o.Q6J("arPayment",e.myListPayment)}}function S(a,u){1&a&&(o.TgZ(0,"ion-item",33)(1,"ion-chip",34),o._uU(2,"Iscrizione Gratuita"),o.qZA()())}function B(a,u){if(1&a){const e=o.EpF();o.TgZ(0,"ion-list")(1,"ion-item",25),o.NdJ("click",function(){o.CHM(e);const s=o.oxw();return s.disclaimer=!s.disclaimer}),o.TgZ(2,"ion-checkbox",26),o.NdJ("ngModelChange",function(s){return o.CHM(e),o.oxw().disclaimer=s})("click",function(s){return s.stopPropagation()}),o.qZA(),o.TgZ(3,"ion-label",8)(4,"p"),o._uU(5,"Lette e approvate le "),o.TgZ(6,"a",2),o.NdJ("click",function(s){o.CHM(e);const _=o.oxw();return s.stopPropagation(),_.onClickCondizioniVendita()}),o._uU(7,"condizioni di vendita"),o.qZA()()()(),o.YNc(8,v,1,1,"app-payment-mode",27),o.YNc(9,S,3,0,"ion-item",28),o.TgZ(10,"ion-item",29)(11,"ion-label",30),o._uU(12,"Totale"),o.qZA(),o.TgZ(13,"ion-label",31),o._uU(14),o.ALo(15,"currency"),o.qZA()()()}if(2&a){const e=o.oxw();o.xp6(2),o.Q6J("ngModel",e.disclaimer),o.xp6(6),o.Q6J("ngIf",null==e.myCorso?null:e.myCorso.isAPagamento()),o.xp6(1),o.Q6J("ngIf",!(null!=e.myCorso&&e.myCorso.isAPagamento())),o.xp6(5),o.hij(" ",o.xi3(15,4,null==e.myCorso?null:e.myCorso.PREZZOLORDO,"EUR")," ")}}function k(a,u){if(1&a&&(o.TgZ(0,"ion-list")(1,"ion-item",29)(2,"ion-label",30),o._uU(3,"Prezzo"),o.qZA(),o.TgZ(4,"ion-label",31),o._uU(5),o.ALo(6,"currency"),o.qZA()(),o.TgZ(7,"ion-item",13)(8,"ion-label",35)(9,"ion-text",33),o._uU(10,"Contatta la struttura per maggiori informazioni"),o.qZA()()()()),2&a){const e=o.oxw();o.xp6(5),o.hij(" ",o.xi3(6,1,null==e.myCorso?null:e.myCorso.PREZZOLORDO,"EUR")," ")}}function q(a,u){if(1&a){const e=o.EpF();o.TgZ(0,"ion-row")(1,"ion-col")(2,"ion-button",36),o.NdJ("click",function(){return o.CHM(e),o.oxw().onConfirm()}),o._uU(3," Conferma Iscrizione "),o.qZA()()()}if(2&a){const e=o.oxw();o.xp6(2),o.Q6J("disabled",!e.enableButtonIscrizione())}}let w=(()=>{class a{constructor(e,t,s,_,p,z,J,F){this.startService=e,this.navParams=t,this.modalCtrl=s,this.docStructureService=_,this.loadingController=p,this.toastCtrl=z,this.alertCtrl=J,this.navCtrl=F,this.myCorso=new A._,this.myLocation=new P.Y,this.iconColor="primary",this.userLogged=!1,this.enableIscrizioni=!1,this.disclaimer=!1,this.onlyDaysCorso=[],this.flagPostiDisponibili=!1,this.txtPostiDisponibili="",this.onListenSelectedArea(),this.onListenSelectedUser()}onListenSelectedArea(){this.listenSelectedArea=this.startService.areaSelected.subscribe(e=>{this.selectedArea=e,this.setListPayment(),this.enableIscrizioni=1==this.selectedArea.APPISCRIZIONI},e=>{this.enableIscrizioni=!1})}onListenSelectedUser(){this.subUserLogged=this.startService.utenteLogged.subscribe(e=>{this.userLogged=e}),this.subUser=this.startService.utente.subscribe(e=>{this.docUser=e})}ngOnInit(){this.isDesktop=!1,this.myCorso=this.navParams.get("params"),null==this.myCorso||null==this.myCorso?(this.showToastMessage("Corso non trovato"),this.closeModal()):(this.onlyDaysCorso=this.myCorso.getArrayGiorniCorso(),this.requestPostiDisponibili(this.myCorso.ID),this.loadingController.create({spinner:"circular",message:"Caricamento",backdropDismiss:!0}).then(e=>{e.present(),this.requestLocationById(this.myCorso.IDLOCATION).then(()=>{e.dismiss()}).catch(t=>{e.dismiss(),this.showToastMessage("Spiacenti, errori nel recupero del corso"),this.closeModal()})}))}requestPostiDisponibili(e){this.startService.getPostiDisponibiliCorso(e).then(t=>{this.flagPostiDisponibili=!!t.result,this.txtPostiDisponibili=t.message})}ngOnDestroy(){this.subMyCorso&&this.subMyCorso.unsubscribe(),this.subUserLogged&&this.subUserLogged.unsubscribe(),this.listenSelectedArea&&this.listenSelectedArea.unsubscribe()}requestLocationById(e){let t=new P.Y(!0);return new Promise((s,_)=>{t.ID=e,this.docStructureService.requestNew(t).then(p=>{p&&0!=p.length?(this.myLocation=p[0],s()):_("Location not found")}).catch(p=>{_("Connection error"+p)})})}getIcon(e){return this.startService.getSportIcon(e.IDSPORT)}onClickCondizioniVendita(){let e;this.selectedArea&&(e=this.selectedArea.findAreaLinkByPageType(n.GV.condizioniVenditaIscrizioni),e&&e.REFERURL&&this.openLink(e.REFERURL))}onClickButtonHeader(){this.flagPostiDisponibili||this.closeModal()}enableButtonIscrizione(){let e;return this.disclaimer&&this.flagPostiDisponibili&&(this.myCorso.isAPagamento()?this.mySelectedPayment&&(e=!0):e=!0),e}setListPayment(){this.myListPayment=[],this.selectedArea&&(this.myListPayment=this.selectedArea.getPaymentFor(n.O4.settorePagamentoCorso),this.mySelectedPayment=this.myListPayment&&0!=this.myListPayment.length?this.myListPayment[0]:null)}onPaymentSelected(e){this.mySelectedPayment=e}onPaymentModeSelected(e){this.myPaymentMode=e}onConfirm(){this.onExecPayment()}onExecPayment(){let e=[n.x6.pagaAdesso,n.x6.pagaBonifico,n.x6.pagaStruttura];if(this.myCorso.isAPagamento())if(e.includes(this.myPaymentMode))if(this.myPaymentMode==n.x6.pagaBonifico||this.myPaymentMode==n.x6.pagaStruttura){let t=new g.b(this.myPaymentMode);this.onPaymentSuccess(t)}else{let t=new g.b(this.myPaymentMode);t.amount=this.myCorso.PREZZOLORDO,t.description="Pagamento Iscrizione Corso "+this.myCorso.DENOMINAZIONE,t.currency="EUR",this.modalCtrl.create({component:c.t,componentProps:{paymentData:t,listAreaPaymentSettings:this.myListPayment}}).then(s=>(s.present(),s.onDidDismiss())).then(s=>{let _=s.data;_?_.processResult?this.onPaymentSuccess(_):this.onPaymentFailed(_):(_=new g.b(this.myPaymentMode),_.processResult=!1,_.messageResult="Pagamento fallito",this.onPaymentFailed(_))})}else this.showToastMessage("E' necessario selezionare un pagamento");else{let t=new g.b(n.x6.pagaStruttura);this.onPaymentSuccess(t)}}onPaymentSuccess(e){let t,s;t=this.prepareDocIscrizione(),s=new T.P,e&&e.processResult&&(0==e.idElectronicResult.length?this.myCorso.isAPagamento()?(s.IDTRANSACTION="",s.IDORDER="",s.MODALITA=e.channelPayment,s.TIPORIGO=n.tE.scadenza,s.DATASCADENZA=this.myCorso.DATAINIZIO,s.IMPORTO=this.myCorso.PREZZOLORDO):(s.IDTRANSACTION="",s.IDORDER="",s.MODALITA=n.$s.onSite,s.TIPORIGO=n.tE.incassato,s.DATAOPERAZIONE=t.DATAISCRIZIONE,s.IMPORTO=0):(s.IDTRANSACTION="",s.IDORDER=e.idElectronicResult,s.MODALITA=e.channelPayment,s.TIPORIGO=n.tE.incassato,s.DATAOPERAZIONE=t.DATAISCRIZIONE,s.IMPORTO=this.myCorso.PREZZOLORDO),t.ISCRIZIONEINCASSO.push(s),this.loadingController.create({message:"Richiesta Iscrizione",spinner:"circular"}).then(_=>{_.present(),this.startService.requestSaveIscrizione(t).then(p=>{_.dismiss(),p.result&&p.code&&0!=p.code.length?this.onAfterSaveIscrizione(p.code):this.showAlert(p.message,"Iscrizione Fallita")}).catch(p=>{_.dismiss(),this.showAlert(p.message,"Iscrizione Fallita")})}))}onAfterSaveIscrizione(e){this.showToastMessage("Iscrizione confermata"),this.closeModal(),this.navCtrl.navigateRoot(["historylist/course",e])}onPaymentFailed(e){let t="Si sono verificati errori nel pagamento";e&&e.messageResult&&(t=e.messageResult),this.showAlert(t,"Pagamento Fallito")}prepareDocIscrizione(){let e=new f.T;return this.myCorso&&this.docUser&&(e.IDCORSO=this.myCorso.ID,e.IDUTENTE=this.docUser.ID,e.DATAISCRIZIONE=new Date),e}showToastMessage(e){this.toastCtrl.create({message:e,duration:3e3})}showAlert(e,t,s){(!s||0==s.length)&&(s=[]).push("Ok"),this.alertCtrl.create({header:t||"Attenzione",message:e,buttons:s}).then(_=>{_.present()})}closeModal(){this.modalCtrl.dismiss()}openLink(e){Z.A.open({url:e})}}return a.\u0275fac=function(e){return new(e||a)(o.Y36(h.D),o.Y36(i.X1),o.Y36(i.IN),o.Y36(C.l),o.Y36(i.HT),o.Y36(i.yF),o.Y36(i.Br),o.Y36(i.SH))},a.\u0275cmp=o.Xpm({type:a,selectors:[["app-bookcourse"]],decls:85,vars:42,consts:[["color","primary"],["slot","primary"],[3,"click"],["slot","icon-only","ios","close","md","close"],[2,"background-color","#EFF1F8"],[1,"griglia-principale"],["expand","block",1,"full-buttons",3,"color","click"],["slot","end",3,"name"],[1,"ion-text-wrap"],["button","false","lines","none",1,"ion-no-padding"],["slot","start",1,"icon-sport"],[3,"innerHTML"],[1,"ion-no-padding"],["lines","none"],[2,"font-weight","bold"],[4,"ngIf"],["lines","none",4,"ngIf"],["name","stats-chart-outline","slot","start",3,"color"],["name","bookmark-outline","slot","start",3,"color"],["color","danger"],[4,"ngFor","ngForOf"],["name","transgender-outline","slot","start",3,"color"],["name","home-outline","slot","start",3,"color"],["name","navigate-outline","slot","start",3,"color"],["name","call-outline","slot","start",3,"color"],["button","","lines","full",3,"click"],["slot","start",3,"ngModel","ngModelChange","click"],[3,"arPayment","onPaymentModeChoosed",4,"ngIf"],["class","ion-text-center",4,"ngIf"],["lines","none","id","item-totale"],["slot","start"],[2,"text-align","right"],[3,"arPayment","onPaymentModeChoosed"],[1,"ion-text-center"],["color","danger",1,"wide"],[1,"ion-text-wrap","ion-text-center"],["color","tertiary","expand","block",1,"full-buttons",3,"disabled","click"]],template:function(e,t){1&e&&(o.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1)(3,"ion-button",2),o.NdJ("click",function(){return t.closeModal()}),o._UZ(4,"ion-icon",3),o.qZA()(),o.TgZ(5,"ion-title"),o._uU(6,"Iscrizione"),o.qZA()()(),o.TgZ(7,"ion-content")(8,"div",4)(9,"ion-grid",5)(10,"ion-row")(11,"ion-col")(12,"ion-button",6),o.NdJ("click",function(){return t.onClickButtonHeader()}),o._UZ(13,"ion-icon",7),o.TgZ(14,"h6",8),o._uU(15),o.qZA()()()(),o.TgZ(16,"ion-row")(17,"ion-col")(18,"ion-card")(19,"ion-card-header")(20,"ion-card-subtitle"),o._uU(21,"Iscrizione al corso"),o.qZA(),o.TgZ(22,"ion-card-title"),o._uU(23),o.qZA(),o.TgZ(24,"ion-item",9)(25,"i",10),o._UZ(26,"span",11),o.qZA(),o.TgZ(27,"ion-label")(28,"h6",8),o._uU(29),o.qZA()()()(),o.TgZ(30,"ion-card-content",12)(31,"ion-item",13)(32,"ion-label",8)(33,"ion-text"),o._uU(34,"Il corso inizia\xa0"),o.qZA(),o.TgZ(35,"ion-text",14),o._uU(36),o.ALo(37,"titlecase"),o.ALo(38,"date"),o.qZA(),o.TgZ(39,"ion-text",14),o._uU(40),o.ALo(41,"date"),o.qZA(),o.TgZ(42,"ion-text"),o._uU(43,"\xa0alle ore\xa0"),o.qZA(),o.TgZ(44,"ion-text",14),o._uU(45),o.ALo(46,"date"),o.qZA(),o.TgZ(47,"ion-text"),o._uU(48,"\xa0e si conclude\xa0"),o.qZA(),o.TgZ(49,"ion-text",14),o._uU(50),o.ALo(51,"titlecase"),o.ALo(52,"date"),o.qZA(),o.TgZ(53,"ion-text",14),o._uU(54),o.ALo(55,"date"),o.qZA(),o.YNc(56,I,2,4,"ion-text",15),o.qZA()(),o.YNc(57,M,7,3,"ion-item",16),o.YNc(58,x,5,2,"ion-item",16),o.TgZ(59,"ion-item",13)(60,"ion-label",8)(61,"ion-text"),o._uU(62," Si consiglia di controllare il calendario dettagliato per conoscere i giorni e gli orari precisi del corso. "),o.qZA()()()()()()(),o.TgZ(63,"ion-row")(64,"ion-col")(65,"ion-card")(66,"ion-card-header")(67,"ion-card-subtitle"),o._uU(68,"Rivolto a"),o.qZA()(),o.TgZ(69,"ion-card-content")(70,"ion-item"),o._UZ(71,"ion-icon",17),o.TgZ(72,"ion-label"),o._uU(73),o.qZA()(),o.TgZ(74,"ion-item",13),o._UZ(75,"ion-icon",18),o.TgZ(76,"ion-label"),o._uU(77),o.qZA()(),o.YNc(78,L,5,4,"ion-item",16),o.qZA()(),o.YNc(79,N,8,3,"ion-card",15),o.qZA()()()()(),o.TgZ(80,"ion-footer")(81,"ion-grid"),o.YNc(82,B,16,7,"ion-list",15),o.YNc(83,k,11,4,"ion-list",15),o.YNc(84,q,4,1,"ion-row",15),o.qZA()()),2&e&&(o.xp6(12),o.Q6J("color",t.flagPostiDisponibili?"success":"danger"),o.xp6(1),o.Q6J("name",t.flagPostiDisponibili?"thumbs-up-outline":"ban-outline"),o.xp6(2),o.Oqu(t.txtPostiDisponibili),o.xp6(8),o.Oqu(t.myCorso.DENOMINAZIONE),o.xp6(3),o.Q6J("innerHTML",t.getIcon(t.myCorso),o.oJD),o.xp6(3),o.hij(" ",t.myCorso._DENOMINAZIONE_Sport," "),o.xp6(7),o.hij("",o.lcZ(37,23,o.xi3(38,25,t.myCorso.DATAINIZIO,"EEEE")),"\xa0 "),o.xp6(4),o.Oqu(o.xi3(41,28,t.myCorso.DATAINIZIO,"dd/MM/yyyy")),o.xp6(5),o.Oqu(o.xi3(46,31,t.myCorso.ORAINIZIO,"HH:mm")),o.xp6(5),o.hij("",o.lcZ(51,34,o.xi3(52,36,t.myCorso.DATAFINE,"EEEE")),"\xa0"),o.xp6(4),o.Oqu(o.xi3(55,39,t.myCorso.DATAFINE,"dd/MM/yyyy")),o.xp6(2),o.Q6J("ngIf",t.myCorso.NUMEROLEZIONI),o.xp6(1),o.Q6J("ngIf",1==(null==t.onlyDaysCorso?null:t.onlyDaysCorso.length)),o.xp6(1),o.Q6J("ngIf",(null==t.onlyDaysCorso?null:t.onlyDaysCorso.length)>1),o.xp6(13),o.Q6J("color",t.iconColor),o.xp6(2),o.hij("",t.myCorso._DENOMINAZIONE_Livello?t.myCorso._DENOMINAZIONE_Livello:"Tutti i Livelli"," "),o.xp6(2),o.Q6J("color",t.iconColor),o.xp6(2),o.Oqu(t.myCorso._DESCTOOLTIP_CategoriaEta?t.myCorso._DESCTOOLTIP_CategoriaEta:"Per tutte le et\xe0"),o.xp6(1),o.Q6J("ngIf",t.myCorso.TARGETSESSO),o.xp6(1),o.Q6J("ngIf",(null==t.myLocation?null:t.myLocation.COMUNE)||(null==t.myLocation?null:t.myLocation.INDIRIZZO)||(null==t.myLocation?null:t.myLocation.TELEFONO)),o.xp6(3),o.Q6J("ngIf",t.flagPostiDisponibili),o.xp6(1),o.Q6J("ngIf",!t.flagPostiDisponibili),o.xp6(1),o.Q6J("ngIf",t.flagPostiDisponibili))},directives:[i.Gu,i.sr,i.Sm,i.YG,i.gu,i.wd,i.W2,i.jY,i.Nd,i.wI,i.PM,i.Zi,i.tO,i.Dq,i.Ie,i.Q$,i.FN,i.yW,d.O5,d.sg,i.fr,i.q_,i.nz,i.w,l.JJ,l.On,m.e,i.hM],pipes:[d.rS,d.uU,O.u,d.H9],styles:[".griglia-principale[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding:0}h6[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:4px;font-size:15px}h4[_ngcontent-%COMP%]{margin-top:4px;margin-bottom:5px;font-weight:600}.left-col[_ngcontent-%COMP%]{border-right-style:solid;border-width:thin;border-color:#eff1f8}p[_ngcontent-%COMP%]{font-size:13px}ion-button.full-buttons[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}#item-totale[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:20px}ion-chip.wide[_ngcontent-%COMP%]{width:100%;justify-content:center}"]}),a})()},9821:(E,y,r)=>{r.d(y,{V:()=>o}),r(2015);var A=r(9442),P=r(8223),g=r(7266),n=r(2096),c=r(5362),h=r(9808);function Z(i,d){if(1&i&&(n.TgZ(0,"ion-item",11)(1,"ion-col",12)(2,"div",13)(3,"h5"),n._uU(4),n.ALo(5,"titlecase"),n.ALo(6,"date"),n.qZA(),n.TgZ(7,"h4"),n._uU(8),n.ALo(9,"date"),n.ALo(10,"uppercase"),n.ALo(11,"date"),n.ALo(12,"date"),n.qZA(),n.TgZ(13,"h6"),n._uU(14),n.qZA()()(),n.TgZ(15,"ion-col",14)(16,"ion-card",15)(17,"ion-card-content",16)(18,"ion-list",17)(19,"ion-item",18),n._UZ(20,"ion-icon",19),n.TgZ(21,"ion-label"),n._uU(22),n.ALo(23,"date"),n.qZA()(),n.TgZ(24,"ion-item",20),n._UZ(25,"ion-icon",21),n.TgZ(26,"ion-label"),n._uU(27),n.ALo(28,"date"),n.qZA(),n.TgZ(29,"ion-badge",22),n._uU(30),n.qZA()()()()()()()),2&i){const l=d.$implicit,m=n.oxw(2);n.xp6(4),n.hij(" ",n.lcZ(5,10,n.xi3(6,12,l.DATA,"EEEE"))," "),n.xp6(4),n.lnq(" ",n.xi3(9,15,l.DATA,"d")," ",n.lcZ(10,18,n.xi3(11,20,l.DATA,"MMM"))," '",n.xi3(12,23,l.DATA,"yy")," "),n.xp6(6),n.hij(" ",l._DENOMINAZIONE_Campo," "),n.xp6(5),n.Q6J("color",m.colorItem(l)),n.xp6(3),n.hij(" ",n.xi3(23,26,l.DATAORAINIZIO,"HH:mm"),""),n.xp6(5),n.hij(" ",n.xi3(28,29,l.DATAORAFINE,"HH:mm"),""),n.xp6(2),n.Q6J("color",m.colorItem(l)),n.xp6(1),n.hij("",l.ORELEZIONE," h")}}function f(i,d){if(1&i&&(n.TgZ(0,"ion-list",9),n.YNc(1,Z,31,32,"ion-item",10),n.qZA()),2&i){const l=n.oxw();n.xp6(1),n.Q6J("ngForOf",l.calendarCorso)}}function T(i,d){1&i&&(n.TgZ(0,"div",23)(1,"ion-label"),n._uU(2,"Programmazione"),n.qZA(),n.TgZ(3,"ion-label"),n._uU(4,"non disponibile"),n.qZA()())}let o=(()=>{class i{constructor(l,m,O,I){this.mdlController=l,this.docStructureService=m,this.loadingController=O,this.toastController=I,this.calendarCorso=[],this.ricevuti=!1}ngOnInit(){let l=new A.N(!0);l.IDCORSO=this.myCorso.ID;let m=new g.Kl;m.decode=new g.dR,m.decode.active=!0,this.loadingController.create({message:"Caricamento...",spinner:"circular",backdropDismiss:!0}).then(O=>{O.present(),this.docStructureService.requestNew(l,m).then(I=>{O.dismiss(),this.calendarCorso=I}).catch(I=>{O.dismiss(),this.showMessage("Errore di connessione"),console.log(I)})})}closeCalendar(){this.mdlController.dismiss()}colorItem(l){let m="success";return l.eventoPassato()&&(m="danger"),m}showMessage(l){this.toastController.create({message:l,duration:3e3}).then(m=>{m.present()})}}return i.\u0275fac=function(l){return new(l||i)(n.Y36(c.IN),n.Y36(P.l),n.Y36(c.HT),n.Y36(c.yF))},i.\u0275cmp=n.Xpm({type:i,selectors:[["app-calendar"]],inputs:{myCorso:"myCorso"},decls:14,vars:5,consts:[[1,"ion-no-border"],["color","primary"],["slot","start"],["name","calendar"],["slot","end"],[3,"click"],["name","close"],["class","ion-no-padding","id","cal-find",4,"ngIf"],["class","nofind-cnt",4,"ngIf"],["id","cal-find",1,"ion-no-padding"],["class","ion-no-padding ion-no-margin","color","light",4,"ngFor","ngForOf"],["color","light",1,"ion-no-padding","ion-no-margin"],["size","4",1,"colGiorno"],[1,"contentGiorno","ion-no-padding"],["size","8",1,"colOrario"],["mode","ios",1,"ion-no-margin","ion-no-padding"],[1,"ion-no-margin","ion-no-padding"],[1,"ion-no-margin"],["lines","none",3,"color"],["name","play","slot","start"],["lines","none"],["name","pause","slot","start"],["slot","end",3,"color"],[1,"nofind-cnt"]],template:function(l,m){1&l&&(n.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2)(3,"ion-button"),n._UZ(4,"ion-icon",3),n.qZA()(),n.TgZ(5,"ion-title"),n._uU(6),n.ALo(7,"titlecase"),n.qZA(),n.TgZ(8,"ion-buttons",4)(9,"ion-button",5),n.NdJ("click",function(){return m.closeCalendar()}),n._UZ(10,"ion-icon",6),n.qZA()()()(),n.TgZ(11,"ion-content"),n.YNc(12,f,2,1,"ion-list",7),n.YNc(13,T,5,0,"div",8),n.qZA()),2&l&&(n.xp6(6),n.Oqu(n.lcZ(7,3,m.myCorso.DENOMINAZIONE)),n.xp6(6),n.Q6J("ngIf",0!==m.calendarCorso.length),n.xp6(1),n.Q6J("ngIf",m.ricevuti&&0===m.calendarCorso.length))},directives:[c.Gu,c.sr,c.Sm,c.YG,c.gu,c.wd,c.W2,h.O5,c.q_,h.sg,c.Ie,c.wI,c.PM,c.FN,c.Q$,c.yp],pipes:[h.rS,h.uU,h.gd],styles:["h5[_ngcontent-%COMP%]{color:var(--ion-color-primary)}.colGiorno[_ngcontent-%COMP%]{background-color:var(--ion-color-light)}.colOrario[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%]{background-color:var(--ion-color-light)}.contentGiorno[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:var(--ion-color-light);align-items:center}.contentGiorno[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--ion-color-primary);margin:0;font-weight:600;font-size:18px}.contentGiorno[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:var(--ion-color-primary);margin:0}.contentGiorno[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0}.contentOrari[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:var(--ion-color-light);align-items:flex-start}.contentOrari[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .contentOrari[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .contentOrari[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--ion-color-medium);padding:0;margin:0}ion-card[_ngcontent-%COMP%]{background-color:var(--ion-color-primary-contrast)}col-content[_ngcontent-%COMP%]{background-color:var(--ion-color-light)}ion-content[_ngcontent-%COMP%]{--background: var(--ion-color-light) }"]}),i})()},1626:(E,y,r)=>{r.d(y,{u:()=>P});var C=r(4021),A=r(2096);let P=(()=>{class g{transform(c){let h="";return h=C.Gs.decode(C.Jw,c),h}}return g.\u0275fac=function(c){return new(c||g)},g.\u0275pipe=A.Yjl({name:"targetSesso",type:g,pure:!0}),g})()}}]);