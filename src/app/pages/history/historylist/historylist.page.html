 <ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/"></ion-back-button>
    </ion-buttons>
    <ion-title *ngIf="selectedView=='corsi'">I miei corsi</ion-title>
    <ion-title *ngIf="selectedView=='prenotazioni'">Le mie prenotazioni</ion-title>

    <!-- <ion-buttons slot="end">
      <ion-button>
        <ion-icon name="filter"></ion-icon>
      </ion-button>
    </ion-buttons> -->
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>
  <!-- PARTE CORSI -->
  <div class="contentExpand" *ngIf="selectedView=='corsi'">

      <!-- NESSUN CORSO-->
      <div class="nofind-cnt" *ngIf="listUtenteCorsi!.length === 0">
        <ion-label>Nessuna Iscrizione Corso</ion-label>
        <ion-label>trovata</ion-label>
      </div>

        <ion-list *ngIf="listUtenteCorsi!.length !== 0">
          <ion-item button *ngFor="let corso of listUtenteCorsi" (click)="onClickCorso(corso)" >
            <ion-buttons slot="start">
              <ion-grid class="ion-no-padding">
                <ion-row class="ion-no-padding">
                  <ion-col class="ion-no-padding ion-text-center">
                    <ion-icon name="school" class="icon-school" [color]="corso.DATAFINECORSO>today&&corso.DATAINIZIOCORSO<today? 'primary': 'light'"></ion-icon>
                  </ion-col>
                </ion-row>
                <ion-row class="ion-no-padding">
                  <ion-col class="ion-no-padding ion-text-center">
                    <p class="icon-text ion-no-margin">{{corso.DATAFINECORSO<today? 'Fino al':'Dal'}}</p>
                    <p class="icon-text">{{corso.DATAFINECORSO<today? (corso.DATAINIZIOCORSO | date: 'dd/LL/yy'): (corso.DATAFINECORSO|date: 'dd/LL/yy')}}</p>
                  </ion-col>
                </ion-row>
              </ion-grid>
            </ion-buttons>
            <ion-label>
              <h1>{{corso.DENOMINAZIONECORSO}}</h1>
              <h2>{{corso.DENOMINAZIONESPORT}}</h2>
              <p>{{corso.GIORNIPREVISTI|giorniPrevisti: lingua|titlecase}} </p>
              <h3>{{corso.COMUNELOCATION|titlecase}}, {{corso.INDIRIZZOLOCATION|titlecase}}</h3> <!--Quando abbiamo la decodifica inseriamo anche questo-->
            </ion-label>
            <ion-chip color="primary">
              {{corso.ORAINIZIOCORSO|date: 'HH:mm'}}
            </ion-chip>
          </ion-item>
        </ion-list>
  </div>

  <!-- PARTE PRENOTAZIONI -->
  <div class="contentExpand" *ngIf="selectedView=='prenotazioni'">

      <!-- NESSUNA PRENOTAZIONE-->
      <div class="nofind-cnt" *ngIf="listUtentePrenotazione!.length === 0">
        <ion-label>Nessuna Prenotazione Campi</ion-label>
        <ion-label>trovata</ion-label>
      </div>

      <!-- Lista prenotazioni -->
      <ion-list *ngIf="listUtentePrenotazione!.length !== 0">
        <ion-item button 
                *ngFor="let prenotazione of listUtentePrenotazione" 
                (click)="onClickPrenotazione(prenotazione)">

          <ion-icon 
              name="calendar" 
              slot="start" 
              [color]="prenotazione.DATAORAFINE<today? 'light': 'primary'">

          </ion-icon>
          

          <ion-label>
            <p>{{prenotazione.DATAORAINIZIO | date : 'dd/MM/yyyy'}}</p>
            <h1>{{prenotazione.DATAORAINIZIO | date: 'EEEE'|titlecase}} ore {{prenotazione.DATAORAINIZIO | date: 'HH:mm'}}</h1>
            <h3>{{(prenotazione.COMUNELOCATION +', '+ prenotazione.INDIRIZZOLOCATION)|titlecase}}</h3> <!--anche qui manca decodifica centro sportivo-->
          </ion-label>
          <ion-chip color="primary">{{prenotazione.DURATAORE}} {{prenotazione.DURATAORE==1? 'Ora' : 'Ore'}}</ion-chip>
        </ion-item>
      </ion-list>

  </div>
</ion-content>

<ion-footer>
  <ion-segment value="prenotazioni" (ionChange)="onChangeSegment($event)" mode="md">
    <ion-segment-button class="ion-no-padding" value="prenotazioni" layout="icon-start">
      <ion-icon name="calendar"></ion-icon>
      Prenotazioni
    </ion-segment-button>
    <ion-segment-button value="corsi" layout="icon-start">
      <ion-icon name="school"></ion-icon>
      corsi
    </ion-segment-button>
  </ion-segment>
</ion-footer>