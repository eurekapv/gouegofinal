<ion-header>

  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button  defaultHref="/"></ion-back-button>
    </ion-buttons>
    <ion-title>Prenota</ion-title>
  </ion-toolbar>

  <ion-toolbar mode="md">
    <!-- MODALITA AUTOMATICA, MANUALE-->
    <!-- <ion-segment 
      class="ion-no-margin ion-no-padding"
      (ionChange)="onChangeVersion($event)" 
      value="manual"
      *ngIf = "ricevuti">

    <ion-segment-button 
      value="manual">
        <ion-label>Manuale</ion-label>
    </ion-segment-button>

    <ion-segment-button 
      value="auto">
        <ion-label>Automatico</ion-label>
    </ion-segment-button>
  </ion-segment> -->

    <app-sport-scroll [selectedSport]="selectedSport" [sportList]="listLocationSport" (sportChanged)="onChangeSport($event)"></app-sport-scroll>
    <ion-list *ngIf="ricevuti && bookable" 
        class="item-campo ion-no-padding">

        <ion-slides 
              class="ion-no-margin ion-no-padding" 
              (ionSlideDidChange)="onDidChangeCampo($event)"
              #sliderCampi>
          <ion-slide *ngFor="let campo of availableFields; let i=index" >

            <ion-item lines="none" class="item-campo">
              <ion-icon 
                  name="location" 
                  slot="start" 
                  color="primary"></ion-icon>
              <ion-label class="label-header">
                <h2>{{ campo.DENOMINAZIONE }}</h2>
                <h6>{{ selectedLocation.INDIRIZZO }}</h6>
              </ion-label>
              <ion-icon 
                  name="chevron-forward-circle-outline"
                  color="primary"
                  slot="end"
                  *ngIf="i+1 < availableFields.length">
              </ion-icon>
            </ion-item>
          </ion-slide>    
        </ion-slides>
    </ion-list>
  </ion-toolbar>

</ion-header>

<ion-content>

  <!-- PRENOTAZIONE NON POSSIBILE-->
  <div class="nofind-cnt" *ngIf="ricevuti && !bookable">
    <ion-label>Prenotazione</ion-label>
    <ion-label>non disponibile</ion-label>
  </div>

  
  <!-- ITEM DEL CALENDARIO -->
  <app-calendarscroll 
    *ngIf="ricevuti && bookable" 
    [activeDay]="actualBookDay"
    (onChangeActiveDay)="onChangeBookDay($event)"></app-calendarscroll>

        
  <div *ngIf="ricevuti && bookable">
    
    <!-- TITOLO SLOT TIME -->
    <ion-item class="item-transparent">
      <ion-label class="ion-padding-horizontal">SCEGLI L'ORARIO:</ion-label>
      <ion-spinner name="circular" color="primary" *ngIf="actualSlotDay._TEMPLATELOCK"></ion-spinner>
    </ion-item>

    <!-- VISUALIZZO GLI SLOT TIME SE E' APERTO-->
    <ion-grid *ngIf="actualSlotDay.APERTOCHIUSO">
      <ion-row class="ion-no-margin ion-no-padding">
        <ion-col
            class="ion-no-margin ion-no-padding" 
            *ngFor="let slot of actualSlotDay.SLOTTIMES"
            size="6"
            sizeXl="3"
            sizeLg="4"
            sizeMd="6"
            sizeSm="12"
            sizeXs="12">
          <app-slottime  [mySlot]="slot" [readOnly]="actualSlotDay._TEMPLATELOCK" (clickSlot)="myClickSlot($event)"></app-slottime>
        </ion-col>
      </ion-row>
    </ion-grid>


    <div class="nofind-cnt" *ngIf="!actualSlotDay.APERTOCHIUSO">
      <ion-label>Centro Chiuso</ion-label>
      <ion-label>nella giornata selezionata</ion-label>
    </div>

  </div>


</ion-content>
<!-- PRENOTAZIONE SELEZIONATA -->
<ion-footer *ngIf="visibleFooter()">
  <app-footbooked 
    [myPrenotaPianifica]="actualPlanning" 
    (clickPrenota)="myClickPrenota($event)"></app-footbooked>
</ion-footer>
