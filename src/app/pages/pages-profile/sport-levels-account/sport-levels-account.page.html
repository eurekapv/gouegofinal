<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button [defaultHref]="backButtonHref"></ion-back-button>
    </ion-buttons>
    <ion-title>LIVELLI ATTIVITÀ</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

  <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>

  <div class="page-container">

    <!-- INFO BOX -->
    <div class="info-box" *ngIf="utente.UTENTILIVELLI && utente.UTENTILIVELLI.length > 0">
      <ion-icon name="information-circle" class="info-icon"></ion-icon>
      <p>I tuoi livelli verranno utilizzati per determinare i corsi più adatti a te</p>
    </div>

    <!-- GRID LIVELLI -->
    <div class="levels-grid" *ngIf="utente.UTENTILIVELLI && utente.UTENTILIVELLI.length > 0">
      
      <div class="level-card" *ngFor="let livello of utente.UTENTILIVELLI" [id]="livello.ID">
        
        <!-- Header con gradiente -->
        <div class="card-header">
          
          <!-- Logo gruppo (se presente) -->
          <div class="logo-container" *ngIf="showLogoGruppo">
            <img [src]="logoGruppoBase64" alt="Logo" class="gruppo-logo">
          </div>

          <!-- Icona trofeo -->
          <div class="trophy-icon">
            <ion-icon name="trophy"></ion-icon>
          </div>

        </div>

        <!-- Body della card -->
        <div class="card-body">
          
          <!-- Nome Sport -->
          <h2 class="sport-name">{{ livello.DESCRSPORT }}</h2>

          <!-- Badge Livello -->
          <div class="level-badge">
            <ion-icon name="medal"></ion-icon>
            <span>{{ livello.DESCRLIVELLO }}</span>
          </div>

        </div>

        <!-- Footer con dettagli -->
        <div class="card-footer">
          <div class="footer-item">
            <ion-icon name="checkmark-circle"></ion-icon>
            <span>Certificato</span>
          </div>
        </div>

      </div>

    </div>

    <!-- EMPTY STATE -->
    <div class="empty-state" *ngIf="!utente.UTENTILIVELLI || utente.UTENTILIVELLI.length == 0">
      <div class="empty-icon">
        <ion-icon name="trophy-outline"></ion-icon>
      </div>
      <h3>Nessun livello assegnato</h3>
      <p>Per il momento non hai ancora nessun livello. Potrai ottenere un livello dopo aver frequentato una prova presso le nostre strutture</p>
    </div>

  </div>

</ion-content>